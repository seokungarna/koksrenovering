{"version":3,"sources":["webpack:///./node_modules/lodash/isSymbol.js","webpack:///./node_modules/lodash/_basePropertyOf.js","webpack:///./node_modules/react-feather/dist/icons/chevron-down.js","webpack:///./src/components/Accordion.js","webpack:///./src/components/BackgroundVideo.js","webpack:///./src/components/Gallery.js","webpack:///./src/components/Popup.js","webpack:///./src/templates/ComponentsPage.js","webpack:///./node_modules/lodash/words.js","webpack:///./node_modules/lodash/_unicodeWords.js","webpack:///./node_modules/lodash/_getRawTag.js","webpack:///./node_modules/react-photoswipe/lib/PhotoSwipe.js","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./node_modules/photoswipe/dist/photoswipe-ui-default.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/lodash/_root.js","webpack:///./node_modules/lodash/kebabCase.js","webpack:///./node_modules/lodash/_baseGetTag.js","webpack:///./node_modules/react-photoswipe/lib/PhotoSwipeGallery.js","webpack:///./node_modules/lodash/deburr.js","webpack:///./node_modules/classnames/index.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///./node_modules/lodash/isArray.js","webpack:///./node_modules/react-photoswipe/lib/events.js","webpack:///./node_modules/lodash/_arrayReduce.js","webpack:///./node_modules/lodash/_asciiWords.js","webpack:///./node_modules/lodash/toString.js","webpack:///./node_modules/lodash/_arrayMap.js","webpack:///./node_modules/lodash/_hasUnicodeWord.js","webpack:///./node_modules/react-photoswipe/lib/index.js","webpack:///./node_modules/lodash.pick/index.js","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./node_modules/lodash/_deburrLetter.js","webpack:///./node_modules/lodash/_createCompounder.js","webpack:///./node_modules/photoswipe/dist/photoswipe.js","webpack:///./node_modules/lodash/_baseToString.js"],"names":["baseGetTag","isObjectLike","module","exports","value","object","key","undefined","_extends","Object","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","props","color","size","otherProps","createElement","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","points","propTypes","string","oneOfType","number","defaultProps","Accordion","handleClick","event","classList","toggle","render","items","className","map","item","index","_kebabCase","title","onClick","description","link","href","linkTitle","React","Component","BackgroundVideo","state","playing","mobileWidth","ref","createRef","updateDimensions","setState","window","innerWidth","handelPlay","ReactDOM","findDOMNode","current","removeEventListener","componentDidMount","addEventListener","e","componentWillUnmount","poster","videoTitle","children","playsInline","autoPlay","muted","loop","preload","Image","background","src","alt","Gallery","loaded","isOpen","sliderImages","getImageInfo","img","fetch","image","then","res","json","result","newImagesArr","w","h","error","console","log","images","maxCount","loopCount","resolutions","options","history","onClose","Popup","showPopup","togglePopup","class","bind","ComponentsPageTemplate","subtitle","featuredImage","section1","section2","video","videoPoster","accordion","gallery","body","PageHeader","backgroundImage","Content","type","pageQuery","ComponentsPage","page","data","Layout","meta","frontmatter","html","asciiWords","hasUnicodeWord","toString","unicodeWords","pattern","guard","match","rsBreakRange","rsMathOpRange","rsBreak","rsDigits","rsDingbat","rsLower","rsMisc","rsRegional","rsSurrPair","rsUpper","rsMiscLower","rsMiscUpper","reOptMod","rsModifier","rsSeq","join","rsEmoji","reUnicodeWord","RegExp","Symbol","objectProto","nativeObjectToString","symToStringTag","toStringTag","isOwn","tag","unmasked","defineProperty","_createClass","defineProperties","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react2","_interopRequireDefault","_propTypes2","_photoswipe2","_photoswipeUiDefault2","_classnames2","_events2","obj","__esModule","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","PhotoSwipe","_React$Component","_ref","_temp","_this","_len","args","Array","_key","__proto__","getPrototypeOf","concat","_initialiseProps","subClass","superClass","create","constructor","setPrototypeOf","_inherits","_this2","id","trim","tabIndex","role","node","pswpElement","bool","isRequired","array","func","_this3","openPhotoSwipe","componentWillReceiveProps","nextProps","updateItems","closePhotoSwipe","photoSwipe","forEach","callback","listen","_len2","_key2","unshift","handleClose","init","push","invalidateCurrItems","updateSize","close","pswp","framework","_fullscrenAPI","_controls","_captionContainer","_fakeCaptionContainer","_indexIndicator","_shareButton","_shareModal","_initalCloseOnScrollValue","_isIdle","_listen","_loadingIndicator","_loadingIndicatorHidden","_loadingIndicatorTimeout","_galleryHasOneSlide","_options","_blockControlsTap","_idleInterval","_idleTimer","ui","_overlayUIUpdated","_controlsVisible","_shareModalHidden","_defaultUIOptions","barsSize","top","bottom","closeElClasses","timeToIdle","timeToIdleOutside","loadingIndicatorDelay","addCaptionHTMLFn","captionEl","innerHTML","closeEl","fullscreenEl","zoomEl","shareEl","counterEl","arrowEl","preloaderEl","tapToClose","tapToToggleControls","clickToCloseNonZoomable","shareButtons","label","url","download","getImageURLForShare","currItem","getPageURLForShare","location","getTextForShare","indexIndicatorSep","fitControlsWidth","_onControlsTap","mouseUsed","_onIdleMouseMove","uiElement","found","clickedClass","srcElement","getAttribute","_uiElements","onTap","name","stopPropagation","tapDelay","features","isOldAndroid","setTimeout","_togglePswpClass","el","cName","add","_countNumItems","hasOneSlide","getNumItemsFn","_toggleShareModalClass","_toggleShareModal","removeClass","addClass","_updateShareURLs","_openWindowPopup","shout","hasAttribute","open","screen","Math","round","shareButtonData","image_url","page_url","share_text","shareButtonOut","replace","encodeURIComponent","parseShareButtonOut","onclick","_hasCloseClass","hasClass","_idleIncrement","clearTimeout","setIdle","_onMouseLeaveWindow","from","relatedTarget","toElement","nodeName","_toggleLoadingIndicator","hide","_applyNavBarGaps","gap","vGap","likelyTouchDevice","bars","createEl","appendChild","insertBefore","captionSize","clientHeight","parseInt","option","onInit","toggleDesktopZoom","prev","next","isFullscreen","exit","enter","pinchControlsHidden","extend","getChildByClass","scrollWrap","now","hideControls","showControls","update","point","initialZoomLevel","getZoomLevel","zoomTo","getDoubleTapZoom","isDown","preventObj","t","test","tagName","prevent","onGlobalTap","onMouseOver","clearInterval","unbind","document","eventK","updateFullscreen","hideAnimationDuration","removeChild","showAnimationDuration","classAttr","loopThroughChildElements","sChildren","l","a","topBar","_setupUIElements","setInterval","getFullscreenAPI","template","loading","allowProgressiveImg","naturalWidth","isIdle","updateIndexIndicator","setScrollOffset","getScrollY","getCurrentIndex","detail","pointerType","fitRatio","releasePoint","supportsFullscreen","d","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","api","dE","documentElement","tF","requestFullscreen","enterK","exitK","elementK","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","closeOnScroll","Element","ALLOW_KEYBOARD_INPUT","freeGlobal","freeSelf","root","Function","kebabCase","createCompounder","word","toLowerCase","getRawTag","objectToString","_lodash2","_PhotoSwipe2","PhotoSwipeGallery","showPhotoSwipe","itemIndex","preventDefault","getThumbBoundsFn","thumbnails","getElementsByTagName","pageYScroll","pageYOffset","scrollTop","rect","getBoundingClientRect","x","left","y","_props","thumbnailContent","other","eventProps","_state","deburrLetter","reLatin","reComboMark","hasOwn","classNames","classes","arg","argType","isArray","inner","global","iteratee","accumulator","initAccum","reAsciiWord","baseToString","reHasUnicodeWord","_PhotoSwipeGallery2","thisArg","arrayPush","values","offset","spreadableSymbol","isConcatSpreadable","nativeMax","max","isFlattenable","isLength","isObject","isFunction","isArrayLike","isArrayLikeObject","isArguments","toKey","isSymbol","start","pick","predicate","basePickBy","basePick","arrayMap","baseFlatten","depth","isStrict","otherArgs","basePropertyOf","arrayReduce","deburr","words","reApos","UiClass","listener","methodName","split","yOffset","reg","parentEl","childClassName","firstChild","nextSibling","arraySearch","o1","o2","preventOverwrite","prop","easing","sine","out","k","sin","PI","inOut","cos","cubic","detectFeatures","helperStyle","style","vendor","oldIE","all","touch","requestAnimationFrame","raf","caf","cancelAnimationFrame","pointerEvent","PointerEvent","navigator","msPointerEnabled","ua","userAgent","platform","v","appVersion","isOldIOSPhone","androidversion","parseFloat","androidVersion","isMobileOpera","styleCheckItem","styleName","styleChecks","vendors","charAt","toUpperCase","slice","lastTime","fn","currTime","Date","getTime","timeToCall","svg","createElementNS","createSVGRect","evName","_handleEv","handleEvent","allowPanToNext","spacing","bgOpacity","pinchToClose","closeOnVerticalDrag","verticalDragRange","showHideOpacity","focus","escKey","arrowKeys","mainScrollEndFriction","panEndFriction","isClickableElement","isMouseClick","maxSpreadZoom","modal","scaleMode","_isOpen","_isDestroying","_closedByScroll","_currentItemIndex","_containerStyle","_containerShiftIndex","_upMoveEvents","_downEvents","_globalEventHandlers","_currZoomLevel","_startZoomLevel","_translatePrefix","_translateSufix","_updateSizeInterval","_itemsNeedUpdate","_itemHolders","_prevItemIndex","_dragStartEvent","_dragMoveEvent","_dragEndEvent","_dragCancelEvent","_transformKey","_pointerEventEnabled","_likelyTouchDevice","_requestAF","_cancelAF","_initalClassName","_initalWindowScrollY","_oldIE","_currentWindowScrollY","_features","_orientationChangeTimeout","_gestureStartTime","_gestureCheckSpeedTime","_releaseAnimData","_isZoomingIn","_verticalDragInitiated","_oldAndroidTouchEndTimeout","_isDragging","_isMultitouch","_zoomStarted","_moved","_dragAnimFrame","_mainScrollShifted","_currentPoints","_isZooming","_startPointsDistance","_currPanBounds","_currZoomElementStyle","_mainScrollAnimating","_direction","_isFirstMove","_opacityChanged","_bgOpacity","_wasOverInitialZoom","_tempCounter","_currPanDist","_startPanOffset","_panOffset","_viewportSize","_currPositionIndex","_offset","_slideSize","_indexDiff","_isFixedPosition","_modules","_windowVisibleSize","_renderMaxResolution","_registerModule","publicMethods","_getLoopedId","numSlides","_getNumItems","_listeners","_shout","listeners","shift","_getCurrentTime","_applyBgOpacity","opacity","bg","_applyZoomTransform","styleObj","zoom","_applyCurrentZoomPan","allowRenderResolution","_setImageSize","_applyZoomPanToItem","container","initialPosition","_setTranslateX","elStyle","_moveMainScroll","dragging","newSlideIndexOffset","delta","_mainScrollPos","_calculatePanOffset","axis","zoomLevel","m","_midZoomPoint","_equalizePoints","p1","p2","_roundPoint","p","_mouseMoveTimeout","_onFirstMouseMove","_calculatePanBounds","bounds","_calculateItemSize","_getMinZoomLevel","_getMaxZoomLevel","_modifyDestPanOffset","destPanBounds","destPanOffset","destZoomLevel","min","_onKeyDown","keydownAction","keyCode","ctrlKey","altKey","shiftKey","metaKey","returnValue","_onGlobalClick","_updatePageScrollOffset","_animations","_numAnimations","_stopAnimation","_registerStartAnimation","_stopAllAnimations","_animateProp","b","endProp","easingFn","onUpdate","onComplete","startAnimTime","animloop","viewportSize","isMainScrollAnimating","isDragging","isZooming","applyZoomPan","panX","panY","transform","itemHolders","wrap","display","allow3dTransform","perspective","zoomRatio","s","_setupTransforms","resize","orientationchange","clientWidth","scroll","keydown","click","oldPhone","animationName","isNaN","_getItemAt","setAttribute","position","rootClasses","mainClass","setContent","updateCurrItem","_showOrHide","destroy","_showOrHideTimeout","_stopDragUpdateLoop","panTo","force","goTo","diff","updateCurrZoomItem","emulateSetContent","zoomElement","center","needsUpdate","beforeAnimation","tempHolder","diffAbs","abs","NUM_HOLDERS","pop","prevItem","windowScrollY","innerHeight","holder","hIndex","cleanSlide","centerPoint","speed","updateFn","initialPanOffset","_currPoint","_startPoint","_currPointers","_startMainScrollPos","_posPoints","_tempPoint","_currZoomedItemIndex","_centerPoint","_lastReleaseTime","_currCenterPoint","_calculatePointsDistance","sqrt","_preventObj","_preventDefaultEventBehaviour","_closestElement","parentNode","_convertTouchToPoint","pageX","pageY","identifier","_findCenterOfPoints","pCenter","_calculateVerticalDragOpacityRatio","_ePoint1","_ePoint2","_tempPointsArr","_getTouchPoints","touches","_panOrMoveMainScroll","panFriction","startOverDiff","newPanPos","newMainScrollPos","newOffset","dir","newMainScrollPosition","mainScrollDiff","_onDragStart","button","_initialZoomRunning","pointerIndex","pointerId","startPointsList","numPoints","_dragUpdateLoop","_renderMovement","_onDragMove","touchesList","_isEqualPoints","pointsDistance","_calculateZoomLevel","zoomFriction","minZoomLevel","maxZoomLevel","percent","opacityRatio","time","o","_pushPosPoint","_onDragRelease","splice","4","2","3","gestureType","touchList","changedTouches","releaseTimeDiff","_initDragReleaseAnimationData","calculateSwipeSpeed","initalPanY","initialBgOpacity","_finishSwipeMainScrollGesture","_completePanGesture","_completeZoomGesture","lastFlickDuration","tempReleasePos","lastFlickOffset","lastFlickDist","lastFlickSpeed","slowDownRatio","slowDownRatioReverse","speedDecelerationRatio","speedDecelerationRatioAbs","distanceOffset","backAnimDestination","backAnimStarted","calculateOverBoundsAnimOffset","pos","calculateAnimOffset","timeDiff","panAnimLoop","zoomPan","lastNow","animData","itemChanged","itemsDiff","nextCircle","totalShiftDist","isFastLastFlick","finishAnimDuration","animateToX","animateToDist","touchesDistance","initialOpacity","initGestures","addEventNames","pref","down","move","up","cancel","maxTouchPoints","msMaxTouchPoints","mousedown","mousemove","mouseup","_items","_initialContentSet","completeFn","thumbBounds","initialLayout","closeWithRaf","fadeEverything","duration","removeAttribute","loadError","miniImg","webkitBackfaceVisibility","initalBgOpacity","_tempPanAreaSize","_imagesToAppendPool","_controllerDefaultOptions","errorMsg","forceProgressiveLoading","isInitial","hRatio","vRatio","realPanElementW","realPanElementH","_calculateSingleItemPanBounds","_appendImage","baseDiv","preventAnimation","keepPlaceholder","imageAppended","placeholder","_preloadImage","loadComplete","onload","onerror","_checkForError","cleanUp","maxRes","lastChild","_appendImagesPool","poolItem","clearPlaceholder","lazyLoadItem","initController","getItemAt","isNext","preloadBefore","preloadAfter","preloader","placeholderClassName","msrc","tapTimer","_wheelDelta","tapReleasePoint","_dispatchTapEvent","origEvent","createEvent","eDetail","initCustomEvent","dispatchEvent","initTap","onTapStart","onTapRelease","touch0","touch1","p0","initDesktopZoom","setupDesktopZoom","events","handleMouseWheel","mouseZoomedIn","hasDraggingClass","updateZoomable","removeDraggingClass","deltaY","deltaMode","deltaX","wheelDeltaX","wheelDeltaY","wheelDelta","newPanX","newPanY","doubleTapZoomLevel","zoomOut","_historyUpdateTimeout","_hashChangeTimeout","_hashAnimCheckTimeout","_hashChangedByScript","_hashChangedByHistory","_hashReseted","_initialHash","_historyChanged","_closedFromURL","_urlChangedOnce","_windowLoc","_supportsPushState","_historyDefaultOptions","galleryUID","_getHash","hash","substring","_cleanHistoryTimeouts","_parseItemIndexFromURL","params","vars","pair","galleryPIDs","searchfor","pid","_updateHash","newHash","newURL","initHistory","updateURL","onHashChange","returnToOriginal","back","pushState","pathname","search","symbolProto","symbolToString"],"mappings":"gFAAA,IAAIA,EAAa,EAAQ,QACrBC,EAAe,EAAQ,QA2B3BC,EAAOC,QAJP,SAAkBC,GAChB,MAAuB,iBAATA,GAAqBH,EAAaG,IApBlC,mBAoB4CJ,EAAWI,K,qBCZvEF,EAAOC,QANP,SAAwBE,GACtB,OAAO,SAAUC,GACf,OAAiB,MAAVD,OAAiBE,EAAYF,EAAOC,M,+MCD/C,SAASE,IAeP,OAdAA,EAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAIN,KAAOS,EACVN,OAAOO,UAAUC,eAAeC,KAAKH,EAAQT,KAC/CK,EAAOL,GAAOS,EAAOT,IAK3B,OAAOK,IAGOQ,MAAMC,KAAMP,WAG9B,SAASQ,EAAyBN,EAAQO,GACxC,GAAc,MAAVP,EAAgB,MAAO,GAE3B,IAEIT,EAAKM,EAFLD,EAkBN,SAAuCI,EAAQO,GAC7C,GAAc,MAAVP,EAAgB,MAAO,GAC3B,IAEIT,EAAKM,EAFLD,EAAS,GACTY,EAAad,OAAOe,KAAKT,GAG7B,IAAKH,EAAI,EAAGA,EAAIW,EAAWT,OAAQF,IACjCN,EAAMiB,EAAWX,GACbU,EAASG,QAAQnB,IAAQ,IAC7BK,EAAOL,GAAOS,EAAOT,IAGvB,OAAOK,EA9BMe,CAA8BX,EAAQO,GAInD,GAAIb,OAAOkB,sBAAuB,CAChC,IAAIC,EAAmBnB,OAAOkB,sBAAsBZ,GAEpD,IAAKH,EAAI,EAAGA,EAAIgB,EAAiBd,OAAQF,IACvCN,EAAMsB,EAAiBhB,GACnBU,EAASG,QAAQnB,IAAQ,GACxBG,OAAOO,UAAUa,qBAAqBX,KAAKH,EAAQT,KACxDK,EAAOL,GAAOS,EAAOT,IAIzB,OAAOK,EAqBT,IAAI,EAAc,SAAqBmB,GACrC,IAAIC,EAAQD,EAAMC,MACdC,EAAOF,EAAME,KACbC,EAAaZ,EAAyBS,EAAO,CAAC,QAAS,SAE3D,OAAO,IAAMI,cAAc,MAAO1B,EAAS,CACzC2B,MAAO,6BACPC,MAAOJ,EACPK,OAAQL,EACRM,QAAS,YACTC,KAAM,OACNC,OAAQT,EACRU,YAAa,IACbC,cAAe,QACfC,eAAgB,SACfV,GAAa,IAAMC,cAAc,WAAY,CAC9CU,OAAQ,qBAIZ,EAAYC,UAAY,CACtBd,MAAO,IAAUe,OACjBd,KAAM,IAAUe,UAAU,CAAC,IAAUD,OAAQ,IAAUE,UAEzD,EAAYC,aAAe,CACzBlB,MAAO,eACPC,KAAM,MAEO,Q,mCCxFMkB,E,4JAiBnBC,YAAc,SAAAC,GAAK,OAAIA,EAAMzC,OAAO0C,UAAUC,OAAO,W,4GAErDC,OAAA,WAAU,IAAD,SACsBnC,KAAKU,MAA1B0B,EADD,EACCA,MAAOC,EADR,EACQA,UACf,OACE,yBAAKA,UAAS,aAAeA,KACxBD,GACDA,EAAME,KAAI,SAACC,EAAMC,GAAP,OACR,yBACEH,UAAS,mBACTnD,IAAG,kBAAoBuD,IAAWF,EAAKG,OAAS,IAAMF,EACtDG,QAAS,EAAKZ,aAEd,wBAAIM,UAAU,QACZ,8BAAOE,EAAKG,OACZ,kBAAC,EAAD,OAEF,yBAAKL,UAAW,eACbE,EAAKK,YADR,IACqB,6BAClBL,EAAKM,MACJ,yBAAKC,KAAMP,EAAKM,KAAMR,UAAU,UAC7BE,EAAKQ,kB,GAtCaC,IAAMC,WAAxBnB,EACZD,aAAe,CACpBO,MAAO,GACPC,UAAW,I,mDCoEAa,E,oBArEb,WAAYxC,GAAQ,IAAD,SACjB,cAAMA,IAAN,MAGFyC,MAAQ,CACNC,SAAS,EACTC,aAAa,GAJb,EAAKC,IAAMN,IAAMO,YAFA,E,kHASnBC,iBAAA,WACExD,KAAKyD,SAAS,CAAEJ,YAAaK,OAAOC,YAAc,O,EAGpDC,WAAA,WACE5D,KAAKyD,SAAS,CAAEL,SAAS,IACzBS,IAASC,YAAY9D,KAAKsD,IAAIS,SAASC,oBACrC,UACAhE,KAAK4D,a,EAITK,kBAAA,WAAqB,IAAD,OAClBjE,KAAKwD,mBACLE,OAAOQ,iBAAiB,UAAU,kBAAM,EAAKV,sBAC7CK,IAASC,YAAY9D,KAAKsD,IAAIS,SAASG,iBAAiB,WAAW,SAAAC,GAAC,OAClE,EAAKP,WAAWO,O,EAIpBC,qBAAA,WACEV,OAAOM,oBAAoB,SAAUhE,KAAKwD,mB,EAG5CrB,OAAA,WAAU,IAAD,EACkCnC,KAAKU,MAAtC2D,EADD,EACCA,OAAQC,EADT,EACSA,WAAYC,EADrB,EACqBA,SAC5B,OACE,kBAAC,WAAD,MACIvE,KAAKmD,MAAME,aACX,yBAAKhB,UAAS,mBACZ,2BACEiB,IAAKtD,KAAKsD,IACVe,OAAQA,EACRhC,UAAS,2BACPrC,KAAKmD,MAAMC,QAAU,UAAY,IAD1B,IAGToB,aAAW,EACXC,UAAQ,EACRC,OAAK,EACLC,MAAI,EACJC,QAAQ,QAEPL,GAEFD,GACC,yBAAKjC,UAAU,+BAA+BiC,IAInDtE,KAAKmD,MAAME,aACV,kBAAC,WAAD,KACE,kBAACwB,EAAA,EAAD,CAAOC,YAAU,EAACC,IAAKV,EAAQW,IAAI,sBAClCV,GAAc,wBAAIjC,UAAU,sBAAsBiC,M,GA9DjCrB,a,+ZCKvB,IAYcgC,E,4JACnB9B,MAAQ,CACN+B,QAAQ,EACRC,QAAQ,EACRC,aAAc,GACd5C,MAAO,G,EAQT6C,aAAe,SAACC,EAAK9C,GAAN,OACb+C,MAAMD,EAAIE,MAAQ,WACfC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MACC,SAAAG,GACE,IAAMC,EAAY,EAAO,EAAK1C,MAAMiC,cAUpC,OATAS,EAAarD,GAAS,CACpBuC,IAAKO,EAAIE,MACT9C,MAAO4C,EAAI5C,MACXoD,EAAGF,EAAO5E,MACV+E,EAAGH,EAAO3E,QAEZ,EAAKwC,SAAS,CACZ2B,aAAcS,KAET,KAET,SAAAG,GAEE,OADAC,QAAQC,IAAIF,IACL,M,oHAxBfb,OAAA,SAAOA,EAAQ3C,QACQ,IAAVA,IAAuBA,EAAQ,GAC1CxC,KAAKyD,SAAS,CAAE0B,SAAQ3C,W,EA0B1ByB,kBAAA,WACQ,IAAEkC,EAAWnG,KAAKU,MAAhByF,OACNC,EAAWD,EAAOzG,OAChB2G,EAAY,EAEhB,IAAK,IAAI7G,KAAK2G,EACRnG,KAAKqF,aAAac,EAAO3G,GAAIA,KAC/BQ,KAAKyD,SAAS,CAAEyB,OAAQmB,IAAcD,IACtCC,M,EAKNlE,OAAA,WAAU,IAAD,OACCgE,EAAWnG,KAAKU,MAAhByF,OACR,OACE,kBAAC,WAAD,KACGA,GACCA,EAAOzG,OAAS,GACd,yBAAK2C,UAAU,WACZ8D,EAAO7D,KAAI,SAACkD,EAAOhD,GAAR,OACV,4BACEH,UAAU,gBACVnD,IAAKuD,IAAW+C,EAAMR,KAAO,IAAMxC,EACnCG,QAAS,kBAAM,EAAKwC,QAAO,EAAM3C,KAEjC,6BACE,kBAACqC,EAAA,EAAD,CACEyB,YAAY,QACZvB,IAAKS,EAAMA,MACXR,IAAKQ,EAAMR,OAGdQ,EAAM9C,OAAS,oCAAa8C,EAAM9C,YAK5C1C,KAAKmD,MAAM+B,QACVlF,KAAKmD,MAAMiC,aAAa1F,OAAS,GAC/B,kBAAC,aAAD,CACEyF,OAAQnF,KAAKmD,MAAMgC,OACnB/C,MAAOpC,KAAKmD,MAAMiC,aAClBmB,QAAS,CACP/D,MAAOxC,KAAKmD,MAAMX,MAClBgE,SAAS,GAEXC,QAAS,kBAAM,EAAKtB,QAAO,Q,GAnFJlC,a,0BCqBtByD,E,oBAtCb,WAAYhG,GAAQ,IAAD,SACjB,cAAMA,IAAN,MACKyC,MAAQ,CAAEwD,WAAW,GAFT,E,kHAKnBC,YAAA,WACE5G,KAAKyD,SAAS,CACZkD,WAAY3G,KAAKmD,MAAMwD,a,EAI3BxE,OAAA,WAAU,IACAoC,EAAavE,KAAKU,MAAlB6D,SACR,OACE,kBAAC,WAAD,KACE,yBAAKlC,UAAU,YACb,qDACA,yBAAKwE,MAAM,SAASlE,QAAS3C,KAAK4G,YAAYE,KAAK9G,OAAnD,0BAKDA,KAAKmD,MAAMwD,UACV,yBAAKtE,UAAU,iBACb,yBACEA,UAAU,mBACVM,QAAS3C,KAAK4G,YAAYE,KAAK9G,QAEjC,yBAAKqC,UAAU,eACb,kBAAC,IAAD,CAAGwE,MAAM,cAAclE,QAAS3C,KAAK4G,YAAYE,KAAK9G,QACrDuE,IAGH,O,GAlCQtB,a,iGCOb,IAAM8D,EAAyB,SAAC,GAAD,IACpCrE,EADoC,EACpCA,MACAsE,EAFoC,EAEpCA,SACAC,EAHoC,EAGpCA,cACAC,EAJoC,EAIpCA,SACAC,EALoC,EAKpCA,SACAC,EANoC,EAMpCA,MACAC,EAPoC,EAOpCA,YACA/C,EARoC,EAQpCA,WACAgD,EAToC,EASpCA,UAEAC,GAXoC,EAUpCC,KAVoC,EAWpCD,SAXoC,OAapC,8BACE,kBAACE,EAAA,EAAD,CACE/E,MAAOA,EACPsE,SAAUA,EACVU,gBAAiBT,IAEnB,6BAAS5E,UAAU,WACjB,yBAAKA,UAAU,aACb,kBAACsF,EAAA,EAAD,CAAShI,OAAQuH,MAIrB,6BAAS7E,UAAU,WACjB,yBAAKA,UAAU,aACb,qDACA,kBAAC,EAAD,CAAS8D,OAAQoB,MAIrB,6BAASlF,UAAU,WACjB,yBAAKA,UAAU,aACb,kBAACsF,EAAA,EAAD,CAAShI,OAAQwH,MAIrB,6BAAS9E,UAAU,mCACjB,kBAAC,EAAD,CAAiBgC,OAAQgD,EAAa/C,WAAYA,GAC/C8C,GAAS,4BAAQrC,IAAKqC,EAAOQ,KAAK,gBAIvC,6BAASvF,UAAU,WACjB,yBAAKA,UAAU,aACb,kBAAC,EAAD,CAAWD,MAAOkF,MAItB,6BAASjF,UAAU,WACjB,yBAAKA,UAAU,aACb,kBAAC,EAAD,KACE,kBAACsF,EAAA,EAAD,CAAShI,OAAQuH,SAkBdW,GAFEC,UATQ,SAAC,GAAD,IAAWC,EAAX,EAAGC,KAAQD,KAAX,OACrB,kBAACE,EAAA,EAAD,CACEC,KAAMH,EAAKI,YAAYD,OAAQ,EAC/BxF,MAAOqF,EAAKI,YAAYzF,QAAS,GAEjC,kBAAC,EAAD,iBAA4BqF,EAAUA,EAAKI,YAA3C,CAAwDX,KAAMO,EAAKK,UAMjD,e,uBCnFtB,EAAQ,QAER,IAAIC,EAAa,EAAQ,QACrBC,EAAiB,EAAQ,QACzBC,EAAW,EAAQ,QACnBC,EAAe,EAAQ,QAiC3B1J,EAAOC,QAXP,SAAe2C,EAAQ+G,EAASC,GAI9B,OAHAhH,EAAS6G,EAAS7G,QAGFvC,KAFhBsJ,EAAUC,OAAQvJ,EAAYsJ,GAGrBH,EAAe5G,GAAU8G,EAAa9G,GAAU2G,EAAW3G,GAG7DA,EAAOiH,MAAMF,IAAY,K,uBCnClC,EAAQ,QAER,EAAQ,QAGR,IAaIG,EAAeC,8OAIfC,EAAU,IAAMF,EAAe,IAE/BG,EAAW,OACXC,EAAY,oBACZC,EAAU,8BACVC,EAAS,oBAAuBN,EAAeG,EAjB9B,qEAqBjBI,EAAa,kCACbC,EAAa,qCACbC,EAAU,8BAIVC,EAAc,MAAQL,EAAU,IAAMC,EAAS,IAC/CK,EAAc,MAAQF,EAAU,IAAMH,EAAS,IAG/CM,EAAWC,gFAKXC,EAJW,oBAIQF,GAHP,gBAAwB,CAbtB,qBAaoCL,EAAYC,GAAYO,KAAK,KAAO,qBAAiBH,EAAW,MAIlHI,EAAU,MAAQ,CAACZ,EAAWG,EAAYC,GAAYO,KAAK,KAAO,IAAMD,EAGxEG,EAAgBC,OAAO,CAACT,EAAU,IAAMJ,EAAU,oCAAgC,CAACH,EAASO,EAAS,KAAKM,KAAK,KAAO,IAAKJ,EAAc,oCAAgC,CAACT,EAASO,EAAUC,EAAa,KAAKK,KAAK,KAAO,IAAKN,EAAU,IAAMC,EAAc,iCAAuBD,EAAU,iCALlR,mDADA,mDAMiUN,EAAUa,GAASD,KAAK,KAAM,KAahX7K,EAAOC,QAJP,SAAsB2C,GACpB,OAAOA,EAAOiH,MAAMkB,IAAkB,K,qBC5DxC,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,IAAIE,EAAS,EAAQ,QAIjBC,EAAc3K,OAAOO,UAGrBC,EAAiBmK,EAAYnK,eAO7BoK,EAAuBD,EAAYzB,SAGnC2B,EAAiBH,EAASA,EAAOI,iBAAchL,EA+BnDL,EAAOC,QAtBP,SAAmBC,GACjB,IAAIoL,EAAQvK,EAAeC,KAAKd,EAAOkL,GACnCG,EAAMrL,EAAMkL,GAEhB,IACElL,EAAMkL,QAAkB/K,EACxB,IAAImL,GAAW,EACf,MAAOnG,IAET,IAAIyB,EAASqE,EAAqBnK,KAAKd,GAUvC,OARIsL,IACEF,EACFpL,EAAMkL,GAAkBG,SAEjBrL,EAAMkL,IAIVtE,I,kCCjDT,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAERvG,OAAOkL,eAAexL,EAAS,aAAc,CAC3CC,OAAO,IAGT,IAAIwL,EAAe,WACjB,SAASC,EAAiBlL,EAAQmB,GAChC,IAAK,IAAIlB,EAAI,EAAGA,EAAIkB,EAAMhB,OAAQF,IAAK,CACrC,IAAIkL,EAAahK,EAAMlB,GACvBkL,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDxL,OAAOkL,eAAehL,EAAQmL,EAAWxL,IAAKwL,IAIlD,OAAO,SAAUI,EAAaC,EAAYC,GAGxC,OAFID,GAAYN,EAAiBK,EAAYlL,UAAWmL,GACpDC,GAAaP,EAAiBK,EAAaE,GACxCF,GAdQ,GAoBfG,EAAUC,EAFD,EAAQ,SAMjBC,EAAcD,EAFD,EAAQ,SAMrBE,EAAeF,EAFD,EAAQ,SAMtBG,EAAwBH,EAFD,EAAQ,SAM/BI,EAAeJ,EAFD,EAAQ,SAMtBK,EAAWL,EAFD,EAAQ,SAItB,SAASA,EAAuBM,GAC9B,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CACnC,QAAWA,GAIf,SAASE,EAAgBC,EAAUb,GACjC,KAAMa,aAAoBb,GACxB,MAAM,IAAIc,UAAU,qCAIxB,SAASC,EAA2BC,EAAMhM,GACxC,IAAKgM,EACH,MAAM,IAAIC,eAAe,6DAG3B,OAAOjM,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BgM,EAAPhM,EAmB5E,IAAIkM,EAAa,SAAUC,GAGzB,SAASD,IACP,IAAIE,EAEAC,EAAOC,EAEXV,EAAgB1L,KAAMgM,GAEtB,IAAK,IAAIK,EAAO5M,UAAUC,OAAQ4M,EAAOC,MAAMF,GAAOG,EAAO,EAAGA,EAAOH,EAAMG,IAC3EF,EAAKE,GAAQ/M,UAAU+M,GAGzB,OAAeL,EAASC,EAAQP,EAA2B7L,MAAOkM,EAAOF,EAAWS,WAAapN,OAAOqN,eAAeV,IAAalM,KAAKC,MAAMmM,EAAM,CAAClM,MAAM2M,OAAOL,KAAiBM,EAAiB9M,KAAKsM,GAAgBP,EAA2BO,EAAnCD,GA4EpN,OA1GF,SAAmBU,EAAUC,GAC3B,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIlB,UAAU,kEAAoEkB,GAG1FD,EAASjN,UAAYP,OAAO0N,OAAOD,GAAcA,EAAWlN,UAAW,CACrEoN,YAAa,CACXhO,MAAO6N,EACPlC,YAAY,EACZE,UAAU,EACVD,cAAc,KAGdkC,IAAYzN,OAAO4N,eAAiB5N,OAAO4N,eAAeJ,EAAUC,GAAcD,EAASJ,UAAYK,GAI3GI,CAAUlB,EAAYC,GAgBtBzB,EAAawB,EAAY,CAAC,CACxB9M,IAAK,SACLF,MAAO,WACL,IAAImO,EAASnN,KAEToN,EAAKpN,KAAKU,MAAM0M,GAChB/K,EAAYrC,KAAKU,MAAM2B,UAE3B,OADAA,GAAY,EAAIiJ,EAAsB,SAAG,CAAC,OAAQjJ,IAAYgL,OACvDpC,EAAiB,QAAEnK,cAAc,MAAO,CAC7CsM,GAAIA,EACJ/K,UAAWA,EACXiL,SAAU,KACVC,KAAM,SACN,cAAe,OACfjK,IAAK,SAAakK,GAChBL,EAAOM,YAAcD,IAEtBvC,EAAiB,QAAEnK,cAAc,MAAO,CACzCuB,UAAW,aACT4I,EAAiB,QAAEnK,cAAc,MAAO,CAC1CuB,UAAW,qBACV4I,EAAiB,QAAEnK,cAAc,MAAO,CACzCuB,UAAW,mBACV4I,EAAiB,QAAEnK,cAAc,MAAO,CACzCuB,UAAW,eACT4I,EAAiB,QAAEnK,cAAc,MAAO,CAC1CuB,UAAW,eACT4I,EAAiB,QAAEnK,cAAc,MAAO,CAC1CuB,UAAW,gBACR4I,EAAiB,QAAEnK,cAAc,MAAO,CAC3CuB,UAAW,6BACV4I,EAAiB,QAAEnK,cAAc,MAAO,CACzCuB,UAAW,iBACV4I,EAAiB,QAAEnK,cAAc,MAAO,CACzCuB,UAAW,kBACT4I,EAAiB,QAAEnK,cAAc,SAAU,CAC7CuB,UAAW,mCACXK,MAAO,gBACLuI,EAAiB,QAAEnK,cAAc,SAAU,CAC7CuB,UAAW,mCACXK,MAAO,UACLuI,EAAiB,QAAEnK,cAAc,SAAU,CAC7CuB,UAAW,gCACXK,MAAO,sBACLuI,EAAiB,QAAEnK,cAAc,SAAU,CAC7CuB,UAAW,kCACXK,MAAO,gBACLuI,EAAiB,QAAEnK,cAAc,MAAO,CAC1CuB,UAAW,mBACV4I,EAAiB,QAAEnK,cAAc,MAAO,CACzCuB,UAAW,wBACV4I,EAAiB,QAAEnK,cAAc,MAAO,CACzCuB,UAAW,wBACV4I,EAAiB,QAAEnK,cAAc,MAAO,CACzCuB,UAAW,+BACL4I,EAAiB,QAAEnK,cAAc,MAAO,CAC9CuB,UAAW,gEACV4I,EAAiB,QAAEnK,cAAc,MAAO,CACzCuB,UAAW,yBACR4I,EAAiB,QAAEnK,cAAc,SAAU,CAC9CuB,UAAW,yCACXK,MAAO,0BACLuI,EAAiB,QAAEnK,cAAc,SAAU,CAC7CuB,UAAW,0CACXK,MAAO,uBACLuI,EAAiB,QAAEnK,cAAc,MAAO,CAC1CuB,UAAW,iBACV4I,EAAiB,QAAEnK,cAAc,MAAO,CACzCuB,UAAW,kCAKV2J,EA1FQ,CA2Fff,EAAiB,QAAEhI,WAErB+I,EAAWvK,UAAY,CACrB0D,OAAQgG,EAAqB,QAAEuC,KAAKC,WACpCvL,MAAO+I,EAAqB,QAAEyC,MAAMD,WACpCpH,QAAS4E,EAAqB,QAAElM,OAChCwH,QAAS0E,EAAqB,QAAE0C,KAChCT,GAAIjC,EAAqB,QAAEzJ,OAC3BW,UAAW8I,EAAqB,QAAEzJ,QAEpCsK,EAAWnK,aAAe,CACxB0E,QAAS,GACTE,QAAS,aACT2G,GAAI,GACJ/K,UAAW,IAGb,IAAIuK,EAAmB,WACrB,IAAIkB,EAAS9N,KAEbA,KAAKmD,MAAQ,CACXgC,OAAQnF,KAAKU,MAAMyE,QAGrBnF,KAAKiE,kBAAoB,WACV6J,EAAO3K,MAAMgC,QAGxB2I,EAAOC,eAAeD,EAAOpN,QAIjCV,KAAKgO,0BAA4B,SAAUC,GACzC,IAAI9I,EAAS2I,EAAO3K,MAAMgC,OAEtB8I,EAAU9I,OACPA,EAGH2I,EAAOI,YAAYD,EAAU7L,OAF7B0L,EAAOC,eAAeE,GAIf9I,GACT2I,EAAOK,mBAIXnO,KAAKoE,qBAAuB,WAC1B0J,EAAOK,mBAGTnO,KAAK+N,eAAiB,SAAUrN,GAC9B,IAAI0B,EAAQ1B,EAAM0B,MACdmE,EAAU7F,EAAM6F,QAChBkH,EAAcK,EAAOL,YACzBK,EAAOM,WAAa,IAAIhD,EAAsB,QAAEqC,EAAapC,EAA+B,QAAGjJ,EAAOmE,GAEtGgF,EAAkB,QAAE8C,SAAQ,SAAUrM,GACpC,IAAIsM,EAAW5N,EAAMsB,GAErB,GAAIsM,GAAsB,YAAVtM,EAAqB,CACnC,IAAI8J,EAAOgC,EAEXA,EAAOM,WAAWG,OAAOvM,GAAO,WAC9B,GAAIsM,EAAU,CACZ,IAAK,IAAIE,EAAQ/O,UAAUC,OAAQ4M,EAAOC,MAAMiC,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IAChFnC,EAAKmC,GAAShP,UAAUgP,GAG1BnC,EAAKoC,QAAQ1O,MACbsO,EAASvO,WAAMZ,EAAWmN,GAGd,YAAVtK,GACF8J,EAAK6C,qBAMbb,EAAOrK,SAAS,CACd0B,QAAQ,IACP,WACD2I,EAAOM,WAAWQ,WAItB5O,KAAKkO,YAAc,WACjB,IAAI9L,EAAQ3C,UAAUC,OAAS,QAAsBP,IAAjBM,UAAU,GAAmBA,UAAU,GAAK,GAChFqO,EAAOM,WAAWhM,MAAM1C,OAAS,EACjC0C,EAAMiM,SAAQ,SAAU9L,GACtBuL,EAAOM,WAAWhM,MAAMyM,KAAKtM,MAG/BuL,EAAOM,WAAWU,sBAElBhB,EAAOM,WAAWW,YAAW,IAG/B/O,KAAKmO,gBAAkB,WAChBL,EAAOM,YAIZN,EAAOM,WAAWY,SAGpBhP,KAAK2O,YAAc,WACjB,IAAIlI,EAAUqH,EAAOpN,MAAM+F,QAE3BqH,EAAOrK,SAAS,CACd0B,QAAQ,IACP,WACGsB,GACFA,SAMR1H,EAAiB,QAAIiN,EACrBlN,EAAOC,QAAUA,EAAiB,S,mBCrRlCD,EAAOC,QAJP,SAAsBC,GACpB,OAAgB,MAATA,GAAiC,iBAATA,I,qBCzBjC,UAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,aAcU,0BAAd,EAMK,WACP,aA+xBA,OA7xB2B,SAA8BiQ,EAAMC,GAC7D,IAIIC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAEAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAqEAC,EAiJAC,EACAC,EA1OAC,EAAKrQ,KAELsQ,GAAoB,EACpBC,GAAmB,EAQnBC,GAAoB,EASpBC,EAAoB,CACtBC,SAAU,CACRC,IAAK,GACLC,OAAQ,QAEVC,eAAgB,CAAC,OAAQ,UAAW,YAAa,KAAM,WACvDC,WAAY,IACZC,kBAAmB,IACnBC,sBAAuB,IAEvBC,iBAAkB,SAA0B1O,EAAM2O,GAGhD,OAAK3O,EAAKG,OAKVwO,EAAU3M,SAAS,GAAG4M,UAAY5O,EAAKG,OAChC,IALLwO,EAAU3M,SAAS,GAAG4M,UAAY,IAC3B,IAMXC,SAAS,EACTF,WAAW,EACXG,cAAc,EACdC,QAAQ,EACRC,SAAS,EACTC,WAAW,EACXC,SAAS,EACTC,aAAa,EACbC,YAAY,EACZC,qBAAqB,EACrBC,yBAAyB,EACzBC,aAAc,CAAC,CACb1E,GAAI,WACJ2E,MAAO,oBACPC,IAAK,wDACJ,CACD5E,GAAI,UACJ2E,MAAO,QACPC,IAAK,8DACJ,CACD5E,GAAI,YACJ2E,MAAO,SACPC,IAAK,oGACJ,CACD5E,GAAI,WACJ2E,MAAO,iBACPC,IAAK,oBACLC,UAAU,IAEZC,oBAAqB,WAGnB,OAAOjD,EAAKkD,SAASpN,KAAO,IAE9BqN,mBAAoB,WAGlB,OAAO1O,OAAO2O,SAASvP,MAEzBwP,gBAAiB,WAGf,OAAOrD,EAAKkD,SAASzP,OAAS,IAEhC6P,kBAAmB,MACnBC,iBAAkB,MAKhBC,EAAiB,SAAwBtO,GAC3C,GAAI+L,EACF,OAAO,EAGT/L,EAAIA,GAAKT,OAAO1B,MAEZiO,EAASa,YAAcb,EAASyC,YAAc/C,GAEhDgD,IAQF,IALA,IACIC,EAEAC,EADAC,GAFS3O,EAAE5E,QAAU4E,EAAE4O,YAEDC,aAAa,UAAY,GAG1CxT,EAAI,EAAGA,EAAIyT,EAAYvT,OAAQF,KACtCoT,EAAYK,EAAYzT,IAEV0T,OAASJ,EAAazS,QAAQ,SAAWuS,EAAUO,OAAS,IACxEP,EAAUM,QACVL,GAAQ,GAIZ,GAAIA,EAAO,CACL1O,EAAEiP,iBACJjP,EAAEiP,kBAGJlD,GAAoB,EAOpB,IAAImD,EAAWnE,EAAUoE,SAASC,aAAe,IAAM,GAC5BC,YAAW,WACpCtD,GAAoB,IACnBmD,KAMHI,EAAmB,SAA0BC,EAAIC,EAAOC,GAC1D1E,GAAW0E,EAAM,MAAQ,UAAY,SAASF,EAAI,SAAWC,IAI/DE,EAAiB,WACf,IAAIC,EAA2C,IAA7B7D,EAAS8D,gBAEvBD,IAAgB9D,IAClByD,EAAiBrE,EAAW,gBAAiB0E,GAE7C9D,EAAsB8D,IAGtBE,EAAyB,WAC3BP,EAAiBhE,EAAa,sBAAuBe,IAEnDyD,EAAoB,WAwBtB,OAvBAzD,GAAqBA,IAWnBtB,EAAUgF,YAAYzE,EAAa,8BACnC+D,YAAW,WACLhD,GACFwD,MAED,OAbHA,IAEAR,YAAW,WACJhD,GACHtB,EAAUiF,SAAS1E,EAAa,gCAEjC,KAUAe,GACH4D,KAGK,GAELC,EAAmB,SAA0BlQ,GAE/C,IAAI5E,GADJ4E,EAAIA,GAAKT,OAAO1B,OACDzC,QAAU4E,EAAE4O,WAG3B,OAFA9D,EAAKqF,MAAM,iBAAkBnQ,EAAG5E,MAE3BA,EAAOuD,OAIRvD,EAAOgV,aAAa,cAIxB7Q,OAAO8Q,KAAKjV,EAAOuD,KAAM,aAAc,2FAAkGY,OAAO+Q,OAASC,KAAKC,MAAMF,OAAOzT,MAAQ,EAAI,KAAO,MAEzLwP,GACHyD,IAGK,KAELG,EAAmB,WAQrB,IAPA,IACIQ,EAEAC,EACAC,EACAC,EALAC,EAAiB,GAOZxV,EAAI,EAAGA,EAAIyQ,EAAS6B,aAAapS,OAAQF,IAChDoV,EAAkB3E,EAAS6B,aAAatS,GACxCqV,EAAY5E,EAASiC,oBAAoB0C,GACzCE,EAAW7E,EAASmC,mBAAmBwC,GACvCG,EAAa9E,EAASqC,gBAAgBsC,GAEtCI,GAAkB,YADPJ,EAAgB5C,IAAIiD,QAAQ,UAAWC,mBAAmBJ,IAAWG,QAAQ,gBAAiBC,mBAAmBL,IAAYI,QAAQ,oBAAqBJ,GAAWI,QAAQ,WAAYC,mBAAmBH,IAC5K,yCAAgDH,EAAgBxH,GAAK,KAAOwH,EAAgB3C,SAAW,WAAa,IAAM,IAAM2C,EAAgB7C,MAAQ,OAE/L9B,EAASkF,sBACXH,EAAiB/E,EAASkF,oBAAoBP,EAAiBI,IAInEvF,EAAYlL,SAAS,GAAG4M,UAAY6D,EACpCvF,EAAYlL,SAAS,GAAG6Q,QAAUf,GAEhCgB,EAAiB,SAAwB9V,GAC3C,IAAK,IAAIC,EAAI,EAAGA,EAAIyQ,EAASY,eAAenR,OAAQF,IAClD,GAAI0P,EAAUoG,SAAS/V,EAAQ,SAAW0Q,EAASY,eAAerR,IAChE,OAAO,GAMT+V,EAAiB,EACjB5C,EAAmB,WACrB6C,aAAapF,GACbmF,EAAiB,EAEb5F,GACFU,EAAGoF,SAAQ,IAGXC,EAAsB,SAA6BvR,GAErD,IAAIwR,GADJxR,EAAIA,GAAQT,OAAO1B,OACN4T,eAAiBzR,EAAE0R,UAE3BF,GAA0B,SAAlBA,EAAKG,WAChBN,aAAapF,GACbA,EAAaoD,YAAW,WACtBnD,EAAGoF,SAAQ,KACVxF,EAASc,qBAgDZgF,EAA0B,SAAiCC,GACzDlG,IAA4BkG,IAC9BvC,EAAiB5D,EAAmB,qBAAsBmG,GAE1DlG,EAA0BkG,IAG1BC,EAAmB,SAA0B1T,GAC/C,IAAI2T,EAAM3T,EAAK4T,KAEf,IA9KQlH,EAAKmH,mBAAqBnG,EAASyC,WAAa+B,OAAOzT,MAAQiP,EAASuC,iBA8KlD,CAC5B,IAAI6D,EAAOpG,EAASS,SAEpB,GAAIT,EAASiB,WAA6B,SAAhBmF,EAAKzF,OAW7B,GAVKtB,KACHA,EAAwBJ,EAAUoH,SAAS,sCAErBC,YAAYrH,EAAUoH,SAAS,0BAErDlH,EAAUoH,aAAalH,EAAuBD,GAE9CH,EAAUiF,SAAS/E,EAAW,kBAG5Ba,EAASgB,iBAAiB1O,EAAM+M,GAAuB,GAAO,CAChE,IAAImH,EAAcnH,EAAsBoH,aACxCR,EAAItF,OAAS+F,SAASF,EAAa,KAAO,QAE1CP,EAAItF,OAASyF,EAAK1F,SAGpBuF,EAAItF,OAAyB,SAAhByF,EAAKzF,OAAoB,EAAIyF,EAAKzF,OAIjDsF,EAAIvF,IAAM0F,EAAK1F,SAEfuF,EAAIvF,IAAMuF,EAAItF,OAAS,GAkDvBqC,EAAc,CAAC,CACjBE,KAAM,UACNyD,OAAQ,YACRC,OAAQ,SAAgBnD,GACtBrE,EAAoBqE,IAErB,CACDP,KAAM,cACNyD,OAAQ,UACRC,OAAQ,SAAgBnD,GACtBjE,EAAciE,GAEhBR,MAAO,WACLe,MAED,CACDd,KAAM,gBACNyD,OAAQ,UACRC,OAAQ,SAAgBnD,GACtBlE,EAAekE,GAEjBR,MAAO,WACLe,MAED,CACDd,KAAM,eACNyD,OAAQ,SACR1D,MAAOjE,EAAK6H,mBACX,CACD3D,KAAM,UACNyD,OAAQ,YACRC,OAAQ,SAAgBnD,GACtBnE,EAAkBmE,IAEnB,CACDP,KAAM,gBACNyD,OAAQ,UACR1D,MAAOjE,EAAKD,OACX,CACDmE,KAAM,sBACNyD,OAAQ,UACR1D,MAAOjE,EAAK8H,MACX,CACD5D,KAAM,uBACNyD,OAAQ,UACR1D,MAAOjE,EAAK+H,MACX,CACD7D,KAAM,aACNyD,OAAQ,eACR1D,MAAO,WACD/D,EAAc8H,eAChB9H,EAAc+H,OAEd/H,EAAcgI,UAGjB,CACDhE,KAAM,YACNyD,OAAQ,cACRC,OAAQ,SAAgBnD,GACtB7D,EAAoB6D,KA8CxBrD,EAAGzB,KAAO,WAzI+B,IAWnCwI,EAgIJlI,EAAUmI,OAAOpI,EAAK1I,QAASkK,GAAmB,GAElDR,EAAWhB,EAAK1I,QAEhB6I,EAAYF,EAAUoI,gBAAgBrI,EAAKsI,WAAY,aAEvD3H,EAAUX,EAAKV,QA/IP,kBAAkB,SAAUiJ,GAC9BjH,GAAoBiH,EAAM,IAC5BnH,EAAGoH,gBACOlH,GAAoBiH,GAAO,KACrCnH,EAAGqH,kBAOP9H,EAAQ,gBAAgB,SAAU4H,GAC5BjH,GAAoBiH,EAAM,IAC5BnH,EAAGoH,eACHL,GAAsB,GACbA,IAAwB7G,GAAoBiH,EAAM,IAC3DnH,EAAGqH,kBAIP9H,EAAQ,oBAAoB,YAC1BwH,GAAsB,KAEM7G,GAC1BF,EAAGqH,kBA4HP9H,EAAQ,eAAgBS,EAAGsH,QAG3B/H,EAAQ,aAAa,SAAUgI,GAC7B,IAAIC,EAAmB5I,EAAKkD,SAAS0F,iBAEjC5I,EAAK6I,iBAAmBD,EAC1B5I,EAAK8I,OAAOF,EAAkBD,EAAO,KAErC3I,EAAK8I,OAAO9H,EAAS+H,kBAAiB,EAAO/I,EAAKkD,UAAWyF,EAAO,QAKxEhI,EAAQ,oBAAoB,SAAUzL,EAAG8T,EAAQC,GAC/C,IAAIC,EAAIhU,EAAE5E,QAAU4E,EAAE4O,WAElBoF,GAAKA,EAAEnF,aAAa,UAAY7O,EAAEyD,KAAKvH,QAAQ,UAAY,IAAM8X,EAAEnF,aAAa,SAAS3S,QAAQ,aAAe,GAAK,qBAAqB+X,KAAKD,EAAEE,YACnJH,EAAWI,SAAU,MAKzB1I,EAAQ,cAAc,WACpBV,EAAUpI,KAAKsI,EAAW,gBAAiBqD,GAC3CvD,EAAUpI,KAAKmI,EAAKsI,WAAY,UAAWlH,EAAGkI,aAEzCtJ,EAAKmH,mBACRlH,EAAUpI,KAAKmI,EAAKsI,WAAY,YAAalH,EAAGmI,gBAKpD5I,EAAQ,gBAAgB,WACjBY,GACHyD,IAGE9D,GACFsI,cAActI,GAGhBjB,EAAUwJ,OAAOC,SAAU,WAAYjD,GACvCxG,EAAUwJ,OAAOC,SAAU,YAAahG,GACxCzD,EAAUwJ,OAAOtJ,EAAW,gBAAiBqD,GAC7CvD,EAAUwJ,OAAOzJ,EAAKsI,WAAY,UAAWlH,EAAGkI,aAChDrJ,EAAUwJ,OAAOzJ,EAAKsI,WAAY,YAAalH,EAAGmI,aAE9CrJ,IACFD,EAAUwJ,OAAOC,SAAUxJ,EAAcyJ,OAAQvI,EAAGwI,kBAEhD1J,EAAc8H,iBAChBhH,EAAS6I,sBAAwB,EAEjC3J,EAAc+H,QAGhB/H,EAAgB,SAKpBS,EAAQ,WAAW,WACbK,EAASiB,YACP5B,GACFF,EAAU2J,YAAYzJ,GAGxBJ,EAAUgF,YAAY7E,EAAmB,yBAGvCI,IACFA,EAAYlL,SAAS,GAAG6Q,QAAU,MAGpClG,EAAUgF,YAAY9E,EAAW,wBACjCF,EAAUiF,SAAS/E,EAAW,oBAC9BiB,EAAGoF,SAAQ,MAGRxF,EAAS+I,uBACZ9J,EAAUgF,YAAY9E,EAAW,oBAGnCQ,EAAQ,iBAAiB,WACnBK,EAAS+I,uBACX9J,EAAUgF,YAAY9E,EAAW,uBAIrCQ,EAAQ,kBAAkB,WACxBV,EAAUiF,SAAS/E,EAAW,uBAGhCQ,EAAQ,sBAAuBqG,GArJV,WACrB,IAAI1T,EAAM0W,EAAWrG,EAEjBsG,EAA2B,SAAkCC,GAC/D,GAAKA,EAML,IAFA,IAAIC,EAAID,EAAUzZ,OAETF,EAAI,EAAGA,EAAI4Z,EAAG5Z,IAAK,CAC1B+C,EAAO4W,EAAU3Z,GACjByZ,EAAY1W,EAAKF,UAEjB,IAAK,IAAIgX,EAAI,EAAGA,EAAIpG,EAAYvT,OAAQ2Z,IACtCzG,EAAYK,EAAYoG,GAEpBJ,EAAU5Y,QAAQ,SAAWuS,EAAUO,OAAS,IAC9ClD,EAAS2C,EAAUgE,SAErB1H,EAAUgF,YAAY3R,EAAM,2BAExBqQ,EAAUiE,QACZjE,EAAUiE,OAAOtU,IAInB2M,EAAUiF,SAAS5R,EAAM,8BAOnC2W,EAAyB9J,EAAU7K,UACnC,IAAI+U,EAASpK,EAAUoI,gBAAgBlI,EAAW,iBAE9CkK,GACFJ,EAAyBI,EAAO/U,UAiHlCgV,GAEItJ,EAASsB,SAAW/B,GAAgBC,IACtCe,GAAoB,GAGtBqD,IA1QI5D,EAASa,YACXlB,EAAQ,aAAa,WACnBV,EAAUpI,KAAK6R,SAAU,YAAahG,GACtCzD,EAAUpI,KAAK6R,SAAU,WAAYjD,GACrCvF,EAAgBqJ,aAAY,WAGH,KAFvBjE,GAGElF,EAAGoF,SAAQ,KAEZxF,EAASa,WAAa,MAhGzBb,EAASoB,eAAiBnC,EAAUoE,SAASC,eAC1CpE,IACHA,EAAgBkB,EAAGoJ,oBAGjBtK,GACFD,EAAUpI,KAAK6R,SAAUxJ,EAAcyJ,OAAQvI,EAAGwI,kBAClDxI,EAAGwI,mBACH3J,EAAUiF,SAASlF,EAAKyK,SAAU,sBAElCxK,EAAUgF,YAAYjF,EAAKyK,SAAU,sBAMrCzJ,EAASyB,cACXqE,GAAwB,GAExBnG,EAAQ,gBAAgB,WACtB4F,aAAazF,GAEbA,EAA2ByD,YAAW,WAChCvE,EAAKkD,UAAYlD,EAAKkD,SAASwH,UAC5B1K,EAAK2K,uBAAyB3K,EAAKkD,SAAS7M,MAAQ2J,EAAKkD,SAAS7M,IAAIuU,eAGzE9D,GAAwB,GAI1BA,GAAwB,KAGzB9F,EAASe,0BAGdpB,EAAQ,qBAAqB,SAAUpN,EAAOD,GACxC0M,EAAKkD,WAAa5P,GACpBwT,GAAwB,QAkUhC1F,EAAGoF,QAAU,SAAUqE,GACrBnK,EAAUmK,EAEVrG,EAAiBrE,EAAW,WAAY0K,IAG1CzJ,EAAGsH,OAAS,WAENpH,GAAoBtB,EAAKkD,UAC3B9B,EAAG0J,uBAEC9J,EAASiB,YACXjB,EAASgB,iBAAiBhC,EAAKkD,SAAU9C,GAEzCoE,EAAiBpE,EAAmB,kBAAmBJ,EAAKkD,SAASzP,QAGvE4N,GAAoB,GAEpBA,GAAoB,EAGjBE,GACHyD,IAGFJ,KAGFxD,EAAGwI,iBAAmB,SAAU1U,GAC1BA,GAGFqP,YAAW,WACTvE,EAAK+K,gBAAgB,EAAG9K,EAAU+K,gBACjC,IAIL/K,GAAWC,EAAc8H,eAAiB,MAAQ,UAAY,SAAShI,EAAKyK,SAAU,aAGxFrJ,EAAG0J,qBAAuB,WACpB9J,EAASuB,YACXjC,EAAgB4B,UAAYlC,EAAKiL,kBAAoB,EAAIjK,EAASsC,kBAAoBtC,EAAS8D,kBAInG1D,EAAGkI,YAAc,SAAUpU,GAEzB,IAAI5E,GADJ4E,EAAIA,GAAKT,OAAO1B,OACDzC,QAAU4E,EAAE4O,WAE3B,IAAI7C,EAIJ,GAAI/L,EAAEgW,QAAmC,UAAzBhW,EAAEgW,OAAOC,YAAyB,CAEhD,GAAI/E,EAAe9V,GAEjB,YADA0P,EAAKD,QAIHE,EAAUoG,SAAS/V,EAAQ,eACD,IAAxB0P,EAAK6I,gBAAwB7I,EAAK6I,gBAAkB7I,EAAKkD,SAASkI,SAChEpK,EAAS4B,yBACX5C,EAAKD,QAGPC,EAAK6H,kBAAkB3S,EAAEgW,OAAOG,oBAcpC,GATIrK,EAAS2B,sBACPrB,EACFF,EAAGoH,eAEHpH,EAAGqH,gBAKHzH,EAAS0B,aAAezC,EAAUoG,SAAS/V,EAAQ,cAAgB8V,EAAe9V,IAEpF,YADA0P,EAAKD,SAMXqB,EAAGmI,YAAc,SAAUrU,GAEzB,IAAI5E,GADJ4E,EAAIA,GAAKT,OAAO1B,OACDzC,QAAU4E,EAAE4O,WAE3BU,EAAiBrE,EAAW,iBAAkBiG,EAAe9V,KAG/D8Q,EAAGoH,aAAe,WAChBvI,EAAUiF,SAAS/E,EAAW,oBAC9BmB,GAAmB,GAGrBF,EAAGqH,aAAe,WAChBnH,GAAmB,EAEdD,GACHD,EAAGsH,SAGLzI,EAAUgF,YAAY9E,EAAW,qBAGnCiB,EAAGkK,mBAAqB,WACtB,IAAIC,EAAI7B,SACR,SAAU6B,EAAEC,gBAAkBD,EAAEE,qBAAuBF,EAAEG,sBAAwBH,EAAEI,mBAGrFvK,EAAGoJ,iBAAmB,WACpB,IACIoB,EADAC,EAAKnC,SAASoC,gBAEdC,EAAK,mBAuDT,OArDIF,EAAGG,kBACLJ,EAAM,CACJK,OAAQ,oBACRC,MAAO,iBACPC,SAAU,oBACVxC,OAAQoC,GAEDF,EAAGO,qBACZR,EAAM,CACJK,OAAQ,uBACRC,MAAO,sBACPC,SAAU,uBACVxC,OAAQ,MAAQoC,GAETF,EAAGQ,wBACZT,EAAM,CACJK,OAAQ,0BACRC,MAAO,uBACPC,SAAU,0BACVxC,OAAQ,SAAWoC,GAEZF,EAAGS,sBACZV,EAAM,CACJK,OAAQ,sBACRC,MAAO,mBACPC,SAAU,sBACVxC,OAAQ,uBAIRiC,IACFA,EAAI1D,MAAQ,WAKV,GAHAzH,EAA4BO,EAASuL,cACrCvL,EAASuL,eAAgB,EAEL,4BAAhBxb,KAAKkb,OAGP,OAAOjM,EAAKyK,SAAS1Z,KAAKkb,UAF1BjM,EAAKyK,SAAS1Z,KAAKkb,QAAQO,QAAQC,uBAMvCb,EAAI3D,KAAO,WAET,OADAjH,EAASuL,cAAgB9L,EAClBiJ,SAAS3Y,KAAKmb,UAGvBN,EAAI5D,aAAe,WACjB,OAAO0B,SAAS3Y,KAAKob,YAIlBP,MAlyBK,mC,qBCpBlB,EAAQ,QAER,EAAQ,QAER,EAAQ,QAGR,IAOI5Q,EAPc5K,OAAOO,UAOc2I,SAavCzJ,EAAOC,QAJP,SAAwBC,GACtB,OAAOiL,EAAqBnK,KAAKd,K,qBCxBnC,IAAI2c,EAAa,EAAQ,QAIrBC,EAA0B,iBAAR9P,MAAoBA,MAAQA,KAAKzM,SAAWA,QAAUyM,KAGxE+P,EAAOF,GAAcC,GAAYE,SAAS,cAATA,GACrChd,EAAOC,QAAU8c,G,qBCRjB,IAwBIE,EAxBmB,EAAQ,OAwBfC,EAAiB,SAAUpW,EAAQqW,EAAMzZ,GACvD,OAAOoD,GAAUpD,EAAQ,IAAM,IAAMyZ,EAAKC,iBAE5Cpd,EAAOC,QAAUgd,G,qBC3BjB,IAAIhS,EAAS,EAAQ,QACjBoS,EAAY,EAAQ,QACpBC,EAAiB,EAAQ,QAQzBlS,EAAiBH,EAASA,EAAOI,iBAAchL,EAiBnDL,EAAOC,QARP,SAAoBC,GAClB,OAAa,MAATA,OACeG,IAAVH,EAdQ,qBADL,gBAkBLkL,GAAkBA,KAAkB7K,OAAOL,GAASmd,EAAUnd,GAASod,EAAepd,K,kCCtB/F,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAERK,OAAOkL,eAAexL,EAAS,aAAc,CAC3CC,OAAO,IAGT,IAAII,EAAWC,OAAOC,QAAU,SAAUC,GACxC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAIN,KAAOS,EACVN,OAAOO,UAAUC,eAAeC,KAAKH,EAAQT,KAC/CK,EAAOL,GAAOS,EAAOT,IAK3B,OAAOK,GAGLiL,EAAe,WACjB,SAASC,EAAiBlL,EAAQmB,GAChC,IAAK,IAAIlB,EAAI,EAAGA,EAAIkB,EAAMhB,OAAQF,IAAK,CACrC,IAAIkL,EAAahK,EAAMlB,GACvBkL,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDxL,OAAOkL,eAAehL,EAAQmL,EAAWxL,IAAKwL,IAIlD,OAAO,SAAUI,EAAaC,EAAYC,GAGxC,OAFID,GAAYN,EAAiBK,EAAYlL,UAAWmL,GACpDC,GAAaP,EAAiBK,EAAaE,GACxCF,GAdQ,GAoBfG,EAAUC,EAFD,EAAQ,SAMjBC,EAAcD,EAFD,EAAQ,SAMrBI,EAAeJ,EAFD,EAAQ,SAMtBmR,EAAWnR,EAFD,EAAQ,SAMlBoR,EAAepR,EAFD,EAAQ,SAMtBK,EAAWL,EAFD,EAAQ,SAItB,SAASA,EAAuBM,GAC9B,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CACnC,QAAWA,GAgBf,SAASE,EAAgBC,EAAUb,GACjC,KAAMa,aAAoBb,GACxB,MAAM,IAAIc,UAAU,qCAIxB,SAASC,EAA2BC,EAAMhM,GACxC,IAAKgM,EACH,MAAM,IAAIC,eAAe,6DAG3B,OAAOjM,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BgM,EAAPhM,EAmB5E,IAAIyc,EAAoB,SAAUtQ,GAGhC,SAASsQ,IACP,IAAIrQ,EAEAC,EAAOC,EAEXV,EAAgB1L,KAAMuc,GAEtB,IAAK,IAAIlQ,EAAO5M,UAAUC,OAAQ4M,EAAOC,MAAMF,GAAOG,EAAO,EAAGA,EAAOH,EAAMG,IAC3EF,EAAKE,GAAQ/M,UAAU+M,GAGzB,OAAeL,EAASC,EAAQP,EAA2B7L,MAAOkM,EAAOqQ,EAAkB9P,WAAapN,OAAOqN,eAAe6P,IAAoBzc,KAAKC,MAAMmM,EAAM,CAAClM,MAAM2M,OAAOL,KAAiBF,EAAMjJ,MAAQ,CAC9MgC,OAAQiH,EAAM1L,MAAMyE,OACpBoB,QAAS6F,EAAM1L,MAAM6F,SACpB6F,EAAM4B,0BAA4B,SAAUC,GAC7C,IAAI9I,EAASiH,EAAMjJ,MAAMgC,OAErB8I,EAAU9I,OACPA,GACHiH,EAAM3I,SAAS,CACb0B,QAAQ,IAGHA,GACTiH,EAAM3I,SAAS,CACb0B,QAAQ,KAGXiH,EAAMoQ,eAAiB,SAAUC,GAClC,OAAO,SAAUtY,GACfA,EAAEuY,iBAEF,IAYInW,EAAU6F,EAAMjJ,MAAMoD,QAC1BA,EAAQ/D,MAAQia,EAChBlW,EAAQoW,iBAAmBpW,EAAQoW,kBAdZ,SAA0Bna,GAC/C,IACI8C,EADY8G,EAAMwQ,WAAWpa,GACbqa,qBAAqB,OAAO,GAC5CC,EAAcpZ,OAAOqZ,aAAepE,SAASoC,gBAAgBiC,UAC7DC,EAAO3X,EAAI4X,wBACf,MAAO,CACLC,EAAGF,EAAKG,KACRC,EAAGJ,EAAKtM,IAAMmM,EACdhX,EAAGmX,EAAKjc,QAQZoL,EAAM3I,SAAS,CACb0B,QAAQ,EACRoB,QAASA,MAGZ6F,EAAMuC,YAAc,WACrBvC,EAAM3I,SAAS,CACb0B,QAAQ,IAGViH,EAAM1L,MAAM+F,WACHoF,EAA2BO,EAAnCD,GA4CL,OA1HF,SAAmBU,EAAUC,GAC3B,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIlB,UAAU,kEAAoEkB,GAG1FD,EAASjN,UAAYP,OAAO0N,OAAOD,GAAcA,EAAWlN,UAAW,CACrEoN,YAAa,CACXhO,MAAO6N,EACPlC,YAAY,EACZE,UAAU,EACVD,cAAc,KAGdkC,IAAYzN,OAAO4N,eAAiB5N,OAAO4N,eAAeJ,EAAUC,GAAcD,EAASJ,UAAYK,GAI3GI,CAAUqP,EAAmBtQ,GAgE7BzB,EAAa+R,EAAmB,CAAC,CAC/Brd,IAAK,SACLF,MAAO,WACL,IAAImO,EAASnN,KAETsd,EAAStd,KAAKU,MACd0M,EAAKkQ,EAAOlQ,GACZhL,EAAQkb,EAAOlb,MACfmb,EAAmBD,EAAOC,iBAC1BC,EApHV,SAAkChS,EAAKpL,GACrC,IAAIb,EAAS,GAEb,IAAK,IAAIC,KAAKgM,EACRpL,EAAKC,QAAQb,IAAM,GAClBH,OAAOO,UAAUC,eAAeC,KAAK0L,EAAKhM,KAC/CD,EAAOC,GAAKgM,EAAIhM,IAGlB,OAAOD,EA2GSU,CAAyBqd,EAAQ,CAAC,KAAM,QAAS,qBAEzDjb,EAAYrC,KAAKU,MAAM2B,UAC3BA,GAAY,EAAIiJ,EAAsB,SAAG,CAAC,eAAgBjJ,IAAYgL,OACtE,IAAIoQ,GAAa,EAAIpB,EAAkB,SAAGmB,EAAOjS,EAAkB,SAC/DmS,EAAS1d,KAAKmD,MACdgC,EAASuY,EAAOvY,OAChBoB,EAAUmX,EAAOnX,QACrB,OAAO0E,EAAiB,QAAEnK,cAAc,MAAO,CAC7CsM,GAAIA,EACJ/K,UAAWA,GACV4I,EAAiB,QAAEnK,cAAc,MAAO,CACzCuB,UAAW,mBACVD,EAAME,KAAI,SAAUC,EAAMC,GAC3B,OAAOyI,EAAiB,QAAEnK,cAAc,MAAO,CAC7C5B,IAAKsD,EACLc,IAAK,SAAakK,GAChBL,EAAOyP,WAAazP,EAAOyP,YAAc,GACzCzP,EAAOyP,WAAWpa,GAASgL,GAE7BnL,UAAW,iBACXM,QAASwK,EAAOqP,eAAeha,IAC9B+a,EAAiBhb,QACjB0I,EAAiB,QAAEnK,cAAcwb,EAAsB,QAAGld,EAAS,GAAIqe,EAAY,CACtFtY,OAAQA,EACR/C,MAAOA,EACPmE,QAASA,EACTE,QAASzG,KAAK2O,oBAKb4N,EA1Ge,CA2GtBtR,EAAiB,QAAEhI,WAErBsZ,EAAkB9a,UAAY,CAC5BW,MAAO+I,EAAqB,QAAEyC,MAAMD,WACpCpH,QAAS4E,EAAqB,QAAElM,OAChCse,iBAAkBpS,EAAqB,QAAE0C,KACzCT,GAAIjC,EAAqB,QAAEzJ,OAC3BW,UAAW8I,EAAqB,QAAEzJ,OAClCyD,OAAQgG,EAAqB,QAAEuC,KAC/BjH,QAAS0E,EAAqB,QAAE0C,MAElC0O,EAAkB1a,aAAe,CAC/B0E,QAAS,GACTgX,iBAAkB,SAA0Bhb,GAC1C,OAAO0I,EAAiB,QAAEnK,cAAc,MAAO,CAC7CiE,IAAKxC,EAAKwC,IACV/D,MAAO,MACPC,OAAQ,MACR+D,IAAK,MAGToI,GAAI,GACJ/K,UAAW,GACX8C,QAAQ,EACRsB,QAAS,cAEX1H,EAAiB,QAAIwd,EACrBzd,EAAOC,QAAUA,EAAiB,S,qBClQlC,EAAQ,QAER,EAAQ,QAER,IAAI4e,EAAe,EAAQ,QACvBpV,EAAW,EAAQ,QAInBqV,EAAU,8CAeVC,EAAc/T,OANJ,kDAMoB,KAyBlChL,EAAOC,QALP,SAAgB2C,GAEd,OADAA,EAAS6G,EAAS7G,KACDA,EAAOuT,QAAQ2I,EAASD,GAAc1I,QAAQ4I,EAAa,M,qBC9C9E,QAAQ,QASR,WACE,aAEA,IAAIC,EAAS,GAAGje,eAEhB,SAASke,IAGP,IAFA,IAAIC,EAAU,GAELxe,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIye,EAAMxe,UAAUD,GACpB,GAAKye,EAAL,CACA,IAAIC,SAAiBD,EAErB,GAAgB,WAAZC,GAAoC,WAAZA,EAC1BF,EAAQnP,KAAKoP,QACR,GAAI1R,MAAM4R,QAAQF,IAAQA,EAAIve,OAAQ,CAC3C,IAAI0e,EAAQL,EAAWhe,MAAM,KAAMke,GAE/BG,GACFJ,EAAQnP,KAAKuP,QAEV,GAAgB,WAAZF,EACT,IAAK,IAAIhf,KAAO+e,EACVH,EAAOhe,KAAKme,EAAK/e,IAAQ+e,EAAI/e,IAC/B8e,EAAQnP,KAAK3P,IAMrB,OAAO8e,EAAQrU,KAAK,KAGe7K,EAAOC,SAC1Cgf,EAAoB,QAAIA,EACxBjf,EAAOC,QAAUgf,QAKhB,KAFwB,EAAF,WACrB,OAAOA,GACR,QAFoB,OAEpB,aAxCL,I,sBCTA,YACA,IAAIpC,EAA8B,iBAAV0C,GAAsBA,GAAUA,EAAOhf,SAAWA,QAAUgf,EACpFvf,EAAOC,QAAU4c,I,2CCFjB,EAAQ,QAyBR,IAAIwC,EAAU5R,MAAM4R,QACpBrf,EAAOC,QAAUof,G,kCCxBjB,EAAQ,QAER9e,OAAOkL,eAAexL,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAiB,QAAI,CAAC,eAAgB,cAAe,oBAAqB,SAAU,cAAe,YAAa,gBAAiB,mBAAoB,iBAAkB,oBAAqB,sBAAuB,QAAS,eAAgB,UAAW,qBAAsB,mBAAoB,kBACjSD,EAAOC,QAAUA,EAAiB,S,mBCmBlCD,EAAOC,QAfP,SAAqB6O,EAAO0Q,EAAUC,EAAaC,GACjD,IAAIhc,GAAS,EACT9C,EAAkB,MAATkO,EAAgB,EAAIA,EAAMlO,OAMvC,IAJI8e,GAAa9e,IACf6e,EAAc3Q,IAAQpL,MAGfA,EAAQ9C,GACf6e,EAAcD,EAASC,EAAa3Q,EAAMpL,GAAQA,EAAOoL,GAG3D,OAAO2Q,I,qBCxBT,EAAQ,QAGR,IAAIE,EAAc,4CAalB3f,EAAOC,QAJP,SAAoB2C,GAClB,OAAOA,EAAOiH,MAAM8V,IAAgB,K,qBCbtC,IAAIC,EAAe,EAAQ,QA4B3B5f,EAAOC,QAJP,SAAkBC,GAChB,OAAgB,MAATA,EAAgB,GAAK0f,EAAa1f,K,mBCJ3CF,EAAOC,QAZP,SAAkB6O,EAAO0Q,GAKvB,IAJA,IAAI9b,GAAS,EACT9C,EAAkB,MAATkO,EAAgB,EAAIA,EAAMlO,OACnCkG,EAAS2G,MAAM7M,KAEV8C,EAAQ9C,GACfkG,EAAOpD,GAAS8b,EAAS1Q,EAAMpL,GAAQA,EAAOoL,GAGhD,OAAOhI,I,mBCjBT,IAAI+Y,EAAmB,qEAavB7f,EAAOC,QAJP,SAAwB2C,GACtB,OAAOid,EAAiBvG,KAAK1W,K,kCCT/B,EAAQ,QAERrC,OAAOkL,eAAexL,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQwd,kBAAoBxd,EAAQiN,gBAAa7M,EAEjD,IAEImd,EAAepR,EAFD,EAAQ,SAMtB0T,EAAsB1T,EAFD,EAAQ,SAIjC,SAASA,EAAuBM,GAC9B,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CACnC,QAAWA,GAIfzM,EAAiB,QAAIud,EAAsB,QAC3Cvd,EAAQiN,WAAasQ,EAAsB,QAC3Cvd,EAAQwd,kBAAoBqC,EAA6B,S,sBCzBzD,cAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAYR,IAUIjD,EAA8B,iBAAV0C,GAAsBA,GAAUA,EAAOhf,SAAWA,QAAUgf,EAGhFzC,EAA0B,iBAAR9P,MAAoBA,MAAQA,KAAKzM,SAAWA,QAAUyM,KAGxE+P,EAAOF,GAAcC,GAAYE,SAAS,cAATA,GAYrC,SAAS/b,EAAM8N,EAAMgR,EAASvS,GAC5B,OAAQA,EAAK5M,QACX,KAAK,EACH,OAAOmO,EAAK/N,KAAK+e,GAEnB,KAAK,EACH,OAAOhR,EAAK/N,KAAK+e,EAASvS,EAAK,IAEjC,KAAK,EACH,OAAOuB,EAAK/N,KAAK+e,EAASvS,EAAK,GAAIA,EAAK,IAE1C,KAAK,EACH,OAAOuB,EAAK/N,KAAK+e,EAASvS,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAGrD,OAAOuB,EAAK9N,MAAM8e,EAASvS,GAkC7B,SAASwS,EAAUlR,EAAOmR,GAKxB,IAJA,IAAIvc,GAAS,EACT9C,EAASqf,EAAOrf,OAChBsf,EAASpR,EAAMlO,SAEV8C,EAAQ9C,GACfkO,EAAMoR,EAASxc,GAASuc,EAAOvc,GAGjC,OAAOoL,EAKT,IAAI5D,EAAc3K,OAAOO,UAGrBC,EAAiBmK,EAAYnK,eAO7Buc,EAAiBpS,EAAYzB,SAG7BwB,EAAS8R,EAAK9R,OACdtJ,EAAuBuJ,EAAYvJ,qBACnCwe,EAAmBlV,EAASA,EAAOmV,wBAAqB/f,EAGxDggB,EAAYzK,KAAK0K,IA0HrB,SAASC,EAAcrgB,GACrB,OAAOmf,EAAQnf,IAuCjB,SAAqBA,GAEnB,OAoFF,SAA2BA,GACzB,OAAOH,EAAaG,IA/BtB,SAAqBA,GACnB,OAAgB,MAATA,GAqFT,SAAkBA,GAChB,MAAuB,iBAATA,GAAqBA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,GA7Z9C,iBAuUGsgB,CAAStgB,EAAMU,UAmDzC,SAAoBV,GAGlB,IAAIqL,EA6DN,SAAkBrL,GAChB,IAAI4I,SAAc5I,EAClB,QAASA,IAAkB,UAAR4I,GAA4B,YAARA,GA/D7B2X,CAASvgB,GAASod,EAAetc,KAAKd,GAAS,GACzD,MA1XY,qBA0XLqL,GAzXI,8BAyXcA,EAvD0BmV,CAAWxgB,GA8BhCygB,CAAYzgB,GArFnC0gB,CAAkB1gB,IAAUa,EAAeC,KAAKd,EAAO,aAAeyB,EAAqBX,KAAKd,EAAO,WA7QlG,sBA6Q+God,EAAetc,KAAKd,IAzCtH2gB,CAAY3gB,OAAaigB,GAAoBjgB,GAASA,EAAMigB,IAWvF,SAASW,EAAM5gB,GACb,GAAoB,iBAATA,GA2Pb,SAAkBA,GAChB,MAAuB,iBAATA,GAAqBH,EAAaG,IAzelC,mBAye4Cod,EAAetc,KAAKd,GA5P9C6gB,CAAS7gB,GACvC,OAAOA,EAGT,IAAI4G,EAAS5G,EAAQ,GACrB,MAAiB,KAAV4G,GAAiB,EAAI5G,IAzPf,IAyPoC,KAAO4G,EAmD1D,IAAIuY,EAAU5R,MAAM4R,QA6KpB,SAAStf,EAAaG,GACpB,QAASA,GAAyB,iBAATA,EA2C3B,IA9TkB6O,EAAMiS,EA8TpBC,GA9TclS,EA8TE,SAAU5O,EAAQyB,GACpC,OAAiB,MAAVzB,EAAiB,GA1W1B,SAAkBA,EAAQyB,GAExB,OAeF,SAAoBzB,EAAQyB,EAAOsf,GAKjC,IAJA,IAAIxd,GAAS,EACT9C,EAASgB,EAAMhB,OACfkG,EAAS,KAEJpD,EAAQ9C,GAAQ,CACvB,IAAIR,EAAMwB,EAAM8B,GACZxD,EAAQC,EAAOC,GAEf8gB,EAAUhhB,EAAOE,KACnB0G,EAAO1G,GAAOF,GAIlB,OAAO4G,EA7BAqa,CADPhhB,EAASI,OAAOJ,GACUyB,GAAO,SAAU1B,EAAOE,GAChD,OAAOA,KAAOD,KAuWaihB,CAASjhB,EA9cxC,SAAkB2O,EAAO0Q,GAKvB,IAJA,IAAI9b,GAAS,EACT9C,EAASkO,EAAQA,EAAMlO,OAAS,EAChCkG,EAAS2G,MAAM7M,KAEV8C,EAAQ9C,GACfkG,EAAOpD,GAAS8b,EAAS1Q,EAAMpL,GAAQA,EAAOoL,GAGhD,OAAOhI,EAqcuCua,CA5YhD,SAASC,EAAYxS,EAAOyS,EAAOL,EAAWM,EAAU1a,GACtD,IAAIpD,GAAS,EACT9C,EAASkO,EAAMlO,OAInB,IAHAsgB,IAAcA,EAAYX,GAC1BzZ,IAAWA,EAAS,MAEXpD,EAAQ9C,GAAQ,CACvB,IAAIV,EAAQ4O,EAAMpL,GAEd6d,EAAQ,GAAKL,EAAUhhB,GACrBqhB,EAAQ,EAEVD,EAAYphB,EAAOqhB,EAAQ,EAAGL,EAAWM,EAAU1a,GAEnDkZ,EAAUlZ,EAAQ5G,GAEVshB,IACV1a,EAAOA,EAAOlG,QAAUV,GAI5B,OAAO4G,EAuXgDwa,CAAY1f,EAAO,GAAIkf,KA9T9EE,EAAQX,OAAoBhgB,IAAV2gB,EAAsBjS,EAAKnO,OAAS,EAAIogB,EAAO,GAC1D,WAML,IALA,IAAIxT,EAAO7M,UACP+C,GAAS,EACT9C,EAASyf,EAAU7S,EAAK5M,OAASogB,EAAO,GACxClS,EAAQrB,MAAM7M,KAET8C,EAAQ9C,GACfkO,EAAMpL,GAAS8J,EAAKwT,EAAQtd,GAG9BA,GAAS,EAGT,IAFA,IAAI+d,EAAYhU,MAAMuT,EAAQ,KAErBtd,EAAQsd,GACfS,EAAU/d,GAAS8J,EAAK9J,GAI1B,OADA+d,EAAUT,GAASlS,EACZ7N,EAAM8N,EAAM7N,KAAMugB,KA6S7BzhB,EAAOC,QAAUghB,I,2CC1hBjB,IAIIhW,EAJO,EAAQ,QAIDA,OAClBjL,EAAOC,QAAUgL,G,qBCLjB,IA+MI4T,EA/MiB,EAAQ,OA+MV6C,CA3MG,CAEpB,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,IACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KACR,IAAQ,KAER,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,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","file":"component---src-templates-components-page-js-8312dd487e6e82d8c091.js","sourcesContent":["var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n/** `Object#toString` result references. */\n\n\nvar symbolTag = '[object Symbol]';\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\n\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike(value) && baseGetTag(value) == symbolTag;\n}\n\nmodule.exports = isSymbol;","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function (key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = basePropertyOf;","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.object.assign\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar ChevronDown = function ChevronDown(props) {\n  var color = props.color,\n      size = props.size,\n      otherProps = _objectWithoutProperties(props, [\"color\", \"size\"]);\n\n  return React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, otherProps), React.createElement(\"polyline\", {\n    points: \"6 9 12 15 18 9\"\n  }));\n};\n\nChevronDown.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nChevronDown.defaultProps = {\n  color: 'currentColor',\n  size: '24'\n};\nexport default ChevronDown;","import React from 'react'\r\nimport ChevronDown from 'react-feather/dist/icons/chevron-down'\r\nimport _kebabCase from 'lodash/kebabCase'\r\nimport './Accordion.css'\r\n\r\nexport default class Accordion extends React.Component {\r\n  static defaultProps = {\r\n    items: [],\r\n    className: ''\r\n  }\r\n\r\n  // use state to auto close but has issues mobile view. onClick={() => this.handleClick(index)}\r\n  // state = {\r\n  //   activeItem: null\r\n  // }\r\n  //\r\n  // handleClick = index => {\r\n  //   this.setState({\r\n  //     activeItem: this.state.activeItem === index ? null : index\r\n  //   })\r\n  // }\r\n\r\n  handleClick = event => event.target.classList.toggle('active')\r\n\r\n  render() {\r\n    const { items, className } = this.props\r\n    return (\r\n      <div className={`Accordion ${className}`}>\r\n        {!!items &&\r\n          items.map((item, index) => (\r\n            <div\r\n              className={`Accordion--item `}\r\n              key={`accordion-item-${_kebabCase(item.title) + '-' + index}`}\r\n              onClick={this.handleClick}\r\n            >\r\n              <h2 className=\"flex\">\r\n                <span>{item.title}</span>\r\n                <ChevronDown />\r\n              </h2>\r\n              <div className={'description'}>\r\n                {item.description} <br />\r\n                {item.link && (\r\n                  <div href={item.link} className=\"button\">\r\n                    {item.linkTitle}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component, Fragment } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Image from './Image'\r\n\r\nimport './BackgroundVideo.css'\r\n\r\nclass BackgroundVideo extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.ref = React.createRef()\r\n  }\r\n  state = {\r\n    playing: false,\r\n    mobileWidth: false\r\n  }\r\n\r\n  updateDimensions() {\r\n    this.setState({ mobileWidth: window.innerWidth <= 900 })\r\n  }\r\n\r\n  handelPlay() {\r\n    this.setState({ playing: true })\r\n    ReactDOM.findDOMNode(this.ref.current).removeEventListener(\r\n      'playing',\r\n      this.handelPlay\r\n    )\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateDimensions()\r\n    window.addEventListener('resize', () => this.updateDimensions())\r\n    ReactDOM.findDOMNode(this.ref.current).addEventListener('playing', e =>\r\n      this.handelPlay(e)\r\n    )\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.updateDimensions)\r\n  }\r\n\r\n  render() {\r\n    const { poster, videoTitle, children } = this.props\r\n    return (\r\n      <Fragment>\r\n        {!this.state.mobileWidth && (\r\n          <div className={`BackgroundVideo`}>\r\n            <video\r\n              ref={this.ref}\r\n              poster={poster}\r\n              className={`BackgroundVideo--video ${\r\n                this.state.playing ? 'playing' : ''\r\n              } `}\r\n              playsInline\r\n              autoPlay\r\n              muted\r\n              loop\r\n              preload=\"auto\"\r\n            >\r\n              {children}\r\n            </video>\r\n            {videoTitle && (\r\n              <div className=\"BackgroundVideo--videoTitle\">{videoTitle}</div>\r\n            )}\r\n          </div>\r\n        )}\r\n        {this.state.mobileWidth && (\r\n          <Fragment>\r\n            <Image background src={poster} alt=\"Background poster\" />\r\n            {videoTitle && <h3 className=\"Poster--videoTitle\">{videoTitle}</h3>}\r\n          </Fragment>\r\n        )}\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BackgroundVideo\r\n","import React, { Component, Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { graphql } from 'gatsby'\r\nimport { PhotoSwipe } from 'react-photoswipe'\r\nimport Image from './Image'\r\n\r\nimport _kebabCase from 'lodash/kebabCase'\r\n\r\nimport './Gallery.css'\r\nimport 'react-photoswipe/lib/photoswipe.css'\r\n\r\nexport const query = graphql`\r\n  fragment Gallery on MarkdownRemark {\r\n    frontmatter {\r\n      gallery {\r\n        alt\r\n        image\r\n        title\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport default class Gallery extends Component {\r\n  state = {\r\n    loaded: false,\r\n    isOpen: false,\r\n    sliderImages: [],\r\n    index: 0\r\n  }\r\n\r\n  isOpen(isOpen, index) {\r\n    if (typeof index === 'undefined') index = 0\r\n    this.setState({ isOpen, index })\r\n  }\r\n\r\n  getImageInfo = (img, index) =>\r\n    fetch(img.image + '-/json/')\r\n      .then(res => res.json())\r\n      .then(\r\n        result => {\r\n          const newImagesArr = [...this.state.sliderImages]\r\n          newImagesArr[index] = {\r\n            src: img.image,\r\n            title: img.title,\r\n            w: result.width,\r\n            h: result.height\r\n          }\r\n          this.setState({\r\n            sliderImages: newImagesArr\r\n          })\r\n          return true\r\n        },\r\n        error => {\r\n          console.log(error)\r\n          return false\r\n        }\r\n      )\r\n\r\n  componentDidMount() {\r\n    const { images } = this.props,\r\n      maxCount = images.length\r\n    let loopCount = 1\r\n\r\n    for (let i in images) {\r\n      if (this.getImageInfo(images[i], i)) {\r\n        this.setState({ loaded: loopCount === maxCount })\r\n        loopCount++\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { images } = this.props\r\n    return (\r\n      <Fragment>\r\n        {images &&\r\n          images.length > 0 && (\r\n            <div className=\"Gallery\">\r\n              {images.map((image, index) => (\r\n                <figure\r\n                  className=\"Gallery--Item\"\r\n                  key={_kebabCase(image.alt) + '-' + index}\r\n                  onClick={() => this.isOpen(true, index)}\r\n                >\r\n                  <div>\r\n                    <Image\r\n                      resolutions=\"small\"\r\n                      src={image.image}\r\n                      alt={image.alt}\r\n                    />\r\n                  </div>\r\n                  {image.title && <figcaption>{image.title}</figcaption>}\r\n                </figure>\r\n              ))}\r\n            </div>\r\n          )}\r\n        {this.state.loaded &&\r\n          this.state.sliderImages.length > 0 && (\r\n            <PhotoSwipe\r\n              isOpen={this.state.isOpen}\r\n              items={this.state.sliderImages}\r\n              options={{\r\n                index: this.state.index,\r\n                history: false\r\n              }}\r\n              onClose={() => this.isOpen(false)}\r\n            />\r\n          )}\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nGallery.propTypes = {\r\n  images: PropTypes.array.isRequired\r\n}\r\n","import React, { Component, Fragment } from 'react'\r\nimport { X } from 'react-feather'\r\n\r\nimport './Popup.css'\r\n\r\nclass Popup extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = { showPopup: false }\r\n  }\r\n\r\n  togglePopup() {\r\n    this.setState({\r\n      showPopup: !this.state.showPopup\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { children } = this.props\r\n    return (\r\n      <Fragment>\r\n        <div className=\"taCenter\">\r\n          <h3> Simple Popup Example</h3>\r\n          <div class=\"Button\" onClick={this.togglePopup.bind(this)}>\r\n            Click To Launch Popup\r\n          </div>\r\n        </div>\r\n\r\n        {this.state.showPopup ? (\r\n          <div className=\"Popup-Overlay\">\r\n            <div\r\n              className=\"Popup-Background\"\r\n              onClick={this.togglePopup.bind(this)}\r\n            ></div>\r\n            <div className=\"Popup-Inner\">\r\n              <X class=\"Popup-Close\" onClick={this.togglePopup.bind(this)} />\r\n              {children}\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\nexport default Popup\r\n","import React from 'react'\r\nimport { graphql } from 'gatsby'\r\n\r\nimport PageHeader from '../components/PageHeader'\r\nimport Content from '../components/Content.js'\r\nimport Layout from '../components/Layout.js'\r\nimport Accordion from '../components/Accordion'\r\nimport BackgroundVideo from '../components/BackgroundVideo'\r\nimport Gallery from '../components/Gallery'\r\nimport Popup from '../components/Popup'\r\n\r\n// Export Template for use in CMS preview\r\nexport const ComponentsPageTemplate = ({\r\n  title,\r\n  subtitle,\r\n  featuredImage,\r\n  section1,\r\n  section2,\r\n  video,\r\n  videoPoster,\r\n  videoTitle,\r\n  accordion,\r\n  body,\r\n  gallery\r\n}) => (\r\n  <main>\r\n    <PageHeader\r\n      title={title}\r\n      subtitle={subtitle}\r\n      backgroundImage={featuredImage}\r\n    />\r\n    <section className=\"section\">\r\n      <div className=\"container\">\r\n        <Content source={section1} />\r\n      </div>\r\n    </section>\r\n\r\n    <section className=\"section\">\r\n      <div className=\"container\">\r\n        <h2>Our gallery component</h2>\r\n        <Gallery images={gallery} />\r\n      </div>\r\n    </section>\r\n\r\n    <section className=\"section\">\r\n      <div className=\"container\">\r\n        <Content source={section2} />\r\n      </div>\r\n    </section>\r\n\r\n    <section className=\"BackgroundVideo-section section\">\r\n      <BackgroundVideo poster={videoPoster} videoTitle={videoTitle}>\r\n        {video && <source src={video} type=\"video/mp4\" />}\r\n      </BackgroundVideo>\r\n    </section>\r\n\r\n    <section className=\"section\">\r\n      <div className=\"container\">\r\n        <Accordion items={accordion} />\r\n      </div>\r\n    </section>\r\n\r\n    <section className=\"section\">\r\n      <div className=\"container\">\r\n        <Popup>\r\n          <Content source={section1} />\r\n        </Popup>\r\n      </div>\r\n    </section>\r\n  </main>\r\n)\r\n\r\nconst ComponentsPage = ({ data: { page } }) => (\r\n  <Layout\r\n    meta={page.frontmatter.meta || false}\r\n    title={page.frontmatter.title || false}\r\n  >\r\n    <ComponentsPageTemplate {...page} {...page.frontmatter} body={page.html} />\r\n  </Layout>\r\n)\r\n\r\nexport default ComponentsPage\r\n\r\nexport const pageQuery = graphql`\r\n  query ComponentsPage($id: String!) {\r\n    page: markdownRemark(id: { eq: $id }) {\r\n      ...Meta\r\n      ...Gallery\r\n      html\r\n      frontmatter {\r\n        title\r\n        template\r\n        subtitle\r\n        featuredImage\r\n        section1\r\n        section2\r\n        video\r\n        videoPoster\r\n        videoTitle\r\n        accordion {\r\n          title\r\n          description\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n","require(\"core-js/modules/es6.regexp.match\");\n\nvar asciiWords = require('./_asciiWords'),\n    hasUnicodeWord = require('./_hasUnicodeWord'),\n    toString = require('./toString'),\n    unicodeWords = require('./_unicodeWords');\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\n\n\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n  }\n\n  return string.match(pattern) || [];\n}\n\nmodule.exports = words;","require(\"core-js/modules/es6.regexp.match\");\n\nrequire(\"core-js/modules/es6.regexp.constructor\");\n\n/** Used to compose unicode character classes. */\nvar rsAstralRange = \"\\\\ud800-\\\\udfff\",\n    rsComboMarksRange = \"\\\\u0300-\\\\u036f\",\n    reComboHalfMarksRange = \"\\\\ufe20-\\\\ufe2f\",\n    rsComboSymbolsRange = \"\\\\u20d0-\\\\u20ff\",\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsDingbatRange = \"\\\\u2700-\\\\u27bf\",\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = \"\\\\u2000-\\\\u206f\",\n    rsSpaceRange = \" \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\",\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = \"\\\\ufe0e\\\\ufe0f\",\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n/** Used to compose unicode capture groups. */\n\nvar rsApos = \"['\\u2019]\",\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = \"\\\\ud83c[\\\\udffb-\\\\udfff]\",\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = \"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",\n    rsSurrPair = \"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = \"\\\\u200d\";\n/** Used to compose unicode regexes. */\n\nvar rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n    rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;\n/** Used to match complex or compound words. */\n\nvar reUnicodeWord = RegExp([rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')', rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')', rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower, rsUpper + '+' + rsOptContrUpper, rsOrdUpper, rsOrdLower, rsDigits, rsEmoji].join('|'), 'g');\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\n\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\nmodule.exports = unicodeWords;","require(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nvar Symbol = require('./_Symbol');\n/** Used for built-in method references. */\n\n\nvar objectProto = Object.prototype;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty = objectProto.hasOwnProperty;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar nativeObjectToString = objectProto.toString;\n/** Built-in value references. */\n\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\n\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n\n  return result;\n}\n\nmodule.exports = getRawTag;","'use strict';\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.string.trim\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _photoswipe = require('photoswipe');\n\nvar _photoswipe2 = _interopRequireDefault(_photoswipe);\n\nvar _photoswipeUiDefault = require('photoswipe/dist/photoswipe-ui-default');\n\nvar _photoswipeUiDefault2 = _interopRequireDefault(_photoswipeUiDefault);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _events = require('./events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar PhotoSwipe = function (_React$Component) {\n  _inherits(PhotoSwipe, _React$Component);\n\n  function PhotoSwipe() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, PhotoSwipe);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = PhotoSwipe.__proto__ || Object.getPrototypeOf(PhotoSwipe)).call.apply(_ref, [this].concat(args))), _this), _initialiseProps.call(_this), _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(PhotoSwipe, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var id = this.props.id;\n      var className = this.props.className;\n      className = (0, _classnames2[\"default\"])(['pswp', className]).trim();\n      return _react2[\"default\"].createElement('div', {\n        id: id,\n        className: className,\n        tabIndex: '-1',\n        role: 'dialog',\n        'aria-hidden': 'true',\n        ref: function ref(node) {\n          _this2.pswpElement = node;\n        }\n      }, _react2[\"default\"].createElement('div', {\n        className: 'pswp__bg'\n      }), _react2[\"default\"].createElement('div', {\n        className: 'pswp__scroll-wrap'\n      }, _react2[\"default\"].createElement('div', {\n        className: 'pswp__container'\n      }, _react2[\"default\"].createElement('div', {\n        className: 'pswp__item'\n      }), _react2[\"default\"].createElement('div', {\n        className: 'pswp__item'\n      }), _react2[\"default\"].createElement('div', {\n        className: 'pswp__item'\n      })), _react2[\"default\"].createElement('div', {\n        className: 'pswp__ui pswp__ui--hidden'\n      }, _react2[\"default\"].createElement('div', {\n        className: 'pswp__top-bar'\n      }, _react2[\"default\"].createElement('div', {\n        className: 'pswp__counter'\n      }), _react2[\"default\"].createElement('button', {\n        className: 'pswp__button pswp__button--close',\n        title: 'Close (Esc)'\n      }), _react2[\"default\"].createElement('button', {\n        className: 'pswp__button pswp__button--share',\n        title: 'Share'\n      }), _react2[\"default\"].createElement('button', {\n        className: 'pswp__button pswp__button--fs',\n        title: 'Toggle fullscreen'\n      }), _react2[\"default\"].createElement('button', {\n        className: 'pswp__button pswp__button--zoom',\n        title: 'Zoom in/out'\n      }), _react2[\"default\"].createElement('div', {\n        className: 'pswp__preloader'\n      }, _react2[\"default\"].createElement('div', {\n        className: 'pswp__preloader__icn'\n      }, _react2[\"default\"].createElement('div', {\n        className: 'pswp__preloader__cut'\n      }, _react2[\"default\"].createElement('div', {\n        className: 'pswp__preloader__donut'\n      }))))), _react2[\"default\"].createElement('div', {\n        className: 'pswp__share-modal pswp__share-modal--hidden pswp__single-tap'\n      }, _react2[\"default\"].createElement('div', {\n        className: 'pswp__share-tooltip'\n      })), _react2[\"default\"].createElement('button', {\n        className: 'pswp__button pswp__button--arrow--left',\n        title: 'Previous (arrow left)'\n      }), _react2[\"default\"].createElement('button', {\n        className: 'pswp__button pswp__button--arrow--right',\n        title: 'Next (arrow right)'\n      }), _react2[\"default\"].createElement('div', {\n        className: 'pswp__caption'\n      }, _react2[\"default\"].createElement('div', {\n        className: 'pswp__caption__center'\n      })))));\n    }\n  }]);\n\n  return PhotoSwipe;\n}(_react2[\"default\"].Component);\n\nPhotoSwipe.propTypes = {\n  isOpen: _propTypes2[\"default\"].bool.isRequired,\n  items: _propTypes2[\"default\"].array.isRequired,\n  options: _propTypes2[\"default\"].object,\n  onClose: _propTypes2[\"default\"].func,\n  id: _propTypes2[\"default\"].string,\n  className: _propTypes2[\"default\"].string\n};\nPhotoSwipe.defaultProps = {\n  options: {},\n  onClose: function onClose() {},\n  id: '',\n  className: ''\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.state = {\n    isOpen: this.props.isOpen\n  };\n\n  this.componentDidMount = function () {\n    var isOpen = _this3.state.isOpen;\n\n    if (isOpen) {\n      _this3.openPhotoSwipe(_this3.props);\n    }\n  };\n\n  this.componentWillReceiveProps = function (nextProps) {\n    var isOpen = _this3.state.isOpen;\n\n    if (nextProps.isOpen) {\n      if (!isOpen) {\n        _this3.openPhotoSwipe(nextProps);\n      } else {\n        _this3.updateItems(nextProps.items);\n      }\n    } else if (isOpen) {\n      _this3.closePhotoSwipe();\n    }\n  };\n\n  this.componentWillUnmount = function () {\n    _this3.closePhotoSwipe();\n  };\n\n  this.openPhotoSwipe = function (props) {\n    var items = props.items,\n        options = props.options;\n    var pswpElement = _this3.pswpElement;\n    _this3.photoSwipe = new _photoswipe2[\"default\"](pswpElement, _photoswipeUiDefault2[\"default\"], items, options);\n\n    _events2[\"default\"].forEach(function (event) {\n      var callback = props[event];\n\n      if (callback || event === 'destroy') {\n        var self = _this3;\n\n        _this3.photoSwipe.listen(event, function () {\n          if (callback) {\n            for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n              args[_key2] = arguments[_key2];\n            }\n\n            args.unshift(this);\n            callback.apply(undefined, args);\n          }\n\n          if (event === 'destroy') {\n            self.handleClose();\n          }\n        });\n      }\n    });\n\n    _this3.setState({\n      isOpen: true\n    }, function () {\n      _this3.photoSwipe.init();\n    });\n  };\n\n  this.updateItems = function () {\n    var items = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    _this3.photoSwipe.items.length = 0;\n    items.forEach(function (item) {\n      _this3.photoSwipe.items.push(item);\n    });\n\n    _this3.photoSwipe.invalidateCurrItems();\n\n    _this3.photoSwipe.updateSize(true);\n  };\n\n  this.closePhotoSwipe = function () {\n    if (!_this3.photoSwipe) {\n      return;\n    }\n\n    _this3.photoSwipe.close();\n  };\n\n  this.handleClose = function () {\n    var onClose = _this3.props.onClose;\n\n    _this3.setState({\n      isOpen: false\n    }, function () {\n      if (onClose) {\n        onClose();\n      }\n    });\n  };\n};\n\nexports[\"default\"] = PhotoSwipe;\nmodule.exports = exports['default'];","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;","require(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\n/*! PhotoSwipe Default UI - 4.1.3 - 2019-01-08\n* http://photoswipe.com\n* Copyright (c) 2019 Dmitry Semenov; */\n\n/**\n*\n* UI on top of main sliding area (caption, arrows, close button, etc.).\n* Built just using public methods/properties of PhotoSwipe.\n* \n*/\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.PhotoSwipeUI_Default = factory();\n  }\n})(this, function () {\n  'use strict';\n\n  var PhotoSwipeUI_Default = function PhotoSwipeUI_Default(pswp, framework) {\n    var ui = this;\n\n    var _overlayUIUpdated = false,\n        _controlsVisible = true,\n        _fullscrenAPI,\n        _controls,\n        _captionContainer,\n        _fakeCaptionContainer,\n        _indexIndicator,\n        _shareButton,\n        _shareModal,\n        _shareModalHidden = true,\n        _initalCloseOnScrollValue,\n        _isIdle,\n        _listen,\n        _loadingIndicator,\n        _loadingIndicatorHidden,\n        _loadingIndicatorTimeout,\n        _galleryHasOneSlide,\n        _options,\n        _defaultUIOptions = {\n      barsSize: {\n        top: 44,\n        bottom: 'auto'\n      },\n      closeElClasses: ['item', 'caption', 'zoom-wrap', 'ui', 'top-bar'],\n      timeToIdle: 4000,\n      timeToIdleOutside: 1000,\n      loadingIndicatorDelay: 1000,\n      // 2s\n      addCaptionHTMLFn: function addCaptionHTMLFn(item, captionEl\n      /*, isFake */\n      ) {\n        if (!item.title) {\n          captionEl.children[0].innerHTML = '';\n          return false;\n        }\n\n        captionEl.children[0].innerHTML = item.title;\n        return true;\n      },\n      closeEl: true,\n      captionEl: true,\n      fullscreenEl: true,\n      zoomEl: true,\n      shareEl: true,\n      counterEl: true,\n      arrowEl: true,\n      preloaderEl: true,\n      tapToClose: false,\n      tapToToggleControls: true,\n      clickToCloseNonZoomable: true,\n      shareButtons: [{\n        id: 'facebook',\n        label: 'Share on Facebook',\n        url: 'https://www.facebook.com/sharer/sharer.php?u={{url}}'\n      }, {\n        id: 'twitter',\n        label: 'Tweet',\n        url: 'https://twitter.com/intent/tweet?text={{text}}&url={{url}}'\n      }, {\n        id: 'pinterest',\n        label: 'Pin it',\n        url: 'http://www.pinterest.com/pin/create/button/' + '?url={{url}}&media={{image_url}}&description={{text}}'\n      }, {\n        id: 'download',\n        label: 'Download image',\n        url: '{{raw_image_url}}',\n        download: true\n      }],\n      getImageURLForShare: function getImageURLForShare()\n      /* shareButtonData */\n      {\n        return pswp.currItem.src || '';\n      },\n      getPageURLForShare: function getPageURLForShare()\n      /* shareButtonData */\n      {\n        return window.location.href;\n      },\n      getTextForShare: function getTextForShare()\n      /* shareButtonData */\n      {\n        return pswp.currItem.title || '';\n      },\n      indexIndicatorSep: ' / ',\n      fitControlsWidth: 1200\n    },\n        _blockControlsTap,\n        _blockControlsTapTimeout;\n\n    var _onControlsTap = function _onControlsTap(e) {\n      if (_blockControlsTap) {\n        return true;\n      }\n\n      e = e || window.event;\n\n      if (_options.timeToIdle && _options.mouseUsed && !_isIdle) {\n        // reset idle timer\n        _onIdleMouseMove();\n      }\n\n      var target = e.target || e.srcElement,\n          uiElement,\n          clickedClass = target.getAttribute('class') || '',\n          found;\n\n      for (var i = 0; i < _uiElements.length; i++) {\n        uiElement = _uiElements[i];\n\n        if (uiElement.onTap && clickedClass.indexOf('pswp__' + uiElement.name) > -1) {\n          uiElement.onTap();\n          found = true;\n        }\n      }\n\n      if (found) {\n        if (e.stopPropagation) {\n          e.stopPropagation();\n        }\n\n        _blockControlsTap = true; // Some versions of Android don't prevent ghost click event \n        // when preventDefault() was called on touchstart and/or touchend.\n        // \n        // This happens on v4.3, 4.2, 4.1, \n        // older versions strangely work correctly, \n        // but just in case we add delay on all of them)\t\n\n        var tapDelay = framework.features.isOldAndroid ? 600 : 30;\n        _blockControlsTapTimeout = setTimeout(function () {\n          _blockControlsTap = false;\n        }, tapDelay);\n      }\n    },\n        _fitControlsInViewport = function _fitControlsInViewport() {\n      return !pswp.likelyTouchDevice || _options.mouseUsed || screen.width > _options.fitControlsWidth;\n    },\n        _togglePswpClass = function _togglePswpClass(el, cName, add) {\n      framework[(add ? 'add' : 'remove') + 'Class'](el, 'pswp__' + cName);\n    },\n        // add class when there is just one item in the gallery\n    // (by default it hides left/right arrows and 1ofX counter)\n    _countNumItems = function _countNumItems() {\n      var hasOneSlide = _options.getNumItemsFn() === 1;\n\n      if (hasOneSlide !== _galleryHasOneSlide) {\n        _togglePswpClass(_controls, 'ui--one-slide', hasOneSlide);\n\n        _galleryHasOneSlide = hasOneSlide;\n      }\n    },\n        _toggleShareModalClass = function _toggleShareModalClass() {\n      _togglePswpClass(_shareModal, 'share-modal--hidden', _shareModalHidden);\n    },\n        _toggleShareModal = function _toggleShareModal() {\n      _shareModalHidden = !_shareModalHidden;\n\n      if (!_shareModalHidden) {\n        _toggleShareModalClass();\n\n        setTimeout(function () {\n          if (!_shareModalHidden) {\n            framework.addClass(_shareModal, 'pswp__share-modal--fade-in');\n          }\n        }, 30);\n      } else {\n        framework.removeClass(_shareModal, 'pswp__share-modal--fade-in');\n        setTimeout(function () {\n          if (_shareModalHidden) {\n            _toggleShareModalClass();\n          }\n        }, 300);\n      }\n\n      if (!_shareModalHidden) {\n        _updateShareURLs();\n      }\n\n      return false;\n    },\n        _openWindowPopup = function _openWindowPopup(e) {\n      e = e || window.event;\n      var target = e.target || e.srcElement;\n      pswp.shout('shareLinkClick', e, target);\n\n      if (!target.href) {\n        return false;\n      }\n\n      if (target.hasAttribute('download')) {\n        return true;\n      }\n\n      window.open(target.href, 'pswp_share', 'scrollbars=yes,resizable=yes,toolbar=no,' + 'location=yes,width=550,height=420,top=100,left=' + (window.screen ? Math.round(screen.width / 2 - 275) : 100));\n\n      if (!_shareModalHidden) {\n        _toggleShareModal();\n      }\n\n      return false;\n    },\n        _updateShareURLs = function _updateShareURLs() {\n      var shareButtonOut = '',\n          shareButtonData,\n          shareURL,\n          image_url,\n          page_url,\n          share_text;\n\n      for (var i = 0; i < _options.shareButtons.length; i++) {\n        shareButtonData = _options.shareButtons[i];\n        image_url = _options.getImageURLForShare(shareButtonData);\n        page_url = _options.getPageURLForShare(shareButtonData);\n        share_text = _options.getTextForShare(shareButtonData);\n        shareURL = shareButtonData.url.replace('{{url}}', encodeURIComponent(page_url)).replace('{{image_url}}', encodeURIComponent(image_url)).replace('{{raw_image_url}}', image_url).replace('{{text}}', encodeURIComponent(share_text));\n        shareButtonOut += '<a href=\"' + shareURL + '\" target=\"_blank\" ' + 'class=\"pswp__share--' + shareButtonData.id + '\"' + (shareButtonData.download ? 'download' : '') + '>' + shareButtonData.label + '</a>';\n\n        if (_options.parseShareButtonOut) {\n          shareButtonOut = _options.parseShareButtonOut(shareButtonData, shareButtonOut);\n        }\n      }\n\n      _shareModal.children[0].innerHTML = shareButtonOut;\n      _shareModal.children[0].onclick = _openWindowPopup;\n    },\n        _hasCloseClass = function _hasCloseClass(target) {\n      for (var i = 0; i < _options.closeElClasses.length; i++) {\n        if (framework.hasClass(target, 'pswp__' + _options.closeElClasses[i])) {\n          return true;\n        }\n      }\n    },\n        _idleInterval,\n        _idleTimer,\n        _idleIncrement = 0,\n        _onIdleMouseMove = function _onIdleMouseMove() {\n      clearTimeout(_idleTimer);\n      _idleIncrement = 0;\n\n      if (_isIdle) {\n        ui.setIdle(false);\n      }\n    },\n        _onMouseLeaveWindow = function _onMouseLeaveWindow(e) {\n      e = e ? e : window.event;\n      var from = e.relatedTarget || e.toElement;\n\n      if (!from || from.nodeName === 'HTML') {\n        clearTimeout(_idleTimer);\n        _idleTimer = setTimeout(function () {\n          ui.setIdle(true);\n        }, _options.timeToIdleOutside);\n      }\n    },\n        _setupFullscreenAPI = function _setupFullscreenAPI() {\n      if (_options.fullscreenEl && !framework.features.isOldAndroid) {\n        if (!_fullscrenAPI) {\n          _fullscrenAPI = ui.getFullscreenAPI();\n        }\n\n        if (_fullscrenAPI) {\n          framework.bind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n          ui.updateFullscreen();\n          framework.addClass(pswp.template, 'pswp--supports-fs');\n        } else {\n          framework.removeClass(pswp.template, 'pswp--supports-fs');\n        }\n      }\n    },\n        _setupLoadingIndicator = function _setupLoadingIndicator() {\n      // Setup loading indicator\n      if (_options.preloaderEl) {\n        _toggleLoadingIndicator(true);\n\n        _listen('beforeChange', function () {\n          clearTimeout(_loadingIndicatorTimeout); // display loading indicator with delay\n\n          _loadingIndicatorTimeout = setTimeout(function () {\n            if (pswp.currItem && pswp.currItem.loading) {\n              if (!pswp.allowProgressiveImg() || pswp.currItem.img && !pswp.currItem.img.naturalWidth) {\n                // show preloader if progressive loading is not enabled, \n                // or image width is not defined yet (because of slow connection)\n                _toggleLoadingIndicator(false); // items-controller.js function allowProgressiveImg\n\n              }\n            } else {\n              _toggleLoadingIndicator(true); // hide preloader\n\n            }\n          }, _options.loadingIndicatorDelay);\n        });\n\n        _listen('imageLoadComplete', function (index, item) {\n          if (pswp.currItem === item) {\n            _toggleLoadingIndicator(true);\n          }\n        });\n      }\n    },\n        _toggleLoadingIndicator = function _toggleLoadingIndicator(hide) {\n      if (_loadingIndicatorHidden !== hide) {\n        _togglePswpClass(_loadingIndicator, 'preloader--active', !hide);\n\n        _loadingIndicatorHidden = hide;\n      }\n    },\n        _applyNavBarGaps = function _applyNavBarGaps(item) {\n      var gap = item.vGap;\n\n      if (_fitControlsInViewport()) {\n        var bars = _options.barsSize;\n\n        if (_options.captionEl && bars.bottom === 'auto') {\n          if (!_fakeCaptionContainer) {\n            _fakeCaptionContainer = framework.createEl('pswp__caption pswp__caption--fake');\n\n            _fakeCaptionContainer.appendChild(framework.createEl('pswp__caption__center'));\n\n            _controls.insertBefore(_fakeCaptionContainer, _captionContainer);\n\n            framework.addClass(_controls, 'pswp__ui--fit');\n          }\n\n          if (_options.addCaptionHTMLFn(item, _fakeCaptionContainer, true)) {\n            var captionSize = _fakeCaptionContainer.clientHeight;\n            gap.bottom = parseInt(captionSize, 10) || 44;\n          } else {\n            gap.bottom = bars.top; // if no caption, set size of bottom gap to size of top\n          }\n        } else {\n          gap.bottom = bars.bottom === 'auto' ? 0 : bars.bottom;\n        } // height of top bar is static, no need to calculate it\n\n\n        gap.top = bars.top;\n      } else {\n        gap.top = gap.bottom = 0;\n      }\n    },\n        _setupIdle = function _setupIdle() {\n      // Hide controls when mouse is used\n      if (_options.timeToIdle) {\n        _listen('mouseUsed', function () {\n          framework.bind(document, 'mousemove', _onIdleMouseMove);\n          framework.bind(document, 'mouseout', _onMouseLeaveWindow);\n          _idleInterval = setInterval(function () {\n            _idleIncrement++;\n\n            if (_idleIncrement === 2) {\n              ui.setIdle(true);\n            }\n          }, _options.timeToIdle / 2);\n        });\n      }\n    },\n        _setupHidingControlsDuringGestures = function _setupHidingControlsDuringGestures() {\n      // Hide controls on vertical drag\n      _listen('onVerticalDrag', function (now) {\n        if (_controlsVisible && now < 0.95) {\n          ui.hideControls();\n        } else if (!_controlsVisible && now >= 0.95) {\n          ui.showControls();\n        }\n      }); // Hide controls when pinching to close\n\n\n      var pinchControlsHidden;\n\n      _listen('onPinchClose', function (now) {\n        if (_controlsVisible && now < 0.9) {\n          ui.hideControls();\n          pinchControlsHidden = true;\n        } else if (pinchControlsHidden && !_controlsVisible && now > 0.9) {\n          ui.showControls();\n        }\n      });\n\n      _listen('zoomGestureEnded', function () {\n        pinchControlsHidden = false;\n\n        if (pinchControlsHidden && !_controlsVisible) {\n          ui.showControls();\n        }\n      });\n    };\n\n    var _uiElements = [{\n      name: 'caption',\n      option: 'captionEl',\n      onInit: function onInit(el) {\n        _captionContainer = el;\n      }\n    }, {\n      name: 'share-modal',\n      option: 'shareEl',\n      onInit: function onInit(el) {\n        _shareModal = el;\n      },\n      onTap: function onTap() {\n        _toggleShareModal();\n      }\n    }, {\n      name: 'button--share',\n      option: 'shareEl',\n      onInit: function onInit(el) {\n        _shareButton = el;\n      },\n      onTap: function onTap() {\n        _toggleShareModal();\n      }\n    }, {\n      name: 'button--zoom',\n      option: 'zoomEl',\n      onTap: pswp.toggleDesktopZoom\n    }, {\n      name: 'counter',\n      option: 'counterEl',\n      onInit: function onInit(el) {\n        _indexIndicator = el;\n      }\n    }, {\n      name: 'button--close',\n      option: 'closeEl',\n      onTap: pswp.close\n    }, {\n      name: 'button--arrow--left',\n      option: 'arrowEl',\n      onTap: pswp.prev\n    }, {\n      name: 'button--arrow--right',\n      option: 'arrowEl',\n      onTap: pswp.next\n    }, {\n      name: 'button--fs',\n      option: 'fullscreenEl',\n      onTap: function onTap() {\n        if (_fullscrenAPI.isFullscreen()) {\n          _fullscrenAPI.exit();\n        } else {\n          _fullscrenAPI.enter();\n        }\n      }\n    }, {\n      name: 'preloader',\n      option: 'preloaderEl',\n      onInit: function onInit(el) {\n        _loadingIndicator = el;\n      }\n    }];\n\n    var _setupUIElements = function _setupUIElements() {\n      var item, classAttr, uiElement;\n\n      var loopThroughChildElements = function loopThroughChildElements(sChildren) {\n        if (!sChildren) {\n          return;\n        }\n\n        var l = sChildren.length;\n\n        for (var i = 0; i < l; i++) {\n          item = sChildren[i];\n          classAttr = item.className;\n\n          for (var a = 0; a < _uiElements.length; a++) {\n            uiElement = _uiElements[a];\n\n            if (classAttr.indexOf('pswp__' + uiElement.name) > -1) {\n              if (_options[uiElement.option]) {\n                // if element is not disabled from options\n                framework.removeClass(item, 'pswp__element--disabled');\n\n                if (uiElement.onInit) {\n                  uiElement.onInit(item);\n                } //item.style.display = 'block';\n\n              } else {\n                framework.addClass(item, 'pswp__element--disabled'); //item.style.display = 'none';\n              }\n            }\n          }\n        }\n      };\n\n      loopThroughChildElements(_controls.children);\n      var topBar = framework.getChildByClass(_controls, 'pswp__top-bar');\n\n      if (topBar) {\n        loopThroughChildElements(topBar.children);\n      }\n    };\n\n    ui.init = function () {\n      // extend options\n      framework.extend(pswp.options, _defaultUIOptions, true); // create local link for fast access\n\n      _options = pswp.options; // find pswp__ui element\n\n      _controls = framework.getChildByClass(pswp.scrollWrap, 'pswp__ui'); // create local link\n\n      _listen = pswp.listen;\n\n      _setupHidingControlsDuringGestures(); // update controls when slides change\n\n\n      _listen('beforeChange', ui.update); // toggle zoom on double-tap\n\n\n      _listen('doubleTap', function (point) {\n        var initialZoomLevel = pswp.currItem.initialZoomLevel;\n\n        if (pswp.getZoomLevel() !== initialZoomLevel) {\n          pswp.zoomTo(initialZoomLevel, point, 333);\n        } else {\n          pswp.zoomTo(_options.getDoubleTapZoom(false, pswp.currItem), point, 333);\n        }\n      }); // Allow text selection in caption\n\n\n      _listen('preventDragEvent', function (e, isDown, preventObj) {\n        var t = e.target || e.srcElement;\n\n        if (t && t.getAttribute('class') && e.type.indexOf('mouse') > -1 && (t.getAttribute('class').indexOf('__caption') > 0 || /(SMALL|STRONG|EM)/i.test(t.tagName))) {\n          preventObj.prevent = false;\n        }\n      }); // bind events for UI\n\n\n      _listen('bindEvents', function () {\n        framework.bind(_controls, 'pswpTap click', _onControlsTap);\n        framework.bind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\n        if (!pswp.likelyTouchDevice) {\n          framework.bind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n        }\n      }); // unbind events for UI\n\n\n      _listen('unbindEvents', function () {\n        if (!_shareModalHidden) {\n          _toggleShareModal();\n        }\n\n        if (_idleInterval) {\n          clearInterval(_idleInterval);\n        }\n\n        framework.unbind(document, 'mouseout', _onMouseLeaveWindow);\n        framework.unbind(document, 'mousemove', _onIdleMouseMove);\n        framework.unbind(_controls, 'pswpTap click', _onControlsTap);\n        framework.unbind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n        framework.unbind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\n        if (_fullscrenAPI) {\n          framework.unbind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\n          if (_fullscrenAPI.isFullscreen()) {\n            _options.hideAnimationDuration = 0;\n\n            _fullscrenAPI.exit();\n          }\n\n          _fullscrenAPI = null;\n        }\n      }); // clean up things when gallery is destroyed\n\n\n      _listen('destroy', function () {\n        if (_options.captionEl) {\n          if (_fakeCaptionContainer) {\n            _controls.removeChild(_fakeCaptionContainer);\n          }\n\n          framework.removeClass(_captionContainer, 'pswp__caption--empty');\n        }\n\n        if (_shareModal) {\n          _shareModal.children[0].onclick = null;\n        }\n\n        framework.removeClass(_controls, 'pswp__ui--over-close');\n        framework.addClass(_controls, 'pswp__ui--hidden');\n        ui.setIdle(false);\n      });\n\n      if (!_options.showAnimationDuration) {\n        framework.removeClass(_controls, 'pswp__ui--hidden');\n      }\n\n      _listen('initialZoomIn', function () {\n        if (_options.showAnimationDuration) {\n          framework.removeClass(_controls, 'pswp__ui--hidden');\n        }\n      });\n\n      _listen('initialZoomOut', function () {\n        framework.addClass(_controls, 'pswp__ui--hidden');\n      });\n\n      _listen('parseVerticalMargin', _applyNavBarGaps);\n\n      _setupUIElements();\n\n      if (_options.shareEl && _shareButton && _shareModal) {\n        _shareModalHidden = true;\n      }\n\n      _countNumItems();\n\n      _setupIdle();\n\n      _setupFullscreenAPI();\n\n      _setupLoadingIndicator();\n    };\n\n    ui.setIdle = function (isIdle) {\n      _isIdle = isIdle;\n\n      _togglePswpClass(_controls, 'ui--idle', isIdle);\n    };\n\n    ui.update = function () {\n      // Don't update UI if it's hidden\n      if (_controlsVisible && pswp.currItem) {\n        ui.updateIndexIndicator();\n\n        if (_options.captionEl) {\n          _options.addCaptionHTMLFn(pswp.currItem, _captionContainer);\n\n          _togglePswpClass(_captionContainer, 'caption--empty', !pswp.currItem.title);\n        }\n\n        _overlayUIUpdated = true;\n      } else {\n        _overlayUIUpdated = false;\n      }\n\n      if (!_shareModalHidden) {\n        _toggleShareModal();\n      }\n\n      _countNumItems();\n    };\n\n    ui.updateFullscreen = function (e) {\n      if (e) {\n        // some browsers change window scroll position during the fullscreen\n        // so PhotoSwipe updates it just in case\n        setTimeout(function () {\n          pswp.setScrollOffset(0, framework.getScrollY());\n        }, 50);\n      } // toogle pswp--fs class on root element\n\n\n      framework[(_fullscrenAPI.isFullscreen() ? 'add' : 'remove') + 'Class'](pswp.template, 'pswp--fs');\n    };\n\n    ui.updateIndexIndicator = function () {\n      if (_options.counterEl) {\n        _indexIndicator.innerHTML = pswp.getCurrentIndex() + 1 + _options.indexIndicatorSep + _options.getNumItemsFn();\n      }\n    };\n\n    ui.onGlobalTap = function (e) {\n      e = e || window.event;\n      var target = e.target || e.srcElement;\n\n      if (_blockControlsTap) {\n        return;\n      }\n\n      if (e.detail && e.detail.pointerType === 'mouse') {\n        // close gallery if clicked outside of the image\n        if (_hasCloseClass(target)) {\n          pswp.close();\n          return;\n        }\n\n        if (framework.hasClass(target, 'pswp__img')) {\n          if (pswp.getZoomLevel() === 1 && pswp.getZoomLevel() <= pswp.currItem.fitRatio) {\n            if (_options.clickToCloseNonZoomable) {\n              pswp.close();\n            }\n          } else {\n            pswp.toggleDesktopZoom(e.detail.releasePoint);\n          }\n        }\n      } else {\n        // tap anywhere (except buttons) to toggle visibility of controls\n        if (_options.tapToToggleControls) {\n          if (_controlsVisible) {\n            ui.hideControls();\n          } else {\n            ui.showControls();\n          }\n        } // tap to close gallery\n\n\n        if (_options.tapToClose && (framework.hasClass(target, 'pswp__img') || _hasCloseClass(target))) {\n          pswp.close();\n          return;\n        }\n      }\n    };\n\n    ui.onMouseOver = function (e) {\n      e = e || window.event;\n      var target = e.target || e.srcElement; // add class when mouse is over an element that should close the gallery\n\n      _togglePswpClass(_controls, 'ui--over-close', _hasCloseClass(target));\n    };\n\n    ui.hideControls = function () {\n      framework.addClass(_controls, 'pswp__ui--hidden');\n      _controlsVisible = false;\n    };\n\n    ui.showControls = function () {\n      _controlsVisible = true;\n\n      if (!_overlayUIUpdated) {\n        ui.update();\n      }\n\n      framework.removeClass(_controls, 'pswp__ui--hidden');\n    };\n\n    ui.supportsFullscreen = function () {\n      var d = document;\n      return !!(d.exitFullscreen || d.mozCancelFullScreen || d.webkitExitFullscreen || d.msExitFullscreen);\n    };\n\n    ui.getFullscreenAPI = function () {\n      var dE = document.documentElement,\n          api,\n          tF = 'fullscreenchange';\n\n      if (dE.requestFullscreen) {\n        api = {\n          enterK: 'requestFullscreen',\n          exitK: 'exitFullscreen',\n          elementK: 'fullscreenElement',\n          eventK: tF\n        };\n      } else if (dE.mozRequestFullScreen) {\n        api = {\n          enterK: 'mozRequestFullScreen',\n          exitK: 'mozCancelFullScreen',\n          elementK: 'mozFullScreenElement',\n          eventK: 'moz' + tF\n        };\n      } else if (dE.webkitRequestFullscreen) {\n        api = {\n          enterK: 'webkitRequestFullscreen',\n          exitK: 'webkitExitFullscreen',\n          elementK: 'webkitFullscreenElement',\n          eventK: 'webkit' + tF\n        };\n      } else if (dE.msRequestFullscreen) {\n        api = {\n          enterK: 'msRequestFullscreen',\n          exitK: 'msExitFullscreen',\n          elementK: 'msFullscreenElement',\n          eventK: 'MSFullscreenChange'\n        };\n      }\n\n      if (api) {\n        api.enter = function () {\n          // disable close-on-scroll in fullscreen\n          _initalCloseOnScrollValue = _options.closeOnScroll;\n          _options.closeOnScroll = false;\n\n          if (this.enterK === 'webkitRequestFullscreen') {\n            pswp.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);\n          } else {\n            return pswp.template[this.enterK]();\n          }\n        };\n\n        api.exit = function () {\n          _options.closeOnScroll = _initalCloseOnScrollValue;\n          return document[this.exitK]();\n        };\n\n        api.isFullscreen = function () {\n          return document[this.elementK];\n        };\n      }\n\n      return api;\n    };\n  };\n\n  return PhotoSwipeUI_Default;\n});","require(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar nativeObjectToString = objectProto.toString;\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\n\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;","var freeGlobal = require('./_freeGlobal');\n/** Detect free variable `self`. */\n\n\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\n\nvar root = freeGlobal || freeSelf || Function('return this')();\nmodule.exports = root;","var createCompounder = require('./_createCompounder');\n/**\n * Converts `string` to\n * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the kebab cased string.\n * @example\n *\n * _.kebabCase('Foo Bar');\n * // => 'foo-bar'\n *\n * _.kebabCase('fooBar');\n * // => 'foo-bar'\n *\n * _.kebabCase('__FOO_BAR__');\n * // => 'foo-bar'\n */\n\n\nvar kebabCase = createCompounder(function (result, word, index) {\n  return result + (index ? '-' : '') + word.toLowerCase();\n});\nmodule.exports = kebabCase;","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n/** `Object#toString` result references. */\n\n\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n/** Built-in value references. */\n\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\n\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n\n  return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\n}\n\nmodule.exports = baseGetTag;","'use strict';\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.string.trim\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _lodash = require('lodash.pick');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _PhotoSwipe = require('./PhotoSwipe.js');\n\nvar _PhotoSwipe2 = _interopRequireDefault(_PhotoSwipe);\n\nvar _events = require('./events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar PhotoSwipeGallery = function (_React$Component) {\n  _inherits(PhotoSwipeGallery, _React$Component);\n\n  function PhotoSwipeGallery() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, PhotoSwipeGallery);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = PhotoSwipeGallery.__proto__ || Object.getPrototypeOf(PhotoSwipeGallery)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      isOpen: _this.props.isOpen,\n      options: _this.props.options\n    }, _this.componentWillReceiveProps = function (nextProps) {\n      var isOpen = _this.state.isOpen;\n\n      if (nextProps.isOpen) {\n        if (!isOpen) {\n          _this.setState({\n            isOpen: true\n          });\n        }\n      } else if (isOpen) {\n        _this.setState({\n          isOpen: false\n        });\n      }\n    }, _this.showPhotoSwipe = function (itemIndex) {\n      return function (e) {\n        e.preventDefault();\n\n        var getThumbBoundsFn = function getThumbBoundsFn(index) {\n          var thumbnail = _this.thumbnails[index];\n          var img = thumbnail.getElementsByTagName('img')[0];\n          var pageYScroll = window.pageYOffset || document.documentElement.scrollTop;\n          var rect = img.getBoundingClientRect();\n          return {\n            x: rect.left,\n            y: rect.top + pageYScroll,\n            w: rect.width\n          };\n        };\n\n        var options = _this.state.options;\n        options.index = itemIndex;\n        options.getThumbBoundsFn = options.getThumbBoundsFn || getThumbBoundsFn;\n\n        _this.setState({\n          isOpen: true,\n          options: options\n        });\n      };\n    }, _this.handleClose = function () {\n      _this.setState({\n        isOpen: false\n      });\n\n      _this.props.onClose();\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(PhotoSwipeGallery, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          id = _props.id,\n          items = _props.items,\n          thumbnailContent = _props.thumbnailContent,\n          other = _objectWithoutProperties(_props, ['id', 'items', 'thumbnailContent']);\n\n      var className = this.props.className;\n      className = (0, _classnames2[\"default\"])(['pswp-gallery', className]).trim();\n      var eventProps = (0, _lodash2[\"default\"])(other, _events2[\"default\"]);\n      var _state = this.state,\n          isOpen = _state.isOpen,\n          options = _state.options;\n      return _react2[\"default\"].createElement('div', {\n        id: id,\n        className: className\n      }, _react2[\"default\"].createElement('div', {\n        className: 'pswp-thumbnails'\n      }, items.map(function (item, index) {\n        return _react2[\"default\"].createElement('div', {\n          key: index,\n          ref: function ref(node) {\n            _this2.thumbnails = _this2.thumbnails || [];\n            _this2.thumbnails[index] = node;\n          },\n          className: 'pswp-thumbnail',\n          onClick: _this2.showPhotoSwipe(index)\n        }, thumbnailContent(item));\n      })), _react2[\"default\"].createElement(_PhotoSwipe2[\"default\"], _extends({}, eventProps, {\n        isOpen: isOpen,\n        items: items,\n        options: options,\n        onClose: this.handleClose\n      })));\n    }\n  }]);\n\n  return PhotoSwipeGallery;\n}(_react2[\"default\"].Component);\n\nPhotoSwipeGallery.propTypes = {\n  items: _propTypes2[\"default\"].array.isRequired,\n  options: _propTypes2[\"default\"].object,\n  thumbnailContent: _propTypes2[\"default\"].func,\n  id: _propTypes2[\"default\"].string,\n  className: _propTypes2[\"default\"].string,\n  isOpen: _propTypes2[\"default\"].bool,\n  onClose: _propTypes2[\"default\"].func\n};\nPhotoSwipeGallery.defaultProps = {\n  options: {},\n  thumbnailContent: function thumbnailContent(item) {\n    return _react2[\"default\"].createElement('img', {\n      src: item.src,\n      width: '100',\n      height: '100',\n      alt: ''\n    });\n  },\n  id: '',\n  className: '',\n  isOpen: false,\n  onClose: function onClose() {}\n};\nexports[\"default\"] = PhotoSwipeGallery;\nmodule.exports = exports['default'];","require(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.regexp.constructor\");\n\nvar deburrLetter = require('./_deburrLetter'),\n    toString = require('./toString');\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\n\n\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n/** Used to compose unicode character classes. */\n\nvar rsComboMarksRange = \"\\\\u0300-\\\\u036f\",\n    reComboHalfMarksRange = \"\\\\ufe20-\\\\ufe2f\",\n    rsComboSymbolsRange = \"\\\\u20d0-\\\\u20ff\",\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n/** Used to compose unicode capture groups. */\n\nvar rsCombo = '[' + rsComboRange + ']';\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\n\nvar reComboMark = RegExp(rsCombo, 'g');\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('dj vu');\n * // => 'deja vu'\n */\n\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\nmodule.exports = deburr;","require(\"core-js/modules/es6.array.is-array\");\n\n/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n\n  function classNames() {\n    var classes = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg) && arg.length) {\n        var inner = classNames.apply(null, arg);\n\n        if (inner) {\n          classes.push(inner);\n        }\n      } else if (argType === 'object') {\n        for (var key in arg) {\n          if (hasOwn.call(arg, key) && arg[key]) {\n            classes.push(key);\n          }\n        }\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames[\"default\"] = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\nmodule.exports = freeGlobal;","require(\"core-js/modules/es6.array.is-array\");\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\nmodule.exports = isArray;","'use strict';\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = ['beforeChange', 'afterChange', 'imageLoadComplete', 'resize', 'gettingData', 'mouseUsed', 'initialZoomIn', 'initialZoomInEnd', 'initialZoomOut', 'initialZoomOutEnd', 'parseVerticalMargin', 'close', 'unbindEvents', 'destroy', 'updateScrollOffset', 'preventDragEvent', 'shareLinkClick'];\nmodule.exports = exports['default'];","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n\n  return accumulator;\n}\n\nmodule.exports = arrayReduce;","require(\"core-js/modules/es6.regexp.match\");\n\n/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\n\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\nmodule.exports = asciiWords;","var baseToString = require('./_baseToString');\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\n\n\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n\n  return result;\n}\n\nmodule.exports = arrayMap;","/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\n\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\nmodule.exports = hasUnicodeWord;","'use strict';\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PhotoSwipeGallery = exports.PhotoSwipe = undefined;\n\nvar _PhotoSwipe = require('./PhotoSwipe.js');\n\nvar _PhotoSwipe2 = _interopRequireDefault(_PhotoSwipe);\n\nvar _PhotoSwipeGallery = require('./PhotoSwipeGallery.js');\n\nvar _PhotoSwipeGallery2 = _interopRequireDefault(_PhotoSwipeGallery);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nexports[\"default\"] = _PhotoSwipe2[\"default\"];\nexports.PhotoSwipe = _PhotoSwipe2[\"default\"];\nexports.PhotoSwipeGallery = _PhotoSwipeGallery2[\"default\"];","require(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\n/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n/** `Object#toString` result references. */\n\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n/** Detect free variable `global` from Node.js. */\n\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n/** Detect free variable `self`. */\n\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\n\nvar root = freeGlobal || freeSelf || Function('return this')();\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\n\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0:\n      return func.call(thisArg);\n\n    case 1:\n      return func.call(thisArg, args[0]);\n\n    case 2:\n      return func.call(thisArg, args[0], args[1]);\n\n    case 3:\n      return func.call(thisArg, args[0], args[1], args[2]);\n  }\n\n  return func.apply(thisArg, args);\n}\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\n\n\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n\n  return result;\n}\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\n\n\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n\n  return array;\n}\n/** Used for built-in method references. */\n\n\nvar objectProto = Object.prototype;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty = objectProto.hasOwnProperty;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar objectToString = objectProto.toString;\n/** Built-in value references. */\n\nvar Symbol = root.Symbol,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max;\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\n\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n\n  return result;\n}\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick.\n * @returns {Object} Returns the new object.\n */\n\n\nfunction basePick(object, props) {\n  object = Object(object);\n  return basePickBy(object, props, function (value, key) {\n    return key in object;\n  });\n}\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick from.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\n\n\nfunction basePickBy(object, props, predicate) {\n  var index = -1,\n      length = props.length,\n      result = {};\n\n  while (++index < length) {\n    var key = props[index],\n        value = object[key];\n\n    if (predicate(value, key)) {\n      result[key] = value;\n    }\n  }\n\n  return result;\n}\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\n\n\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? func.length - 1 : start, 0);\n  return function () {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n\n    index = -1;\n    var otherArgs = Array(start + 1);\n\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\n\n\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\n\n\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n\n  var result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n}\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\n\n\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') && (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\n\n\nvar isArray = Array.isArray;\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\n\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\n\n\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\n\n\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\n\n\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\n\n\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\n\n\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\n\n\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;\n}\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [props] The property identifiers to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\n\n\nvar pick = baseRest(function (object, props) {\n  return object == null ? {} : basePick(object, arrayMap(baseFlatten(props, 1), toKey));\n});\nmodule.exports = pick;","var root = require('./_root');\n/** Built-in value references. */\n\n\nvar Symbol = root.Symbol;\nmodule.exports = Symbol;","var basePropertyOf = require('./_basePropertyOf');\n/** Used to map Latin Unicode letters to basic Latin letters. */\n\n\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',\n  '\\xc1': 'A',\n  '\\xc2': 'A',\n  '\\xc3': 'A',\n  '\\xc4': 'A',\n  '\\xc5': 'A',\n  '\\xe0': 'a',\n  '\\xe1': 'a',\n  '\\xe2': 'a',\n  '\\xe3': 'a',\n  '\\xe4': 'a',\n  '\\xe5': 'a',\n  '\\xc7': 'C',\n  '\\xe7': 'c',\n  '\\xd0': 'D',\n  '\\xf0': 'd',\n  '\\xc8': 'E',\n  '\\xc9': 'E',\n  '\\xca': 'E',\n  '\\xcb': 'E',\n  '\\xe8': 'e',\n  '\\xe9': 'e',\n  '\\xea': 'e',\n  '\\xeb': 'e',\n  '\\xcc': 'I',\n  '\\xcd': 'I',\n  '\\xce': 'I',\n  '\\xcf': 'I',\n  '\\xec': 'i',\n  '\\xed': 'i',\n  '\\xee': 'i',\n  '\\xef': 'i',\n  '\\xd1': 'N',\n  '\\xf1': 'n',\n  '\\xd2': 'O',\n  '\\xd3': 'O',\n  '\\xd4': 'O',\n  '\\xd5': 'O',\n  '\\xd6': 'O',\n  '\\xd8': 'O',\n  '\\xf2': 'o',\n  '\\xf3': 'o',\n  '\\xf4': 'o',\n  '\\xf5': 'o',\n  '\\xf6': 'o',\n  '\\xf8': 'o',\n  '\\xd9': 'U',\n  '\\xda': 'U',\n  '\\xdb': 'U',\n  '\\xdc': 'U',\n  '\\xf9': 'u',\n  '\\xfa': 'u',\n  '\\xfb': 'u',\n  '\\xfc': 'u',\n  '\\xdd': 'Y',\n  '\\xfd': 'y',\n  '\\xff': 'y',\n  '\\xc6': 'Ae',\n  '\\xe6': 'ae',\n  '\\xde': 'Th',\n  '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  \"\\u0100\": 'A',\n  \"\\u0102\": 'A',\n  \"\\u0104\": 'A',\n  \"\\u0101\": 'a',\n  \"\\u0103\": 'a',\n  \"\\u0105\": 'a',\n  \"\\u0106\": 'C',\n  \"\\u0108\": 'C',\n  \"\\u010A\": 'C',\n  \"\\u010C\": 'C',\n  \"\\u0107\": 'c',\n  \"\\u0109\": 'c',\n  \"\\u010B\": 'c',\n  \"\\u010D\": 'c',\n  \"\\u010E\": 'D',\n  \"\\u0110\": 'D',\n  \"\\u010F\": 'd',\n  \"\\u0111\": 'd',\n  \"\\u0112\": 'E',\n  \"\\u0114\": 'E',\n  \"\\u0116\": 'E',\n  \"\\u0118\": 'E',\n  \"\\u011A\": 'E',\n  \"\\u0113\": 'e',\n  \"\\u0115\": 'e',\n  \"\\u0117\": 'e',\n  \"\\u0119\": 'e',\n  \"\\u011B\": 'e',\n  \"\\u011C\": 'G',\n  \"\\u011E\": 'G',\n  \"\\u0120\": 'G',\n  \"\\u0122\": 'G',\n  \"\\u011D\": 'g',\n  \"\\u011F\": 'g',\n  \"\\u0121\": 'g',\n  \"\\u0123\": 'g',\n  \"\\u0124\": 'H',\n  \"\\u0126\": 'H',\n  \"\\u0125\": 'h',\n  \"\\u0127\": 'h',\n  \"\\u0128\": 'I',\n  \"\\u012A\": 'I',\n  \"\\u012C\": 'I',\n  \"\\u012E\": 'I',\n  \"\\u0130\": 'I',\n  \"\\u0129\": 'i',\n  \"\\u012B\": 'i',\n  \"\\u012D\": 'i',\n  \"\\u012F\": 'i',\n  \"\\u0131\": 'i',\n  \"\\u0134\": 'J',\n  \"\\u0135\": 'j',\n  \"\\u0136\": 'K',\n  \"\\u0137\": 'k',\n  \"\\u0138\": 'k',\n  \"\\u0139\": 'L',\n  \"\\u013B\": 'L',\n  \"\\u013D\": 'L',\n  \"\\u013F\": 'L',\n  \"\\u0141\": 'L',\n  \"\\u013A\": 'l',\n  \"\\u013C\": 'l',\n  \"\\u013E\": 'l',\n  \"\\u0140\": 'l',\n  \"\\u0142\": 'l',\n  \"\\u0143\": 'N',\n  \"\\u0145\": 'N',\n  \"\\u0147\": 'N',\n  \"\\u014A\": 'N',\n  \"\\u0144\": 'n',\n  \"\\u0146\": 'n',\n  \"\\u0148\": 'n',\n  \"\\u014B\": 'n',\n  \"\\u014C\": 'O',\n  \"\\u014E\": 'O',\n  \"\\u0150\": 'O',\n  \"\\u014D\": 'o',\n  \"\\u014F\": 'o',\n  \"\\u0151\": 'o',\n  \"\\u0154\": 'R',\n  \"\\u0156\": 'R',\n  \"\\u0158\": 'R',\n  \"\\u0155\": 'r',\n  \"\\u0157\": 'r',\n  \"\\u0159\": 'r',\n  \"\\u015A\": 'S',\n  \"\\u015C\": 'S',\n  \"\\u015E\": 'S',\n  \"\\u0160\": 'S',\n  \"\\u015B\": 's',\n  \"\\u015D\": 's',\n  \"\\u015F\": 's',\n  \"\\u0161\": 's',\n  \"\\u0162\": 'T',\n  \"\\u0164\": 'T',\n  \"\\u0166\": 'T',\n  \"\\u0163\": 't',\n  \"\\u0165\": 't',\n  \"\\u0167\": 't',\n  \"\\u0168\": 'U',\n  \"\\u016A\": 'U',\n  \"\\u016C\": 'U',\n  \"\\u016E\": 'U',\n  \"\\u0170\": 'U',\n  \"\\u0172\": 'U',\n  \"\\u0169\": 'u',\n  \"\\u016B\": 'u',\n  \"\\u016D\": 'u',\n  \"\\u016F\": 'u',\n  \"\\u0171\": 'u',\n  \"\\u0173\": 'u',\n  \"\\u0174\": 'W',\n  \"\\u0175\": 'w',\n  \"\\u0176\": 'Y',\n  \"\\u0177\": 'y',\n  \"\\u0178\": 'Y',\n  \"\\u0179\": 'Z',\n  \"\\u017B\": 'Z',\n  \"\\u017D\": 'Z',\n  \"\\u017A\": 'z',\n  \"\\u017C\": 'z',\n  \"\\u017E\": 'z',\n  \"\\u0132\": 'IJ',\n  \"\\u0133\": 'ij',\n  \"\\u0152\": 'Oe',\n  \"\\u0153\": 'oe',\n  \"\\u0149\": \"'n\",\n  \"\\u017F\": 's'\n};\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\n\nvar deburrLetter = basePropertyOf(deburredLetters);\nmodule.exports = deburrLetter;","require(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.regexp.constructor\");\n\nvar arrayReduce = require('./_arrayReduce'),\n    deburr = require('./deburr'),\n    words = require('./words');\n/** Used to compose unicode capture groups. */\n\n\nvar rsApos = \"['\\u2019]\";\n/** Used to match apostrophes. */\n\nvar reApos = RegExp(rsApos, 'g');\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\n\nfunction createCompounder(callback) {\n  return function (string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\nmodule.exports = createCompounder;","require(\"core-js/modules/es6.regexp.search\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.regexp.constructor\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\n/*! PhotoSwipe - v4.1.3 - 2019-01-08\n* http://photoswipe.com\n* Copyright (c) 2019 Dmitry Semenov; */\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.PhotoSwipe = factory();\n  }\n})(this, function () {\n  'use strict';\n\n  var PhotoSwipe = function PhotoSwipe(template, UiClass, items, options) {\n    /*>>framework-bridge*/\n\n    /**\n     *\n     * Set of generic functions used by gallery.\n     * \n     * You're free to modify anything here as long as functionality is kept.\n     * \n     */\n    var framework = {\n      features: null,\n      bind: function bind(target, type, listener, unbind) {\n        var methodName = (unbind ? 'remove' : 'add') + 'EventListener';\n        type = type.split(' ');\n\n        for (var i = 0; i < type.length; i++) {\n          if (type[i]) {\n            target[methodName](type[i], listener, false);\n          }\n        }\n      },\n      isArray: function isArray(obj) {\n        return obj instanceof Array;\n      },\n      createEl: function createEl(classes, tag) {\n        var el = document.createElement(tag || 'div');\n\n        if (classes) {\n          el.className = classes;\n        }\n\n        return el;\n      },\n      getScrollY: function getScrollY() {\n        var yOffset = window.pageYOffset;\n        return yOffset !== undefined ? yOffset : document.documentElement.scrollTop;\n      },\n      unbind: function unbind(target, type, listener) {\n        framework.bind(target, type, listener, true);\n      },\n      removeClass: function removeClass(el, className) {\n        var reg = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n        el.className = el.className.replace(reg, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n      },\n      addClass: function addClass(el, className) {\n        if (!framework.hasClass(el, className)) {\n          el.className += (el.className ? ' ' : '') + className;\n        }\n      },\n      hasClass: function hasClass(el, className) {\n        return el.className && new RegExp('(^|\\\\s)' + className + '(\\\\s|$)').test(el.className);\n      },\n      getChildByClass: function getChildByClass(parentEl, childClassName) {\n        var node = parentEl.firstChild;\n\n        while (node) {\n          if (framework.hasClass(node, childClassName)) {\n            return node;\n          }\n\n          node = node.nextSibling;\n        }\n      },\n      arraySearch: function arraySearch(array, value, key) {\n        var i = array.length;\n\n        while (i--) {\n          if (array[i][key] === value) {\n            return i;\n          }\n        }\n\n        return -1;\n      },\n      extend: function extend(o1, o2, preventOverwrite) {\n        for (var prop in o2) {\n          if (o2.hasOwnProperty(prop)) {\n            if (preventOverwrite && o1.hasOwnProperty(prop)) {\n              continue;\n            }\n\n            o1[prop] = o2[prop];\n          }\n        }\n      },\n      easing: {\n        sine: {\n          out: function out(k) {\n            return Math.sin(k * (Math.PI / 2));\n          },\n          inOut: function inOut(k) {\n            return -(Math.cos(Math.PI * k) - 1) / 2;\n          }\n        },\n        cubic: {\n          out: function out(k) {\n            return --k * k * k + 1;\n          }\n        }\n        /*\n        \telastic: {\n        \t\tout: function ( k ) {\n        \t\t\t\tvar s, a = 0.1, p = 0.4;\n        \t\t\tif ( k === 0 ) return 0;\n        \t\t\tif ( k === 1 ) return 1;\n        \t\t\tif ( !a || a < 1 ) { a = 1; s = p / 4; }\n        \t\t\telse s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n        \t\t\treturn ( a * Math.pow( 2, - 10 * k) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) + 1 );\n        \t\t\t},\n        \t},\n        \tback: {\n        \t\tout: function ( k ) {\n        \t\t\tvar s = 1.70158;\n        \t\t\treturn --k * k * ( ( s + 1 ) * k + s ) + 1;\n        \t\t}\n        \t}\n        */\n\n      },\n\n      /**\n       * \n       * @return {object}\n       * \n       * {\n       *  raf : request animation frame function\n       *  caf : cancel animation frame function\n       *  transfrom : transform property key (with vendor), or null if not supported\n       *  oldIE : IE8 or below\n       * }\n       * \n       */\n      detectFeatures: function detectFeatures() {\n        if (framework.features) {\n          return framework.features;\n        }\n\n        var helperEl = framework.createEl(),\n            helperStyle = helperEl.style,\n            vendor = '',\n            features = {}; // IE8 and below\n\n        features.oldIE = document.all && !document.addEventListener;\n        features.touch = 'ontouchstart' in window;\n\n        if (window.requestAnimationFrame) {\n          features.raf = window.requestAnimationFrame;\n          features.caf = window.cancelAnimationFrame;\n        }\n\n        features.pointerEvent = !!window.PointerEvent || navigator.msPointerEnabled; // fix false-positive detection of old Android in new IE\n        // (IE11 ua string contains \"Android 4.0\")\n\n        if (!features.pointerEvent) {\n          var ua = navigator.userAgent; // Detect if device is iPhone or iPod and if it's older than iOS 8\n          // http://stackoverflow.com/a/14223920\n          // \n          // This detection is made because of buggy top/bottom toolbars\n          // that don't trigger window.resize event.\n          // For more info refer to _isFixedPosition variable in core.js\n\n          if (/iP(hone|od)/.test(navigator.platform)) {\n            var v = navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n\n            if (v && v.length > 0) {\n              v = parseInt(v[1], 10);\n\n              if (v >= 1 && v < 8) {\n                features.isOldIOSPhone = true;\n              }\n            }\n          } // Detect old Android (before KitKat)\n          // due to bugs related to position:fixed\n          // http://stackoverflow.com/questions/7184573/pick-up-the-android-version-in-the-browser-by-javascript\n\n\n          var match = ua.match(/Android\\s([0-9\\.]*)/);\n          var androidversion = match ? match[1] : 0;\n          androidversion = parseFloat(androidversion);\n\n          if (androidversion >= 1) {\n            if (androidversion < 4.4) {\n              features.isOldAndroid = true; // for fixed position bug & performance\n            }\n\n            features.androidVersion = androidversion; // for touchend bug\n          }\n\n          features.isMobileOpera = /opera mini|opera mobi/i.test(ua); // p.s. yes, yes, UA sniffing is bad, propose your solution for above bugs.\n        }\n\n        var styleChecks = ['transform', 'perspective', 'animationName'],\n            vendors = ['', 'webkit', 'Moz', 'ms', 'O'],\n            styleCheckItem,\n            styleName;\n\n        for (var i = 0; i < 4; i++) {\n          vendor = vendors[i];\n\n          for (var a = 0; a < 3; a++) {\n            styleCheckItem = styleChecks[a]; // uppercase first letter of property name, if vendor is present\n\n            styleName = vendor + (vendor ? styleCheckItem.charAt(0).toUpperCase() + styleCheckItem.slice(1) : styleCheckItem);\n\n            if (!features[styleCheckItem] && styleName in helperStyle) {\n              features[styleCheckItem] = styleName;\n            }\n          }\n\n          if (vendor && !features.raf) {\n            vendor = vendor.toLowerCase();\n            features.raf = window[vendor + 'RequestAnimationFrame'];\n\n            if (features.raf) {\n              features.caf = window[vendor + 'CancelAnimationFrame'] || window[vendor + 'CancelRequestAnimationFrame'];\n            }\n          }\n        }\n\n        if (!features.raf) {\n          var lastTime = 0;\n\n          features.raf = function (fn) {\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            var id = window.setTimeout(function () {\n              fn(currTime + timeToCall);\n            }, timeToCall);\n            lastTime = currTime + timeToCall;\n            return id;\n          };\n\n          features.caf = function (id) {\n            clearTimeout(id);\n          };\n        } // Detect SVG support\n\n\n        features.svg = !!document.createElementNS && !!document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect;\n        framework.features = features;\n        return features;\n      }\n    };\n    framework.detectFeatures(); // Override addEventListener for old versions of IE\n\n    if (framework.features.oldIE) {\n      framework.bind = function (target, type, listener, unbind) {\n        type = type.split(' ');\n\n        var methodName = (unbind ? 'detach' : 'attach') + 'Event',\n            evName,\n            _handleEv = function _handleEv() {\n          listener.handleEvent.call(listener);\n        };\n\n        for (var i = 0; i < type.length; i++) {\n          evName = type[i];\n\n          if (evName) {\n            if (typeof listener === 'object' && listener.handleEvent) {\n              if (!unbind) {\n                listener['oldIE' + evName] = _handleEv;\n              } else {\n                if (!listener['oldIE' + evName]) {\n                  return false;\n                }\n              }\n\n              target[methodName]('on' + evName, listener['oldIE' + evName]);\n            } else {\n              target[methodName]('on' + evName, listener);\n            }\n          }\n        }\n      };\n    }\n    /*>>framework-bridge*/\n\n    /*>>core*/\n    //function(template, UiClass, items, options)\n\n\n    var self = this;\n    /**\n     * Static vars, don't change unless you know what you're doing.\n     */\n\n    var DOUBLE_TAP_RADIUS = 25,\n        NUM_HOLDERS = 3;\n    /**\n     * Options\n     */\n\n    var _options = {\n      allowPanToNext: true,\n      spacing: 0.12,\n      bgOpacity: 1,\n      mouseUsed: false,\n      loop: true,\n      pinchToClose: true,\n      closeOnScroll: true,\n      closeOnVerticalDrag: true,\n      verticalDragRange: 0.75,\n      hideAnimationDuration: 333,\n      showAnimationDuration: 333,\n      showHideOpacity: false,\n      focus: true,\n      escKey: true,\n      arrowKeys: true,\n      mainScrollEndFriction: 0.35,\n      panEndFriction: 0.35,\n      isClickableElement: function isClickableElement(el) {\n        return el.tagName === 'A';\n      },\n      getDoubleTapZoom: function getDoubleTapZoom(isMouseClick, item) {\n        if (isMouseClick) {\n          return 1;\n        } else {\n          return item.initialZoomLevel < 0.7 ? 1 : 1.33;\n        }\n      },\n      maxSpreadZoom: 1.33,\n      modal: true,\n      // not fully implemented yet\n      scaleMode: 'fit' // TODO\n\n    };\n    framework.extend(_options, options);\n    /**\n     * Private helper variables & functions\n     */\n\n    var _getEmptyPoint = function _getEmptyPoint() {\n      return {\n        x: 0,\n        y: 0\n      };\n    };\n\n    var _isOpen,\n        _isDestroying,\n        _closedByScroll,\n        _currentItemIndex,\n        _containerStyle,\n        _containerShiftIndex,\n        _currPanDist = _getEmptyPoint(),\n        _startPanOffset = _getEmptyPoint(),\n        _panOffset = _getEmptyPoint(),\n        _upMoveEvents,\n        // drag move, drag end & drag cancel events array\n    _downEvents,\n        // drag start events array\n    _globalEventHandlers,\n        _viewportSize = {},\n        _currZoomLevel,\n        _startZoomLevel,\n        _translatePrefix,\n        _translateSufix,\n        _updateSizeInterval,\n        _itemsNeedUpdate,\n        _currPositionIndex = 0,\n        _offset = {},\n        _slideSize = _getEmptyPoint(),\n        // size of slide area, including spacing\n    _itemHolders,\n        _prevItemIndex,\n        _indexDiff = 0,\n        // difference of indexes since last content update\n    _dragStartEvent,\n        _dragMoveEvent,\n        _dragEndEvent,\n        _dragCancelEvent,\n        _transformKey,\n        _pointerEventEnabled,\n        _isFixedPosition = true,\n        _likelyTouchDevice,\n        _modules = [],\n        _requestAF,\n        _cancelAF,\n        _initalClassName,\n        _initalWindowScrollY,\n        _oldIE,\n        _currentWindowScrollY,\n        _features,\n        _windowVisibleSize = {},\n        _renderMaxResolution = false,\n        _orientationChangeTimeout,\n        // Registers PhotoSWipe module (History, Controller ...)\n    _registerModule = function _registerModule(name, module) {\n      framework.extend(self, module.publicMethods);\n\n      _modules.push(name);\n    },\n        _getLoopedId = function _getLoopedId(index) {\n      var numSlides = _getNumItems();\n\n      if (index > numSlides - 1) {\n        return index - numSlides;\n      } else if (index < 0) {\n        return numSlides + index;\n      }\n\n      return index;\n    },\n        // Micro bind/trigger\n    _listeners = {},\n        _listen = function _listen(name, fn) {\n      if (!_listeners[name]) {\n        _listeners[name] = [];\n      }\n\n      return _listeners[name].push(fn);\n    },\n        _shout = function _shout(name) {\n      var listeners = _listeners[name];\n\n      if (listeners) {\n        var args = Array.prototype.slice.call(arguments);\n        args.shift();\n\n        for (var i = 0; i < listeners.length; i++) {\n          listeners[i].apply(self, args);\n        }\n      }\n    },\n        _getCurrentTime = function _getCurrentTime() {\n      return new Date().getTime();\n    },\n        _applyBgOpacity = function _applyBgOpacity(opacity) {\n      _bgOpacity = opacity;\n      self.bg.style.opacity = opacity * _options.bgOpacity;\n    },\n        _applyZoomTransform = function _applyZoomTransform(styleObj, x, y, zoom, item) {\n      if (!_renderMaxResolution || item && item !== self.currItem) {\n        zoom = zoom / (item ? item.fitRatio : self.currItem.fitRatio);\n      }\n\n      styleObj[_transformKey] = _translatePrefix + x + 'px, ' + y + 'px' + _translateSufix + ' scale(' + zoom + ')';\n    },\n        _applyCurrentZoomPan = function _applyCurrentZoomPan(allowRenderResolution) {\n      if (_currZoomElementStyle) {\n        if (allowRenderResolution) {\n          if (_currZoomLevel > self.currItem.fitRatio) {\n            if (!_renderMaxResolution) {\n              _setImageSize(self.currItem, false, true);\n\n              _renderMaxResolution = true;\n            }\n          } else {\n            if (_renderMaxResolution) {\n              _setImageSize(self.currItem);\n\n              _renderMaxResolution = false;\n            }\n          }\n        }\n\n        _applyZoomTransform(_currZoomElementStyle, _panOffset.x, _panOffset.y, _currZoomLevel);\n      }\n    },\n        _applyZoomPanToItem = function _applyZoomPanToItem(item) {\n      if (item.container) {\n        _applyZoomTransform(item.container.style, item.initialPosition.x, item.initialPosition.y, item.initialZoomLevel, item);\n      }\n    },\n        _setTranslateX = function _setTranslateX(x, elStyle) {\n      elStyle[_transformKey] = _translatePrefix + x + 'px, 0px' + _translateSufix;\n    },\n        _moveMainScroll = function _moveMainScroll(x, dragging) {\n      if (!_options.loop && dragging) {\n        var newSlideIndexOffset = _currentItemIndex + (_slideSize.x * _currPositionIndex - x) / _slideSize.x,\n            delta = Math.round(x - _mainScrollPos.x);\n\n        if (newSlideIndexOffset < 0 && delta > 0 || newSlideIndexOffset >= _getNumItems() - 1 && delta < 0) {\n          x = _mainScrollPos.x + delta * _options.mainScrollEndFriction;\n        }\n      }\n\n      _mainScrollPos.x = x;\n\n      _setTranslateX(x, _containerStyle);\n    },\n        _calculatePanOffset = function _calculatePanOffset(axis, zoomLevel) {\n      var m = _midZoomPoint[axis] - _offset[axis];\n      return _startPanOffset[axis] + _currPanDist[axis] + m - m * (zoomLevel / _startZoomLevel);\n    },\n        _equalizePoints = function _equalizePoints(p1, p2) {\n      p1.x = p2.x;\n      p1.y = p2.y;\n\n      if (p2.id) {\n        p1.id = p2.id;\n      }\n    },\n        _roundPoint = function _roundPoint(p) {\n      p.x = Math.round(p.x);\n      p.y = Math.round(p.y);\n    },\n        _mouseMoveTimeout = null,\n        _onFirstMouseMove = function _onFirstMouseMove() {\n      // Wait until mouse move event is fired at least twice during 100ms\n      // We do this, because some mobile browsers trigger it on touchstart\n      if (_mouseMoveTimeout) {\n        framework.unbind(document, 'mousemove', _onFirstMouseMove);\n        framework.addClass(template, 'pswp--has_mouse');\n        _options.mouseUsed = true;\n\n        _shout('mouseUsed');\n      }\n\n      _mouseMoveTimeout = setTimeout(function () {\n        _mouseMoveTimeout = null;\n      }, 100);\n    },\n        _bindEvents = function _bindEvents() {\n      framework.bind(document, 'keydown', self);\n\n      if (_features.transform) {\n        // don't bind click event in browsers that don't support transform (mostly IE8)\n        framework.bind(self.scrollWrap, 'click', self);\n      }\n\n      if (!_options.mouseUsed) {\n        framework.bind(document, 'mousemove', _onFirstMouseMove);\n      }\n\n      framework.bind(window, 'resize scroll orientationchange', self);\n\n      _shout('bindEvents');\n    },\n        _unbindEvents = function _unbindEvents() {\n      framework.unbind(window, 'resize scroll orientationchange', self);\n      framework.unbind(window, 'scroll', _globalEventHandlers.scroll);\n      framework.unbind(document, 'keydown', self);\n      framework.unbind(document, 'mousemove', _onFirstMouseMove);\n\n      if (_features.transform) {\n        framework.unbind(self.scrollWrap, 'click', self);\n      }\n\n      if (_isDragging) {\n        framework.unbind(window, _upMoveEvents, self);\n      }\n\n      clearTimeout(_orientationChangeTimeout);\n\n      _shout('unbindEvents');\n    },\n        _calculatePanBounds = function _calculatePanBounds(zoomLevel, update) {\n      var bounds = _calculateItemSize(self.currItem, _viewportSize, zoomLevel);\n\n      if (update) {\n        _currPanBounds = bounds;\n      }\n\n      return bounds;\n    },\n        _getMinZoomLevel = function _getMinZoomLevel(item) {\n      if (!item) {\n        item = self.currItem;\n      }\n\n      return item.initialZoomLevel;\n    },\n        _getMaxZoomLevel = function _getMaxZoomLevel(item) {\n      if (!item) {\n        item = self.currItem;\n      }\n\n      return item.w > 0 ? _options.maxSpreadZoom : 1;\n    },\n        // Return true if offset is out of the bounds\n    _modifyDestPanOffset = function _modifyDestPanOffset(axis, destPanBounds, destPanOffset, destZoomLevel) {\n      if (destZoomLevel === self.currItem.initialZoomLevel) {\n        destPanOffset[axis] = self.currItem.initialPosition[axis];\n        return true;\n      } else {\n        destPanOffset[axis] = _calculatePanOffset(axis, destZoomLevel);\n\n        if (destPanOffset[axis] > destPanBounds.min[axis]) {\n          destPanOffset[axis] = destPanBounds.min[axis];\n          return true;\n        } else if (destPanOffset[axis] < destPanBounds.max[axis]) {\n          destPanOffset[axis] = destPanBounds.max[axis];\n          return true;\n        }\n      }\n\n      return false;\n    },\n        _setupTransforms = function _setupTransforms() {\n      if (_transformKey) {\n        // setup 3d transforms\n        var allow3dTransform = _features.perspective && !_likelyTouchDevice;\n        _translatePrefix = 'translate' + (allow3dTransform ? '3d(' : '(');\n        _translateSufix = _features.perspective ? ', 0px)' : ')';\n        return;\n      } // Override zoom/pan/move functions in case old browser is used (most likely IE)\n      // (so they use left/top/width/height, instead of CSS transform)\n\n\n      _transformKey = 'left';\n      framework.addClass(template, 'pswp--ie');\n\n      _setTranslateX = function _setTranslateX(x, elStyle) {\n        elStyle.left = x + 'px';\n      };\n\n      _applyZoomPanToItem = function _applyZoomPanToItem(item) {\n        var zoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n            s = item.container.style,\n            w = zoomRatio * item.w,\n            h = zoomRatio * item.h;\n        s.width = w + 'px';\n        s.height = h + 'px';\n        s.left = item.initialPosition.x + 'px';\n        s.top = item.initialPosition.y + 'px';\n      };\n\n      _applyCurrentZoomPan = function _applyCurrentZoomPan() {\n        if (_currZoomElementStyle) {\n          var s = _currZoomElementStyle,\n              item = self.currItem,\n              zoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n              w = zoomRatio * item.w,\n              h = zoomRatio * item.h;\n          s.width = w + 'px';\n          s.height = h + 'px';\n          s.left = _panOffset.x + 'px';\n          s.top = _panOffset.y + 'px';\n        }\n      };\n    },\n        _onKeyDown = function _onKeyDown(e) {\n      var keydownAction = '';\n\n      if (_options.escKey && e.keyCode === 27) {\n        keydownAction = 'close';\n      } else if (_options.arrowKeys) {\n        if (e.keyCode === 37) {\n          keydownAction = 'prev';\n        } else if (e.keyCode === 39) {\n          keydownAction = 'next';\n        }\n      }\n\n      if (keydownAction) {\n        // don't do anything if special key pressed to prevent from overriding default browser actions\n        // e.g. in Chrome on Mac cmd+arrow-left returns to previous page\n        if (!e.ctrlKey && !e.altKey && !e.shiftKey && !e.metaKey) {\n          if (e.preventDefault) {\n            e.preventDefault();\n          } else {\n            e.returnValue = false;\n          }\n\n          self[keydownAction]();\n        }\n      }\n    },\n        _onGlobalClick = function _onGlobalClick(e) {\n      if (!e) {\n        return;\n      } // don't allow click event to pass through when triggering after drag or some other gesture\n\n\n      if (_moved || _zoomStarted || _mainScrollAnimating || _verticalDragInitiated) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    },\n        _updatePageScrollOffset = function _updatePageScrollOffset() {\n      self.setScrollOffset(0, framework.getScrollY());\n    }; // Micro animation engine\n\n\n    var _animations = {},\n        _numAnimations = 0,\n        _stopAnimation = function _stopAnimation(name) {\n      if (_animations[name]) {\n        if (_animations[name].raf) {\n          _cancelAF(_animations[name].raf);\n        }\n\n        _numAnimations--;\n        delete _animations[name];\n      }\n    },\n        _registerStartAnimation = function _registerStartAnimation(name) {\n      if (_animations[name]) {\n        _stopAnimation(name);\n      }\n\n      if (!_animations[name]) {\n        _numAnimations++;\n        _animations[name] = {};\n      }\n    },\n        _stopAllAnimations = function _stopAllAnimations() {\n      for (var prop in _animations) {\n        if (_animations.hasOwnProperty(prop)) {\n          _stopAnimation(prop);\n        }\n      }\n    },\n        _animateProp = function _animateProp(name, b, endProp, d, easingFn, onUpdate, onComplete) {\n      var startAnimTime = _getCurrentTime(),\n          t;\n\n      _registerStartAnimation(name);\n\n      var animloop = function animloop() {\n        if (_animations[name]) {\n          t = _getCurrentTime() - startAnimTime; // time diff\n          //b - beginning (start prop)\n          //d - anim duration\n\n          if (t >= d) {\n            _stopAnimation(name);\n\n            onUpdate(endProp);\n\n            if (onComplete) {\n              onComplete();\n            }\n\n            return;\n          }\n\n          onUpdate((endProp - b) * easingFn(t / d) + b);\n          _animations[name].raf = _requestAF(animloop);\n        }\n      };\n\n      animloop();\n    };\n\n    var publicMethods = {\n      // make a few local variables and functions public\n      shout: _shout,\n      listen: _listen,\n      viewportSize: _viewportSize,\n      options: _options,\n      isMainScrollAnimating: function isMainScrollAnimating() {\n        return _mainScrollAnimating;\n      },\n      getZoomLevel: function getZoomLevel() {\n        return _currZoomLevel;\n      },\n      getCurrentIndex: function getCurrentIndex() {\n        return _currentItemIndex;\n      },\n      isDragging: function isDragging() {\n        return _isDragging;\n      },\n      isZooming: function isZooming() {\n        return _isZooming;\n      },\n      setScrollOffset: function setScrollOffset(x, y) {\n        _offset.x = x;\n        _currentWindowScrollY = _offset.y = y;\n\n        _shout('updateScrollOffset', _offset);\n      },\n      applyZoomPan: function applyZoomPan(zoomLevel, panX, panY, allowRenderResolution) {\n        _panOffset.x = panX;\n        _panOffset.y = panY;\n        _currZoomLevel = zoomLevel;\n\n        _applyCurrentZoomPan(allowRenderResolution);\n      },\n      init: function init() {\n        if (_isOpen || _isDestroying) {\n          return;\n        }\n\n        var i;\n        self.framework = framework; // basic functionality\n\n        self.template = template; // root DOM element of PhotoSwipe\n\n        self.bg = framework.getChildByClass(template, 'pswp__bg');\n        _initalClassName = template.className;\n        _isOpen = true;\n        _features = framework.detectFeatures();\n        _requestAF = _features.raf;\n        _cancelAF = _features.caf;\n        _transformKey = _features.transform;\n        _oldIE = _features.oldIE;\n        self.scrollWrap = framework.getChildByClass(template, 'pswp__scroll-wrap');\n        self.container = framework.getChildByClass(self.scrollWrap, 'pswp__container');\n        _containerStyle = self.container.style; // for fast access\n        // Objects that hold slides (there are only 3 in DOM)\n\n        self.itemHolders = _itemHolders = [{\n          el: self.container.children[0],\n          wrap: 0,\n          index: -1\n        }, {\n          el: self.container.children[1],\n          wrap: 0,\n          index: -1\n        }, {\n          el: self.container.children[2],\n          wrap: 0,\n          index: -1\n        }]; // hide nearby item holders until initial zoom animation finishes (to avoid extra Paints)\n\n        _itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'none';\n\n        _setupTransforms(); // Setup global events\n\n\n        _globalEventHandlers = {\n          resize: self.updateSize,\n          // Fixes: iOS 10.3 resize event\n          // does not update scrollWrap.clientWidth instantly after resize\n          // https://github.com/dimsemenov/PhotoSwipe/issues/1315\n          orientationchange: function orientationchange() {\n            clearTimeout(_orientationChangeTimeout);\n            _orientationChangeTimeout = setTimeout(function () {\n              if (_viewportSize.x !== self.scrollWrap.clientWidth) {\n                self.updateSize();\n              }\n            }, 500);\n          },\n          scroll: _updatePageScrollOffset,\n          keydown: _onKeyDown,\n          click: _onGlobalClick\n        }; // disable show/hide effects on old browsers that don't support CSS animations or transforms, \n        // old IOS, Android and Opera mobile. Blackberry seems to work fine, even older models.\n\n        var oldPhone = _features.isOldIOSPhone || _features.isOldAndroid || _features.isMobileOpera;\n\n        if (!_features.animationName || !_features.transform || oldPhone) {\n          _options.showAnimationDuration = _options.hideAnimationDuration = 0;\n        } // init modules\n\n\n        for (i = 0; i < _modules.length; i++) {\n          self['init' + _modules[i]]();\n        } // init\n\n\n        if (UiClass) {\n          var ui = self.ui = new UiClass(self, framework);\n          ui.init();\n        }\n\n        _shout('firstUpdate');\n\n        _currentItemIndex = _currentItemIndex || _options.index || 0; // validate index\n\n        if (isNaN(_currentItemIndex) || _currentItemIndex < 0 || _currentItemIndex >= _getNumItems()) {\n          _currentItemIndex = 0;\n        }\n\n        self.currItem = _getItemAt(_currentItemIndex);\n\n        if (_features.isOldIOSPhone || _features.isOldAndroid) {\n          _isFixedPosition = false;\n        }\n\n        template.setAttribute('aria-hidden', 'false');\n\n        if (_options.modal) {\n          if (!_isFixedPosition) {\n            template.style.position = 'absolute';\n            template.style.top = framework.getScrollY() + 'px';\n          } else {\n            template.style.position = 'fixed';\n          }\n        }\n\n        if (_currentWindowScrollY === undefined) {\n          _shout('initialLayout');\n\n          _currentWindowScrollY = _initalWindowScrollY = framework.getScrollY();\n        } // add classes to root element of PhotoSwipe\n\n\n        var rootClasses = 'pswp--open ';\n\n        if (_options.mainClass) {\n          rootClasses += _options.mainClass + ' ';\n        }\n\n        if (_options.showHideOpacity) {\n          rootClasses += 'pswp--animate_opacity ';\n        }\n\n        rootClasses += _likelyTouchDevice ? 'pswp--touch' : 'pswp--notouch';\n        rootClasses += _features.animationName ? ' pswp--css_animation' : '';\n        rootClasses += _features.svg ? ' pswp--svg' : '';\n        framework.addClass(template, rootClasses);\n        self.updateSize(); // initial update\n\n        _containerShiftIndex = -1;\n        _indexDiff = null;\n\n        for (i = 0; i < NUM_HOLDERS; i++) {\n          _setTranslateX((i + _containerShiftIndex) * _slideSize.x, _itemHolders[i].el.style);\n        }\n\n        if (!_oldIE) {\n          framework.bind(self.scrollWrap, _downEvents, self); // no dragging for old IE\n        }\n\n        _listen('initialZoomInEnd', function () {\n          self.setContent(_itemHolders[0], _currentItemIndex - 1);\n          self.setContent(_itemHolders[2], _currentItemIndex + 1);\n          _itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'block';\n\n          if (_options.focus) {\n            // focus causes layout, \n            // which causes lag during the animation, \n            // that's why we delay it untill the initial zoom transition ends\n            template.focus();\n          }\n\n          _bindEvents();\n        }); // set content for center slide (first time)\n\n\n        self.setContent(_itemHolders[1], _currentItemIndex);\n        self.updateCurrItem();\n\n        _shout('afterInit');\n\n        if (!_isFixedPosition) {\n          // On all versions of iOS lower than 8.0, we check size of viewport every second.\n          // \n          // This is done to detect when Safari top & bottom bars appear, \n          // as this action doesn't trigger any events (like resize). \n          // \n          // On iOS8 they fixed this.\n          // \n          // 10 Nov 2014: iOS 7 usage ~40%. iOS 8 usage 56%.\n          _updateSizeInterval = setInterval(function () {\n            if (!_numAnimations && !_isDragging && !_isZooming && _currZoomLevel === self.currItem.initialZoomLevel) {\n              self.updateSize();\n            }\n          }, 1000);\n        }\n\n        framework.addClass(template, 'pswp--visible');\n      },\n      // Close the gallery, then destroy it\n      close: function close() {\n        if (!_isOpen) {\n          return;\n        }\n\n        _isOpen = false;\n        _isDestroying = true;\n\n        _shout('close');\n\n        _unbindEvents();\n\n        _showOrHide(self.currItem, null, true, self.destroy);\n      },\n      // destroys the gallery (unbinds events, cleans up intervals and timeouts to avoid memory leaks)\n      destroy: function destroy() {\n        _shout('destroy');\n\n        if (_showOrHideTimeout) {\n          clearTimeout(_showOrHideTimeout);\n        }\n\n        template.setAttribute('aria-hidden', 'true');\n        template.className = _initalClassName;\n\n        if (_updateSizeInterval) {\n          clearInterval(_updateSizeInterval);\n        }\n\n        framework.unbind(self.scrollWrap, _downEvents, self); // we unbind scroll event at the end, as closing animation may depend on it\n\n        framework.unbind(window, 'scroll', self);\n\n        _stopDragUpdateLoop();\n\n        _stopAllAnimations();\n\n        _listeners = null;\n      },\n\n      /**\n       * Pan image to position\n       * @param {Number} x     \n       * @param {Number} y     \n       * @param {Boolean} force Will ignore bounds if set to true.\n       */\n      panTo: function panTo(x, y, force) {\n        if (!force) {\n          if (x > _currPanBounds.min.x) {\n            x = _currPanBounds.min.x;\n          } else if (x < _currPanBounds.max.x) {\n            x = _currPanBounds.max.x;\n          }\n\n          if (y > _currPanBounds.min.y) {\n            y = _currPanBounds.min.y;\n          } else if (y < _currPanBounds.max.y) {\n            y = _currPanBounds.max.y;\n          }\n        }\n\n        _panOffset.x = x;\n        _panOffset.y = y;\n\n        _applyCurrentZoomPan();\n      },\n      handleEvent: function handleEvent(e) {\n        e = e || window.event;\n\n        if (_globalEventHandlers[e.type]) {\n          _globalEventHandlers[e.type](e);\n        }\n      },\n      goTo: function goTo(index) {\n        index = _getLoopedId(index);\n        var diff = index - _currentItemIndex;\n        _indexDiff = diff;\n        _currentItemIndex = index;\n        self.currItem = _getItemAt(_currentItemIndex);\n        _currPositionIndex -= diff;\n\n        _moveMainScroll(_slideSize.x * _currPositionIndex);\n\n        _stopAllAnimations();\n\n        _mainScrollAnimating = false;\n        self.updateCurrItem();\n      },\n      next: function next() {\n        self.goTo(_currentItemIndex + 1);\n      },\n      prev: function prev() {\n        self.goTo(_currentItemIndex - 1);\n      },\n      // update current zoom/pan objects\n      updateCurrZoomItem: function updateCurrZoomItem(emulateSetContent) {\n        if (emulateSetContent) {\n          _shout('beforeChange', 0);\n        } // itemHolder[1] is middle (current) item\n\n\n        if (_itemHolders[1].el.children.length) {\n          var zoomElement = _itemHolders[1].el.children[0];\n\n          if (framework.hasClass(zoomElement, 'pswp__zoom-wrap')) {\n            _currZoomElementStyle = zoomElement.style;\n          } else {\n            _currZoomElementStyle = null;\n          }\n        } else {\n          _currZoomElementStyle = null;\n        }\n\n        _currPanBounds = self.currItem.bounds;\n        _startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n        _panOffset.x = _currPanBounds.center.x;\n        _panOffset.y = _currPanBounds.center.y;\n\n        if (emulateSetContent) {\n          _shout('afterChange');\n        }\n      },\n      invalidateCurrItems: function invalidateCurrItems() {\n        _itemsNeedUpdate = true;\n\n        for (var i = 0; i < NUM_HOLDERS; i++) {\n          if (_itemHolders[i].item) {\n            _itemHolders[i].item.needsUpdate = true;\n          }\n        }\n      },\n      updateCurrItem: function updateCurrItem(beforeAnimation) {\n        if (_indexDiff === 0) {\n          return;\n        }\n\n        var diffAbs = Math.abs(_indexDiff),\n            tempHolder;\n\n        if (beforeAnimation && diffAbs < 2) {\n          return;\n        }\n\n        self.currItem = _getItemAt(_currentItemIndex);\n        _renderMaxResolution = false;\n\n        _shout('beforeChange', _indexDiff);\n\n        if (diffAbs >= NUM_HOLDERS) {\n          _containerShiftIndex += _indexDiff + (_indexDiff > 0 ? -NUM_HOLDERS : NUM_HOLDERS);\n          diffAbs = NUM_HOLDERS;\n        }\n\n        for (var i = 0; i < diffAbs; i++) {\n          if (_indexDiff > 0) {\n            tempHolder = _itemHolders.shift();\n            _itemHolders[NUM_HOLDERS - 1] = tempHolder; // move first to last\n\n            _containerShiftIndex++;\n\n            _setTranslateX((_containerShiftIndex + 2) * _slideSize.x, tempHolder.el.style);\n\n            self.setContent(tempHolder, _currentItemIndex - diffAbs + i + 1 + 1);\n          } else {\n            tempHolder = _itemHolders.pop();\n\n            _itemHolders.unshift(tempHolder); // move last to first\n\n\n            _containerShiftIndex--;\n\n            _setTranslateX(_containerShiftIndex * _slideSize.x, tempHolder.el.style);\n\n            self.setContent(tempHolder, _currentItemIndex + diffAbs - i - 1 - 1);\n          }\n        } // reset zoom/pan on previous item\n\n\n        if (_currZoomElementStyle && Math.abs(_indexDiff) === 1) {\n          var prevItem = _getItemAt(_prevItemIndex);\n\n          if (prevItem.initialZoomLevel !== _currZoomLevel) {\n            _calculateItemSize(prevItem, _viewportSize);\n\n            _setImageSize(prevItem);\n\n            _applyZoomPanToItem(prevItem);\n          }\n        } // reset diff after update\n\n\n        _indexDiff = 0;\n        self.updateCurrZoomItem();\n        _prevItemIndex = _currentItemIndex;\n\n        _shout('afterChange');\n      },\n      updateSize: function updateSize(force) {\n        if (!_isFixedPosition && _options.modal) {\n          var windowScrollY = framework.getScrollY();\n\n          if (_currentWindowScrollY !== windowScrollY) {\n            template.style.top = windowScrollY + 'px';\n            _currentWindowScrollY = windowScrollY;\n          }\n\n          if (!force && _windowVisibleSize.x === window.innerWidth && _windowVisibleSize.y === window.innerHeight) {\n            return;\n          }\n\n          _windowVisibleSize.x = window.innerWidth;\n          _windowVisibleSize.y = window.innerHeight; //template.style.width = _windowVisibleSize.x + 'px';\n\n          template.style.height = _windowVisibleSize.y + 'px';\n        }\n\n        _viewportSize.x = self.scrollWrap.clientWidth;\n        _viewportSize.y = self.scrollWrap.clientHeight;\n\n        _updatePageScrollOffset();\n\n        _slideSize.x = _viewportSize.x + Math.round(_viewportSize.x * _options.spacing);\n        _slideSize.y = _viewportSize.y;\n\n        _moveMainScroll(_slideSize.x * _currPositionIndex);\n\n        _shout('beforeResize'); // even may be used for example to switch image sources\n        // don't re-calculate size on inital size update\n\n\n        if (_containerShiftIndex !== undefined) {\n          var holder, item, hIndex;\n\n          for (var i = 0; i < NUM_HOLDERS; i++) {\n            holder = _itemHolders[i];\n\n            _setTranslateX((i + _containerShiftIndex) * _slideSize.x, holder.el.style);\n\n            hIndex = _currentItemIndex + i - 1;\n\n            if (_options.loop && _getNumItems() > 2) {\n              hIndex = _getLoopedId(hIndex);\n            } // update zoom level on items and refresh source (if needsUpdate)\n\n\n            item = _getItemAt(hIndex); // re-render gallery item if `needsUpdate`,\n            // or doesn't have `bounds` (entirely new slide object)\n\n            if (item && (_itemsNeedUpdate || item.needsUpdate || !item.bounds)) {\n              self.cleanSlide(item);\n              self.setContent(holder, hIndex); // if \"center\" slide\n\n              if (i === 1) {\n                self.currItem = item;\n                self.updateCurrZoomItem(true);\n              }\n\n              item.needsUpdate = false;\n            } else if (holder.index === -1 && hIndex >= 0) {\n              // add content first time\n              self.setContent(holder, hIndex);\n            }\n\n            if (item && item.container) {\n              _calculateItemSize(item, _viewportSize);\n\n              _setImageSize(item);\n\n              _applyZoomPanToItem(item);\n            }\n          }\n\n          _itemsNeedUpdate = false;\n        }\n\n        _startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n        _currPanBounds = self.currItem.bounds;\n\n        if (_currPanBounds) {\n          _panOffset.x = _currPanBounds.center.x;\n          _panOffset.y = _currPanBounds.center.y;\n\n          _applyCurrentZoomPan(true);\n        }\n\n        _shout('resize');\n      },\n      // Zoom current item to\n      zoomTo: function zoomTo(destZoomLevel, centerPoint, speed, easingFn, updateFn) {\n        /*\n        \tif(destZoomLevel === 'fit') {\n        \t\tdestZoomLevel = self.currItem.fitRatio;\n        \t} else if(destZoomLevel === 'fill') {\n        \t\tdestZoomLevel = self.currItem.fillRatio;\n        \t}\n        */\n        if (centerPoint) {\n          _startZoomLevel = _currZoomLevel;\n          _midZoomPoint.x = Math.abs(centerPoint.x) - _panOffset.x;\n          _midZoomPoint.y = Math.abs(centerPoint.y) - _panOffset.y;\n\n          _equalizePoints(_startPanOffset, _panOffset);\n        }\n\n        var destPanBounds = _calculatePanBounds(destZoomLevel, false),\n            destPanOffset = {};\n\n        _modifyDestPanOffset('x', destPanBounds, destPanOffset, destZoomLevel);\n\n        _modifyDestPanOffset('y', destPanBounds, destPanOffset, destZoomLevel);\n\n        var initialZoomLevel = _currZoomLevel;\n        var initialPanOffset = {\n          x: _panOffset.x,\n          y: _panOffset.y\n        };\n\n        _roundPoint(destPanOffset);\n\n        var onUpdate = function onUpdate(now) {\n          if (now === 1) {\n            _currZoomLevel = destZoomLevel;\n            _panOffset.x = destPanOffset.x;\n            _panOffset.y = destPanOffset.y;\n          } else {\n            _currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n            _panOffset.x = (destPanOffset.x - initialPanOffset.x) * now + initialPanOffset.x;\n            _panOffset.y = (destPanOffset.y - initialPanOffset.y) * now + initialPanOffset.y;\n          }\n\n          if (updateFn) {\n            updateFn(now);\n          }\n\n          _applyCurrentZoomPan(now === 1);\n        };\n\n        if (speed) {\n          _animateProp('customZoomTo', 0, 1, speed, easingFn || framework.easing.sine.inOut, onUpdate);\n        } else {\n          onUpdate(1);\n        }\n      }\n    };\n    /*>>core*/\n\n    /*>>gestures*/\n\n    /**\n     * Mouse/touch/pointer event handlers.\n     * \n     * separated from @core.js for readability\n     */\n\n    var MIN_SWIPE_DISTANCE = 30,\n        DIRECTION_CHECK_OFFSET = 10; // amount of pixels to drag to determine direction of swipe\n\n    var _gestureStartTime,\n        _gestureCheckSpeedTime,\n        // pool of objects that are used during dragging of zooming\n    p = {},\n        // first point\n    p2 = {},\n        // second point (for zoom gesture)\n    delta = {},\n        _currPoint = {},\n        _startPoint = {},\n        _currPointers = [],\n        _startMainScrollPos = {},\n        _releaseAnimData,\n        _posPoints = [],\n        // array of points during dragging, used to determine type of gesture\n    _tempPoint = {},\n        _isZoomingIn,\n        _verticalDragInitiated,\n        _oldAndroidTouchEndTimeout,\n        _currZoomedItemIndex = 0,\n        _centerPoint = _getEmptyPoint(),\n        _lastReleaseTime = 0,\n        _isDragging,\n        // at least one pointer is down\n    _isMultitouch,\n        // at least two _pointers are down\n    _zoomStarted,\n        // zoom level changed during zoom gesture\n    _moved,\n        _dragAnimFrame,\n        _mainScrollShifted,\n        _currentPoints,\n        // array of current touch points\n    _isZooming,\n        _currPointsDistance,\n        _startPointsDistance,\n        _currPanBounds,\n        _mainScrollPos = _getEmptyPoint(),\n        _currZoomElementStyle,\n        _mainScrollAnimating,\n        // true, if animation after swipe gesture is running\n    _midZoomPoint = _getEmptyPoint(),\n        _currCenterPoint = _getEmptyPoint(),\n        _direction,\n        _isFirstMove,\n        _opacityChanged,\n        _bgOpacity,\n        _wasOverInitialZoom,\n        _isEqualPoints = function _isEqualPoints(p1, p2) {\n      return p1.x === p2.x && p1.y === p2.y;\n    },\n        _isNearbyPoints = function _isNearbyPoints(touch0, touch1) {\n      return Math.abs(touch0.x - touch1.x) < DOUBLE_TAP_RADIUS && Math.abs(touch0.y - touch1.y) < DOUBLE_TAP_RADIUS;\n    },\n        _calculatePointsDistance = function _calculatePointsDistance(p1, p2) {\n      _tempPoint.x = Math.abs(p1.x - p2.x);\n      _tempPoint.y = Math.abs(p1.y - p2.y);\n      return Math.sqrt(_tempPoint.x * _tempPoint.x + _tempPoint.y * _tempPoint.y);\n    },\n        _stopDragUpdateLoop = function _stopDragUpdateLoop() {\n      if (_dragAnimFrame) {\n        _cancelAF(_dragAnimFrame);\n\n        _dragAnimFrame = null;\n      }\n    },\n        _dragUpdateLoop = function _dragUpdateLoop() {\n      if (_isDragging) {\n        _dragAnimFrame = _requestAF(_dragUpdateLoop);\n\n        _renderMovement();\n      }\n    },\n        _canPan = function _canPan() {\n      return !(_options.scaleMode === 'fit' && _currZoomLevel === self.currItem.initialZoomLevel);\n    },\n        // find the closest parent DOM element\n    _closestElement = function _closestElement(el, fn) {\n      if (!el || el === document) {\n        return false;\n      } // don't search elements above pswp__scroll-wrap\n\n\n      if (el.getAttribute('class') && el.getAttribute('class').indexOf('pswp__scroll-wrap') > -1) {\n        return false;\n      }\n\n      if (fn(el)) {\n        return el;\n      }\n\n      return _closestElement(el.parentNode, fn);\n    },\n        _preventObj = {},\n        _preventDefaultEventBehaviour = function _preventDefaultEventBehaviour(e, isDown) {\n      _preventObj.prevent = !_closestElement(e.target, _options.isClickableElement);\n\n      _shout('preventDragEvent', e, isDown, _preventObj);\n\n      return _preventObj.prevent;\n    },\n        _convertTouchToPoint = function _convertTouchToPoint(touch, p) {\n      p.x = touch.pageX;\n      p.y = touch.pageY;\n      p.id = touch.identifier;\n      return p;\n    },\n        _findCenterOfPoints = function _findCenterOfPoints(p1, p2, pCenter) {\n      pCenter.x = (p1.x + p2.x) * 0.5;\n      pCenter.y = (p1.y + p2.y) * 0.5;\n    },\n        _pushPosPoint = function _pushPosPoint(time, x, y) {\n      if (time - _gestureCheckSpeedTime > 50) {\n        var o = _posPoints.length > 2 ? _posPoints.shift() : {};\n        o.x = x;\n        o.y = y;\n\n        _posPoints.push(o);\n\n        _gestureCheckSpeedTime = time;\n      }\n    },\n        _calculateVerticalDragOpacityRatio = function _calculateVerticalDragOpacityRatio() {\n      var yOffset = _panOffset.y - self.currItem.initialPosition.y; // difference between initial and current position\n\n      return 1 - Math.abs(yOffset / (_viewportSize.y / 2));\n    },\n        // points pool, reused during touch events\n    _ePoint1 = {},\n        _ePoint2 = {},\n        _tempPointsArr = [],\n        _tempCounter,\n        _getTouchPoints = function _getTouchPoints(e) {\n      // clean up previous points, without recreating array\n      while (_tempPointsArr.length > 0) {\n        _tempPointsArr.pop();\n      }\n\n      if (!_pointerEventEnabled) {\n        if (e.type.indexOf('touch') > -1) {\n          if (e.touches && e.touches.length > 0) {\n            _tempPointsArr[0] = _convertTouchToPoint(e.touches[0], _ePoint1);\n\n            if (e.touches.length > 1) {\n              _tempPointsArr[1] = _convertTouchToPoint(e.touches[1], _ePoint2);\n            }\n          }\n        } else {\n          _ePoint1.x = e.pageX;\n          _ePoint1.y = e.pageY;\n          _ePoint1.id = '';\n          _tempPointsArr[0] = _ePoint1; //_ePoint1;\n        }\n      } else {\n        _tempCounter = 0; // we can use forEach, as pointer events are supported only in modern browsers\n\n        _currPointers.forEach(function (p) {\n          if (_tempCounter === 0) {\n            _tempPointsArr[0] = p;\n          } else if (_tempCounter === 1) {\n            _tempPointsArr[1] = p;\n          }\n\n          _tempCounter++;\n        });\n      }\n\n      return _tempPointsArr;\n    },\n        _panOrMoveMainScroll = function _panOrMoveMainScroll(axis, delta) {\n      var panFriction,\n          overDiff = 0,\n          newOffset = _panOffset[axis] + delta[axis],\n          startOverDiff,\n          dir = delta[axis] > 0,\n          newMainScrollPosition = _mainScrollPos.x + delta.x,\n          mainScrollDiff = _mainScrollPos.x - _startMainScrollPos.x,\n          newPanPos,\n          newMainScrollPos; // calculate fdistance over the bounds and friction\n\n      if (newOffset > _currPanBounds.min[axis] || newOffset < _currPanBounds.max[axis]) {\n        panFriction = _options.panEndFriction; // Linear increasing of friction, so at 1/4 of viewport it's at max value. \n        // Looks not as nice as was expected. Left for history.\n        // panFriction = (1 - (_panOffset[axis] + delta[axis] + panBounds.min[axis]) / (_viewportSize[axis] / 4) );\n      } else {\n        panFriction = 1;\n      }\n\n      newOffset = _panOffset[axis] + delta[axis] * panFriction; // move main scroll or start panning\n\n      if (_options.allowPanToNext || _currZoomLevel === self.currItem.initialZoomLevel) {\n        if (!_currZoomElementStyle) {\n          newMainScrollPos = newMainScrollPosition;\n        } else if (_direction === 'h' && axis === 'x' && !_zoomStarted) {\n          if (dir) {\n            if (newOffset > _currPanBounds.min[axis]) {\n              panFriction = _options.panEndFriction;\n              overDiff = _currPanBounds.min[axis] - newOffset;\n              startOverDiff = _currPanBounds.min[axis] - _startPanOffset[axis];\n            } // drag right\n\n\n            if ((startOverDiff <= 0 || mainScrollDiff < 0) && _getNumItems() > 1) {\n              newMainScrollPos = newMainScrollPosition;\n\n              if (mainScrollDiff < 0 && newMainScrollPosition > _startMainScrollPos.x) {\n                newMainScrollPos = _startMainScrollPos.x;\n              }\n            } else {\n              if (_currPanBounds.min.x !== _currPanBounds.max.x) {\n                newPanPos = newOffset;\n              }\n            }\n          } else {\n            if (newOffset < _currPanBounds.max[axis]) {\n              panFriction = _options.panEndFriction;\n              overDiff = newOffset - _currPanBounds.max[axis];\n              startOverDiff = _startPanOffset[axis] - _currPanBounds.max[axis];\n            }\n\n            if ((startOverDiff <= 0 || mainScrollDiff > 0) && _getNumItems() > 1) {\n              newMainScrollPos = newMainScrollPosition;\n\n              if (mainScrollDiff > 0 && newMainScrollPosition < _startMainScrollPos.x) {\n                newMainScrollPos = _startMainScrollPos.x;\n              }\n            } else {\n              if (_currPanBounds.min.x !== _currPanBounds.max.x) {\n                newPanPos = newOffset;\n              }\n            }\n          } //\n\n        }\n\n        if (axis === 'x') {\n          if (newMainScrollPos !== undefined) {\n            _moveMainScroll(newMainScrollPos, true);\n\n            if (newMainScrollPos === _startMainScrollPos.x) {\n              _mainScrollShifted = false;\n            } else {\n              _mainScrollShifted = true;\n            }\n          }\n\n          if (_currPanBounds.min.x !== _currPanBounds.max.x) {\n            if (newPanPos !== undefined) {\n              _panOffset.x = newPanPos;\n            } else if (!_mainScrollShifted) {\n              _panOffset.x += delta.x * panFriction;\n            }\n          }\n\n          return newMainScrollPos !== undefined;\n        }\n      }\n\n      if (!_mainScrollAnimating) {\n        if (!_mainScrollShifted) {\n          if (_currZoomLevel > self.currItem.fitRatio) {\n            _panOffset[axis] += delta[axis] * panFriction;\n          }\n        }\n      }\n    },\n        // Pointerdown/touchstart/mousedown handler\n    _onDragStart = function _onDragStart(e) {\n      // Allow dragging only via left mouse button.\n      // As this handler is not added in IE8 - we ignore e.which\n      // \n      // http://www.quirksmode.org/js/events_properties.html\n      // https://developer.mozilla.org/en-US/docs/Web/API/event.button\n      if (e.type === 'mousedown' && e.button > 0) {\n        return;\n      }\n\n      if (_initialZoomRunning) {\n        e.preventDefault();\n        return;\n      }\n\n      if (_oldAndroidTouchEndTimeout && e.type === 'mousedown') {\n        return;\n      }\n\n      if (_preventDefaultEventBehaviour(e, true)) {\n        e.preventDefault();\n      }\n\n      _shout('pointerDown');\n\n      if (_pointerEventEnabled) {\n        var pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\n        if (pointerIndex < 0) {\n          pointerIndex = _currPointers.length;\n        }\n\n        _currPointers[pointerIndex] = {\n          x: e.pageX,\n          y: e.pageY,\n          id: e.pointerId\n        };\n      }\n\n      var startPointsList = _getTouchPoints(e),\n          numPoints = startPointsList.length;\n\n      _currentPoints = null;\n\n      _stopAllAnimations(); // init drag\n\n\n      if (!_isDragging || numPoints === 1) {\n        _isDragging = _isFirstMove = true;\n        framework.bind(window, _upMoveEvents, self);\n        _isZoomingIn = _wasOverInitialZoom = _opacityChanged = _verticalDragInitiated = _mainScrollShifted = _moved = _isMultitouch = _zoomStarted = false;\n        _direction = null;\n\n        _shout('firstTouchStart', startPointsList);\n\n        _equalizePoints(_startPanOffset, _panOffset);\n\n        _currPanDist.x = _currPanDist.y = 0;\n\n        _equalizePoints(_currPoint, startPointsList[0]);\n\n        _equalizePoints(_startPoint, _currPoint); //_equalizePoints(_startMainScrollPos, _mainScrollPos);\n\n\n        _startMainScrollPos.x = _slideSize.x * _currPositionIndex;\n        _posPoints = [{\n          x: _currPoint.x,\n          y: _currPoint.y\n        }];\n        _gestureCheckSpeedTime = _gestureStartTime = _getCurrentTime(); //_mainScrollAnimationEnd(true);\n\n        _calculatePanBounds(_currZoomLevel, true); // Start rendering\n\n\n        _stopDragUpdateLoop();\n\n        _dragUpdateLoop();\n      } // init zoom\n\n\n      if (!_isZooming && numPoints > 1 && !_mainScrollAnimating && !_mainScrollShifted) {\n        _startZoomLevel = _currZoomLevel;\n        _zoomStarted = false; // true if zoom changed at least once\n\n        _isZooming = _isMultitouch = true;\n        _currPanDist.y = _currPanDist.x = 0;\n\n        _equalizePoints(_startPanOffset, _panOffset);\n\n        _equalizePoints(p, startPointsList[0]);\n\n        _equalizePoints(p2, startPointsList[1]);\n\n        _findCenterOfPoints(p, p2, _currCenterPoint);\n\n        _midZoomPoint.x = Math.abs(_currCenterPoint.x) - _panOffset.x;\n        _midZoomPoint.y = Math.abs(_currCenterPoint.y) - _panOffset.y;\n        _currPointsDistance = _startPointsDistance = _calculatePointsDistance(p, p2);\n      }\n    },\n        // Pointermove/touchmove/mousemove handler\n    _onDragMove = function _onDragMove(e) {\n      e.preventDefault();\n\n      if (_pointerEventEnabled) {\n        var pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\n        if (pointerIndex > -1) {\n          var p = _currPointers[pointerIndex];\n          p.x = e.pageX;\n          p.y = e.pageY;\n        }\n      }\n\n      if (_isDragging) {\n        var touchesList = _getTouchPoints(e);\n\n        if (!_direction && !_moved && !_isZooming) {\n          if (_mainScrollPos.x !== _slideSize.x * _currPositionIndex) {\n            // if main scroll position is shifted  direction is always horizontal\n            _direction = 'h';\n          } else {\n            var diff = Math.abs(touchesList[0].x - _currPoint.x) - Math.abs(touchesList[0].y - _currPoint.y); // check the direction of movement\n\n            if (Math.abs(diff) >= DIRECTION_CHECK_OFFSET) {\n              _direction = diff > 0 ? 'h' : 'v';\n              _currentPoints = touchesList;\n            }\n          }\n        } else {\n          _currentPoints = touchesList;\n        }\n      }\n    },\n        // \n    _renderMovement = function _renderMovement() {\n      if (!_currentPoints) {\n        return;\n      }\n\n      var numPoints = _currentPoints.length;\n\n      if (numPoints === 0) {\n        return;\n      }\n\n      _equalizePoints(p, _currentPoints[0]);\n\n      delta.x = p.x - _currPoint.x;\n      delta.y = p.y - _currPoint.y;\n\n      if (_isZooming && numPoints > 1) {\n        // Handle behaviour for more than 1 point\n        _currPoint.x = p.x;\n        _currPoint.y = p.y; // check if one of two points changed\n\n        if (!delta.x && !delta.y && _isEqualPoints(_currentPoints[1], p2)) {\n          return;\n        }\n\n        _equalizePoints(p2, _currentPoints[1]);\n\n        if (!_zoomStarted) {\n          _zoomStarted = true;\n\n          _shout('zoomGestureStarted');\n        } // Distance between two points\n\n\n        var pointsDistance = _calculatePointsDistance(p, p2);\n\n        var zoomLevel = _calculateZoomLevel(pointsDistance); // slightly over the of initial zoom level\n\n\n        if (zoomLevel > self.currItem.initialZoomLevel + self.currItem.initialZoomLevel / 15) {\n          _wasOverInitialZoom = true;\n        } // Apply the friction if zoom level is out of the bounds\n\n\n        var zoomFriction = 1,\n            minZoomLevel = _getMinZoomLevel(),\n            maxZoomLevel = _getMaxZoomLevel();\n\n        if (zoomLevel < minZoomLevel) {\n          if (_options.pinchToClose && !_wasOverInitialZoom && _startZoomLevel <= self.currItem.initialZoomLevel) {\n            // fade out background if zooming out\n            var minusDiff = minZoomLevel - zoomLevel;\n            var percent = 1 - minusDiff / (minZoomLevel / 1.2);\n\n            _applyBgOpacity(percent);\n\n            _shout('onPinchClose', percent);\n\n            _opacityChanged = true;\n          } else {\n            zoomFriction = (minZoomLevel - zoomLevel) / minZoomLevel;\n\n            if (zoomFriction > 1) {\n              zoomFriction = 1;\n            }\n\n            zoomLevel = minZoomLevel - zoomFriction * (minZoomLevel / 3);\n          }\n        } else if (zoomLevel > maxZoomLevel) {\n          // 1.5 - extra zoom level above the max. E.g. if max is x6, real max 6 + 1.5 = 7.5\n          zoomFriction = (zoomLevel - maxZoomLevel) / (minZoomLevel * 6);\n\n          if (zoomFriction > 1) {\n            zoomFriction = 1;\n          }\n\n          zoomLevel = maxZoomLevel + zoomFriction * minZoomLevel;\n        }\n\n        if (zoomFriction < 0) {\n          zoomFriction = 0;\n        } // distance between touch points after friction is applied\n\n\n        _currPointsDistance = pointsDistance; // _centerPoint - The point in the middle of two pointers\n\n        _findCenterOfPoints(p, p2, _centerPoint); // paning with two pointers pressed\n\n\n        _currPanDist.x += _centerPoint.x - _currCenterPoint.x;\n        _currPanDist.y += _centerPoint.y - _currCenterPoint.y;\n\n        _equalizePoints(_currCenterPoint, _centerPoint);\n\n        _panOffset.x = _calculatePanOffset('x', zoomLevel);\n        _panOffset.y = _calculatePanOffset('y', zoomLevel);\n        _isZoomingIn = zoomLevel > _currZoomLevel;\n        _currZoomLevel = zoomLevel;\n\n        _applyCurrentZoomPan();\n      } else {\n        // handle behaviour for one point (dragging or panning)\n        if (!_direction) {\n          return;\n        }\n\n        if (_isFirstMove) {\n          _isFirstMove = false; // subtract drag distance that was used during the detection direction  \n\n          if (Math.abs(delta.x) >= DIRECTION_CHECK_OFFSET) {\n            delta.x -= _currentPoints[0].x - _startPoint.x;\n          }\n\n          if (Math.abs(delta.y) >= DIRECTION_CHECK_OFFSET) {\n            delta.y -= _currentPoints[0].y - _startPoint.y;\n          }\n        }\n\n        _currPoint.x = p.x;\n        _currPoint.y = p.y; // do nothing if pointers position hasn't changed\n\n        if (delta.x === 0 && delta.y === 0) {\n          return;\n        }\n\n        if (_direction === 'v' && _options.closeOnVerticalDrag) {\n          if (!_canPan()) {\n            _currPanDist.y += delta.y;\n            _panOffset.y += delta.y;\n\n            var opacityRatio = _calculateVerticalDragOpacityRatio();\n\n            _verticalDragInitiated = true;\n\n            _shout('onVerticalDrag', opacityRatio);\n\n            _applyBgOpacity(opacityRatio);\n\n            _applyCurrentZoomPan();\n\n            return;\n          }\n        }\n\n        _pushPosPoint(_getCurrentTime(), p.x, p.y);\n\n        _moved = true;\n        _currPanBounds = self.currItem.bounds;\n\n        var mainScrollChanged = _panOrMoveMainScroll('x', delta);\n\n        if (!mainScrollChanged) {\n          _panOrMoveMainScroll('y', delta);\n\n          _roundPoint(_panOffset);\n\n          _applyCurrentZoomPan();\n        }\n      }\n    },\n        // Pointerup/pointercancel/touchend/touchcancel/mouseup event handler\n    _onDragRelease = function _onDragRelease(e) {\n      if (_features.isOldAndroid) {\n        if (_oldAndroidTouchEndTimeout && e.type === 'mouseup') {\n          return;\n        } // on Android (v4.1, 4.2, 4.3 & possibly older) \n        // ghost mousedown/up event isn't preventable via e.preventDefault,\n        // which causes fake mousedown event\n        // so we block mousedown/up for 600ms\n\n\n        if (e.type.indexOf('touch') > -1) {\n          clearTimeout(_oldAndroidTouchEndTimeout);\n          _oldAndroidTouchEndTimeout = setTimeout(function () {\n            _oldAndroidTouchEndTimeout = 0;\n          }, 600);\n        }\n      }\n\n      _shout('pointerUp');\n\n      if (_preventDefaultEventBehaviour(e, false)) {\n        e.preventDefault();\n      }\n\n      var releasePoint;\n\n      if (_pointerEventEnabled) {\n        var pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\n        if (pointerIndex > -1) {\n          releasePoint = _currPointers.splice(pointerIndex, 1)[0];\n\n          if (navigator.msPointerEnabled) {\n            var MSPOINTER_TYPES = {\n              4: 'mouse',\n              // event.MSPOINTER_TYPE_MOUSE\n              2: 'touch',\n              // event.MSPOINTER_TYPE_TOUCH \n              3: 'pen' // event.MSPOINTER_TYPE_PEN\n\n            };\n            releasePoint.type = MSPOINTER_TYPES[e.pointerType];\n\n            if (!releasePoint.type) {\n              releasePoint.type = e.pointerType || 'mouse';\n            }\n          } else {\n            releasePoint.type = e.pointerType || 'mouse';\n          }\n        }\n      }\n\n      var touchList = _getTouchPoints(e),\n          gestureType,\n          numPoints = touchList.length;\n\n      if (e.type === 'mouseup') {\n        numPoints = 0;\n      } // Do nothing if there were 3 touch points or more\n\n\n      if (numPoints === 2) {\n        _currentPoints = null;\n        return true;\n      } // if second pointer released\n\n\n      if (numPoints === 1) {\n        _equalizePoints(_startPoint, touchList[0]);\n      } // pointer hasn't moved, send \"tap release\" point\n\n\n      if (numPoints === 0 && !_direction && !_mainScrollAnimating) {\n        if (!releasePoint) {\n          if (e.type === 'mouseup') {\n            releasePoint = {\n              x: e.pageX,\n              y: e.pageY,\n              type: 'mouse'\n            };\n          } else if (e.changedTouches && e.changedTouches[0]) {\n            releasePoint = {\n              x: e.changedTouches[0].pageX,\n              y: e.changedTouches[0].pageY,\n              type: 'touch'\n            };\n          }\n        }\n\n        _shout('touchRelease', e, releasePoint);\n      } // Difference in time between releasing of two last touch points (zoom gesture)\n\n\n      var releaseTimeDiff = -1; // Gesture completed, no pointers left\n\n      if (numPoints === 0) {\n        _isDragging = false;\n        framework.unbind(window, _upMoveEvents, self);\n\n        _stopDragUpdateLoop();\n\n        if (_isZooming) {\n          // Two points released at the same time\n          releaseTimeDiff = 0;\n        } else if (_lastReleaseTime !== -1) {\n          releaseTimeDiff = _getCurrentTime() - _lastReleaseTime;\n        }\n      }\n\n      _lastReleaseTime = numPoints === 1 ? _getCurrentTime() : -1;\n\n      if (releaseTimeDiff !== -1 && releaseTimeDiff < 150) {\n        gestureType = 'zoom';\n      } else {\n        gestureType = 'swipe';\n      }\n\n      if (_isZooming && numPoints < 2) {\n        _isZooming = false; // Only second point released\n\n        if (numPoints === 1) {\n          gestureType = 'zoomPointerUp';\n        }\n\n        _shout('zoomGestureEnded');\n      }\n\n      _currentPoints = null;\n\n      if (!_moved && !_zoomStarted && !_mainScrollAnimating && !_verticalDragInitiated) {\n        // nothing to animate\n        return;\n      }\n\n      _stopAllAnimations();\n\n      if (!_releaseAnimData) {\n        _releaseAnimData = _initDragReleaseAnimationData();\n      }\n\n      _releaseAnimData.calculateSwipeSpeed('x');\n\n      if (_verticalDragInitiated) {\n        var opacityRatio = _calculateVerticalDragOpacityRatio();\n\n        if (opacityRatio < _options.verticalDragRange) {\n          self.close();\n        } else {\n          var initalPanY = _panOffset.y,\n              initialBgOpacity = _bgOpacity;\n\n          _animateProp('verticalDrag', 0, 1, 300, framework.easing.cubic.out, function (now) {\n            _panOffset.y = (self.currItem.initialPosition.y - initalPanY) * now + initalPanY;\n\n            _applyBgOpacity((1 - initialBgOpacity) * now + initialBgOpacity);\n\n            _applyCurrentZoomPan();\n          });\n\n          _shout('onVerticalDrag', 1);\n        }\n\n        return;\n      } // main scroll \n\n\n      if ((_mainScrollShifted || _mainScrollAnimating) && numPoints === 0) {\n        var itemChanged = _finishSwipeMainScrollGesture(gestureType, _releaseAnimData);\n\n        if (itemChanged) {\n          return;\n        }\n\n        gestureType = 'zoomPointerUp';\n      } // prevent zoom/pan animation when main scroll animation runs\n\n\n      if (_mainScrollAnimating) {\n        return;\n      } // Complete simple zoom gesture (reset zoom level if it's out of the bounds)  \n\n\n      if (gestureType !== 'swipe') {\n        _completeZoomGesture();\n\n        return;\n      } // Complete pan gesture if main scroll is not shifted, and it's possible to pan current image\n\n\n      if (!_mainScrollShifted && _currZoomLevel > self.currItem.fitRatio) {\n        _completePanGesture(_releaseAnimData);\n      }\n    },\n        // Returns object with data about gesture\n    // It's created only once and then reused\n    _initDragReleaseAnimationData = function _initDragReleaseAnimationData() {\n      // temp local vars\n      var lastFlickDuration, tempReleasePos; // s = this\n\n      var s = {\n        lastFlickOffset: {},\n        lastFlickDist: {},\n        lastFlickSpeed: {},\n        slowDownRatio: {},\n        slowDownRatioReverse: {},\n        speedDecelerationRatio: {},\n        speedDecelerationRatioAbs: {},\n        distanceOffset: {},\n        backAnimDestination: {},\n        backAnimStarted: {},\n        calculateSwipeSpeed: function calculateSwipeSpeed(axis) {\n          if (_posPoints.length > 1) {\n            lastFlickDuration = _getCurrentTime() - _gestureCheckSpeedTime + 50;\n            tempReleasePos = _posPoints[_posPoints.length - 2][axis];\n          } else {\n            lastFlickDuration = _getCurrentTime() - _gestureStartTime; // total gesture duration\n\n            tempReleasePos = _startPoint[axis];\n          }\n\n          s.lastFlickOffset[axis] = _currPoint[axis] - tempReleasePos;\n          s.lastFlickDist[axis] = Math.abs(s.lastFlickOffset[axis]);\n\n          if (s.lastFlickDist[axis] > 20) {\n            s.lastFlickSpeed[axis] = s.lastFlickOffset[axis] / lastFlickDuration;\n          } else {\n            s.lastFlickSpeed[axis] = 0;\n          }\n\n          if (Math.abs(s.lastFlickSpeed[axis]) < 0.1) {\n            s.lastFlickSpeed[axis] = 0;\n          }\n\n          s.slowDownRatio[axis] = 0.95;\n          s.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n          s.speedDecelerationRatio[axis] = 1;\n        },\n        calculateOverBoundsAnimOffset: function calculateOverBoundsAnimOffset(axis, speed) {\n          if (!s.backAnimStarted[axis]) {\n            if (_panOffset[axis] > _currPanBounds.min[axis]) {\n              s.backAnimDestination[axis] = _currPanBounds.min[axis];\n            } else if (_panOffset[axis] < _currPanBounds.max[axis]) {\n              s.backAnimDestination[axis] = _currPanBounds.max[axis];\n            }\n\n            if (s.backAnimDestination[axis] !== undefined) {\n              s.slowDownRatio[axis] = 0.7;\n              s.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\n              if (s.speedDecelerationRatioAbs[axis] < 0.05) {\n                s.lastFlickSpeed[axis] = 0;\n                s.backAnimStarted[axis] = true;\n\n                _animateProp('bounceZoomPan' + axis, _panOffset[axis], s.backAnimDestination[axis], speed || 300, framework.easing.sine.out, function (pos) {\n                  _panOffset[axis] = pos;\n\n                  _applyCurrentZoomPan();\n                });\n              }\n            }\n          }\n        },\n        // Reduces the speed by slowDownRatio (per 10ms)\n        calculateAnimOffset: function calculateAnimOffset(axis) {\n          if (!s.backAnimStarted[axis]) {\n            s.speedDecelerationRatio[axis] = s.speedDecelerationRatio[axis] * (s.slowDownRatio[axis] + s.slowDownRatioReverse[axis] - s.slowDownRatioReverse[axis] * s.timeDiff / 10);\n            s.speedDecelerationRatioAbs[axis] = Math.abs(s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis]);\n            s.distanceOffset[axis] = s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis] * s.timeDiff;\n            _panOffset[axis] += s.distanceOffset[axis];\n          }\n        },\n        panAnimLoop: function panAnimLoop() {\n          if (_animations.zoomPan) {\n            _animations.zoomPan.raf = _requestAF(s.panAnimLoop);\n            s.now = _getCurrentTime();\n            s.timeDiff = s.now - s.lastNow;\n            s.lastNow = s.now;\n            s.calculateAnimOffset('x');\n            s.calculateAnimOffset('y');\n\n            _applyCurrentZoomPan();\n\n            s.calculateOverBoundsAnimOffset('x');\n            s.calculateOverBoundsAnimOffset('y');\n\n            if (s.speedDecelerationRatioAbs.x < 0.05 && s.speedDecelerationRatioAbs.y < 0.05) {\n              // round pan position\n              _panOffset.x = Math.round(_panOffset.x);\n              _panOffset.y = Math.round(_panOffset.y);\n\n              _applyCurrentZoomPan();\n\n              _stopAnimation('zoomPan');\n\n              return;\n            }\n          }\n        }\n      };\n      return s;\n    },\n        _completePanGesture = function _completePanGesture(animData) {\n      // calculate swipe speed for Y axis (paanning)\n      animData.calculateSwipeSpeed('y');\n      _currPanBounds = self.currItem.bounds;\n      animData.backAnimDestination = {};\n      animData.backAnimStarted = {}; // Avoid acceleration animation if speed is too low\n\n      if (Math.abs(animData.lastFlickSpeed.x) <= 0.05 && Math.abs(animData.lastFlickSpeed.y) <= 0.05) {\n        animData.speedDecelerationRatioAbs.x = animData.speedDecelerationRatioAbs.y = 0; // Run pan drag release animation. E.g. if you drag image and release finger without momentum.\n\n        animData.calculateOverBoundsAnimOffset('x');\n        animData.calculateOverBoundsAnimOffset('y');\n        return true;\n      } // Animation loop that controls the acceleration after pan gesture ends\n\n\n      _registerStartAnimation('zoomPan');\n\n      animData.lastNow = _getCurrentTime();\n      animData.panAnimLoop();\n    },\n        _finishSwipeMainScrollGesture = function _finishSwipeMainScrollGesture(gestureType, _releaseAnimData) {\n      var itemChanged;\n\n      if (!_mainScrollAnimating) {\n        _currZoomedItemIndex = _currentItemIndex;\n      }\n\n      var itemsDiff;\n\n      if (gestureType === 'swipe') {\n        var totalShiftDist = _currPoint.x - _startPoint.x,\n            isFastLastFlick = _releaseAnimData.lastFlickDist.x < 10; // if container is shifted for more than MIN_SWIPE_DISTANCE, \n        // and last flick gesture was in right direction\n\n        if (totalShiftDist > MIN_SWIPE_DISTANCE && (isFastLastFlick || _releaseAnimData.lastFlickOffset.x > 20)) {\n          // go to prev item\n          itemsDiff = -1;\n        } else if (totalShiftDist < -MIN_SWIPE_DISTANCE && (isFastLastFlick || _releaseAnimData.lastFlickOffset.x < -20)) {\n          // go to next item\n          itemsDiff = 1;\n        }\n      }\n\n      var nextCircle;\n\n      if (itemsDiff) {\n        _currentItemIndex += itemsDiff;\n\n        if (_currentItemIndex < 0) {\n          _currentItemIndex = _options.loop ? _getNumItems() - 1 : 0;\n          nextCircle = true;\n        } else if (_currentItemIndex >= _getNumItems()) {\n          _currentItemIndex = _options.loop ? 0 : _getNumItems() - 1;\n          nextCircle = true;\n        }\n\n        if (!nextCircle || _options.loop) {\n          _indexDiff += itemsDiff;\n          _currPositionIndex -= itemsDiff;\n          itemChanged = true;\n        }\n      }\n\n      var animateToX = _slideSize.x * _currPositionIndex;\n      var animateToDist = Math.abs(animateToX - _mainScrollPos.x);\n      var finishAnimDuration;\n\n      if (!itemChanged && animateToX > _mainScrollPos.x !== _releaseAnimData.lastFlickSpeed.x > 0) {\n        // \"return to current\" duration, e.g. when dragging from slide 0 to -1\n        finishAnimDuration = 333;\n      } else {\n        finishAnimDuration = Math.abs(_releaseAnimData.lastFlickSpeed.x) > 0 ? animateToDist / Math.abs(_releaseAnimData.lastFlickSpeed.x) : 333;\n        finishAnimDuration = Math.min(finishAnimDuration, 400);\n        finishAnimDuration = Math.max(finishAnimDuration, 250);\n      }\n\n      if (_currZoomedItemIndex === _currentItemIndex) {\n        itemChanged = false;\n      }\n\n      _mainScrollAnimating = true;\n\n      _shout('mainScrollAnimStart');\n\n      _animateProp('mainScroll', _mainScrollPos.x, animateToX, finishAnimDuration, framework.easing.cubic.out, _moveMainScroll, function () {\n        _stopAllAnimations();\n\n        _mainScrollAnimating = false;\n        _currZoomedItemIndex = -1;\n\n        if (itemChanged || _currZoomedItemIndex !== _currentItemIndex) {\n          self.updateCurrItem();\n        }\n\n        _shout('mainScrollAnimComplete');\n      });\n\n      if (itemChanged) {\n        self.updateCurrItem(true);\n      }\n\n      return itemChanged;\n    },\n        _calculateZoomLevel = function _calculateZoomLevel(touchesDistance) {\n      return 1 / _startPointsDistance * touchesDistance * _startZoomLevel;\n    },\n        // Resets zoom if it's out of bounds\n    _completeZoomGesture = function _completeZoomGesture() {\n      var destZoomLevel = _currZoomLevel,\n          minZoomLevel = _getMinZoomLevel(),\n          maxZoomLevel = _getMaxZoomLevel();\n\n      if (_currZoomLevel < minZoomLevel) {\n        destZoomLevel = minZoomLevel;\n      } else if (_currZoomLevel > maxZoomLevel) {\n        destZoomLevel = maxZoomLevel;\n      }\n\n      var destOpacity = 1,\n          onUpdate,\n          initialOpacity = _bgOpacity;\n\n      if (_opacityChanged && !_isZoomingIn && !_wasOverInitialZoom && _currZoomLevel < minZoomLevel) {\n        //_closedByScroll = true;\n        self.close();\n        return true;\n      }\n\n      if (_opacityChanged) {\n        onUpdate = function onUpdate(now) {\n          _applyBgOpacity((destOpacity - initialOpacity) * now + initialOpacity);\n        };\n      }\n\n      self.zoomTo(destZoomLevel, 0, 200, framework.easing.cubic.out, onUpdate);\n      return true;\n    };\n\n    _registerModule('Gestures', {\n      publicMethods: {\n        initGestures: function initGestures() {\n          // helper function that builds touch/pointer/mouse events\n          var addEventNames = function addEventNames(pref, down, move, up, cancel) {\n            _dragStartEvent = pref + down;\n            _dragMoveEvent = pref + move;\n            _dragEndEvent = pref + up;\n\n            if (cancel) {\n              _dragCancelEvent = pref + cancel;\n            } else {\n              _dragCancelEvent = '';\n            }\n          };\n\n          _pointerEventEnabled = _features.pointerEvent;\n\n          if (_pointerEventEnabled && _features.touch) {\n            // we don't need touch events, if browser supports pointer events\n            _features.touch = false;\n          }\n\n          if (_pointerEventEnabled) {\n            if (navigator.msPointerEnabled) {\n              // IE10 pointer events are case-sensitive\n              addEventNames('MSPointer', 'Down', 'Move', 'Up', 'Cancel');\n            } else {\n              addEventNames('pointer', 'down', 'move', 'up', 'cancel');\n            }\n          } else if (_features.touch) {\n            addEventNames('touch', 'start', 'move', 'end', 'cancel');\n            _likelyTouchDevice = true;\n          } else {\n            addEventNames('mouse', 'down', 'move', 'up');\n          }\n\n          _upMoveEvents = _dragMoveEvent + ' ' + _dragEndEvent + ' ' + _dragCancelEvent;\n          _downEvents = _dragStartEvent;\n\n          if (_pointerEventEnabled && !_likelyTouchDevice) {\n            _likelyTouchDevice = navigator.maxTouchPoints > 1 || navigator.msMaxTouchPoints > 1;\n          } // make variable public\n\n\n          self.likelyTouchDevice = _likelyTouchDevice;\n          _globalEventHandlers[_dragStartEvent] = _onDragStart;\n          _globalEventHandlers[_dragMoveEvent] = _onDragMove;\n          _globalEventHandlers[_dragEndEvent] = _onDragRelease; // the Kraken\n\n          if (_dragCancelEvent) {\n            _globalEventHandlers[_dragCancelEvent] = _globalEventHandlers[_dragEndEvent];\n          } // Bind mouse events on device with detected hardware touch support, in case it supports multiple types of input.\n\n\n          if (_features.touch) {\n            _downEvents += ' mousedown';\n            _upMoveEvents += ' mousemove mouseup';\n            _globalEventHandlers.mousedown = _globalEventHandlers[_dragStartEvent];\n            _globalEventHandlers.mousemove = _globalEventHandlers[_dragMoveEvent];\n            _globalEventHandlers.mouseup = _globalEventHandlers[_dragEndEvent];\n          }\n\n          if (!_likelyTouchDevice) {\n            // don't allow pan to next slide from zoomed state on Desktop\n            _options.allowPanToNext = false;\n          }\n        }\n      }\n    });\n    /*>>gestures*/\n\n    /*>>show-hide-transition*/\n\n    /**\n     * show-hide-transition.js:\n     *\n     * Manages initial opening or closing transition.\n     *\n     * If you're not planning to use transition for gallery at all,\n     * you may set options hideAnimationDuration and showAnimationDuration to 0,\n     * and just delete startAnimation function.\n     * \n     */\n\n\n    var _showOrHideTimeout,\n        _showOrHide = function _showOrHide(item, img, out, completeFn) {\n      if (_showOrHideTimeout) {\n        clearTimeout(_showOrHideTimeout);\n      }\n\n      _initialZoomRunning = true;\n      _initialContentSet = true; // dimensions of small thumbnail {x:,y:,w:}.\n      // Height is optional, as calculated based on large image.\n\n      var thumbBounds;\n\n      if (item.initialLayout) {\n        thumbBounds = item.initialLayout;\n        item.initialLayout = null;\n      } else {\n        thumbBounds = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n      }\n\n      var duration = out ? _options.hideAnimationDuration : _options.showAnimationDuration;\n\n      var onComplete = function onComplete() {\n        _stopAnimation('initialZoom');\n\n        if (!out) {\n          _applyBgOpacity(1);\n\n          if (img) {\n            img.style.display = 'block';\n          }\n\n          framework.addClass(template, 'pswp--animated-in');\n\n          _shout('initialZoom' + (out ? 'OutEnd' : 'InEnd'));\n        } else {\n          self.template.removeAttribute('style');\n          self.bg.removeAttribute('style');\n        }\n\n        if (completeFn) {\n          completeFn();\n        }\n\n        _initialZoomRunning = false;\n      }; // if bounds aren't provided, just open gallery without animation\n\n\n      if (!duration || !thumbBounds || thumbBounds.x === undefined) {\n        _shout('initialZoom' + (out ? 'Out' : 'In'));\n\n        _currZoomLevel = item.initialZoomLevel;\n\n        _equalizePoints(_panOffset, item.initialPosition);\n\n        _applyCurrentZoomPan();\n\n        template.style.opacity = out ? 0 : 1;\n\n        _applyBgOpacity(1);\n\n        if (duration) {\n          setTimeout(function () {\n            onComplete();\n          }, duration);\n        } else {\n          onComplete();\n        }\n\n        return;\n      }\n\n      var startAnimation = function startAnimation() {\n        var closeWithRaf = _closedByScroll,\n            fadeEverything = !self.currItem.src || self.currItem.loadError || _options.showHideOpacity; // apply hw-acceleration to image\n\n        if (item.miniImg) {\n          item.miniImg.style.webkitBackfaceVisibility = 'hidden';\n        }\n\n        if (!out) {\n          _currZoomLevel = thumbBounds.w / item.w;\n          _panOffset.x = thumbBounds.x;\n          _panOffset.y = thumbBounds.y - _initalWindowScrollY;\n          self[fadeEverything ? 'template' : 'bg'].style.opacity = 0.001;\n\n          _applyCurrentZoomPan();\n        }\n\n        _registerStartAnimation('initialZoom');\n\n        if (out && !closeWithRaf) {\n          framework.removeClass(template, 'pswp--animated-in');\n        }\n\n        if (fadeEverything) {\n          if (out) {\n            framework[(closeWithRaf ? 'remove' : 'add') + 'Class'](template, 'pswp--animate_opacity');\n          } else {\n            setTimeout(function () {\n              framework.addClass(template, 'pswp--animate_opacity');\n            }, 30);\n          }\n        }\n\n        _showOrHideTimeout = setTimeout(function () {\n          _shout('initialZoom' + (out ? 'Out' : 'In'));\n\n          if (!out) {\n            // \"in\" animation always uses CSS transitions (instead of rAF).\n            // CSS transition work faster here, \n            // as developer may also want to animate other things, \n            // like ui on top of sliding area, which can be animated just via CSS\n            _currZoomLevel = item.initialZoomLevel;\n\n            _equalizePoints(_panOffset, item.initialPosition);\n\n            _applyCurrentZoomPan();\n\n            _applyBgOpacity(1);\n\n            if (fadeEverything) {\n              template.style.opacity = 1;\n            } else {\n              _applyBgOpacity(1);\n            }\n\n            _showOrHideTimeout = setTimeout(onComplete, duration + 20);\n          } else {\n            // \"out\" animation uses rAF only when PhotoSwipe is closed by browser scroll, to recalculate position\n            var destZoomLevel = thumbBounds.w / item.w,\n                initialPanOffset = {\n              x: _panOffset.x,\n              y: _panOffset.y\n            },\n                initialZoomLevel = _currZoomLevel,\n                initalBgOpacity = _bgOpacity,\n                onUpdate = function onUpdate(now) {\n              if (now === 1) {\n                _currZoomLevel = destZoomLevel;\n                _panOffset.x = thumbBounds.x;\n                _panOffset.y = thumbBounds.y - _currentWindowScrollY;\n              } else {\n                _currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n                _panOffset.x = (thumbBounds.x - initialPanOffset.x) * now + initialPanOffset.x;\n                _panOffset.y = (thumbBounds.y - _currentWindowScrollY - initialPanOffset.y) * now + initialPanOffset.y;\n              }\n\n              _applyCurrentZoomPan();\n\n              if (fadeEverything) {\n                template.style.opacity = 1 - now;\n              } else {\n                _applyBgOpacity(initalBgOpacity - now * initalBgOpacity);\n              }\n            };\n\n            if (closeWithRaf) {\n              _animateProp('initialZoom', 0, 1, duration, framework.easing.cubic.out, onUpdate, onComplete);\n            } else {\n              onUpdate(1);\n              _showOrHideTimeout = setTimeout(onComplete, duration + 20);\n            }\n          }\n        }, out ? 25 : 90); // Main purpose of this delay is to give browser time to paint and\n        // create composite layers of PhotoSwipe UI parts (background, controls, caption, arrows).\n        // Which avoids lag at the beginning of scale transition.\n      };\n\n      startAnimation();\n    };\n    /*>>show-hide-transition*/\n\n    /*>>items-controller*/\n\n    /**\n    *\n    * Controller manages gallery items, their dimensions, and their content.\n    * \n    */\n\n\n    var _items,\n        _tempPanAreaSize = {},\n        _imagesToAppendPool = [],\n        _initialContentSet,\n        _initialZoomRunning,\n        _controllerDefaultOptions = {\n      index: 0,\n      errorMsg: '<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',\n      forceProgressiveLoading: false,\n      // TODO\n      preload: [1, 1],\n      getNumItemsFn: function getNumItemsFn() {\n        return _items.length;\n      }\n    };\n\n    var _getItemAt,\n        _getNumItems,\n        _initialIsLoop,\n        _getZeroBounds = function _getZeroBounds() {\n      return {\n        center: {\n          x: 0,\n          y: 0\n        },\n        max: {\n          x: 0,\n          y: 0\n        },\n        min: {\n          x: 0,\n          y: 0\n        }\n      };\n    },\n        _calculateSingleItemPanBounds = function _calculateSingleItemPanBounds(item, realPanElementW, realPanElementH) {\n      var bounds = item.bounds; // position of element when it's centered\n\n      bounds.center.x = Math.round((_tempPanAreaSize.x - realPanElementW) / 2);\n      bounds.center.y = Math.round((_tempPanAreaSize.y - realPanElementH) / 2) + item.vGap.top; // maximum pan position\n\n      bounds.max.x = realPanElementW > _tempPanAreaSize.x ? Math.round(_tempPanAreaSize.x - realPanElementW) : bounds.center.x;\n      bounds.max.y = realPanElementH > _tempPanAreaSize.y ? Math.round(_tempPanAreaSize.y - realPanElementH) + item.vGap.top : bounds.center.y; // minimum pan position\n\n      bounds.min.x = realPanElementW > _tempPanAreaSize.x ? 0 : bounds.center.x;\n      bounds.min.y = realPanElementH > _tempPanAreaSize.y ? item.vGap.top : bounds.center.y;\n    },\n        _calculateItemSize = function _calculateItemSize(item, viewportSize, zoomLevel) {\n      if (item.src && !item.loadError) {\n        var isInitial = !zoomLevel;\n\n        if (isInitial) {\n          if (!item.vGap) {\n            item.vGap = {\n              top: 0,\n              bottom: 0\n            };\n          } // allows overriding vertical margin for individual items\n\n\n          _shout('parseVerticalMargin', item);\n        }\n\n        _tempPanAreaSize.x = viewportSize.x;\n        _tempPanAreaSize.y = viewportSize.y - item.vGap.top - item.vGap.bottom;\n\n        if (isInitial) {\n          var hRatio = _tempPanAreaSize.x / item.w;\n          var vRatio = _tempPanAreaSize.y / item.h;\n          item.fitRatio = hRatio < vRatio ? hRatio : vRatio; //item.fillRatio = hRatio > vRatio ? hRatio : vRatio;\n\n          var scaleMode = _options.scaleMode;\n\n          if (scaleMode === 'orig') {\n            zoomLevel = 1;\n          } else if (scaleMode === 'fit') {\n            zoomLevel = item.fitRatio;\n          }\n\n          if (zoomLevel > 1) {\n            zoomLevel = 1;\n          }\n\n          item.initialZoomLevel = zoomLevel;\n\n          if (!item.bounds) {\n            // reuse bounds object\n            item.bounds = _getZeroBounds();\n          }\n        }\n\n        if (!zoomLevel) {\n          return;\n        }\n\n        _calculateSingleItemPanBounds(item, item.w * zoomLevel, item.h * zoomLevel);\n\n        if (isInitial && zoomLevel === item.initialZoomLevel) {\n          item.initialPosition = item.bounds.center;\n        }\n\n        return item.bounds;\n      } else {\n        item.w = item.h = 0;\n        item.initialZoomLevel = item.fitRatio = 1;\n        item.bounds = _getZeroBounds();\n        item.initialPosition = item.bounds.center; // if it's not image, we return zero bounds (content is not zoomable)\n\n        return item.bounds;\n      }\n    },\n        _appendImage = function _appendImage(index, item, baseDiv, img, preventAnimation, keepPlaceholder) {\n      if (item.loadError) {\n        return;\n      }\n\n      if (img) {\n        item.imageAppended = true;\n\n        _setImageSize(item, img, item === self.currItem && _renderMaxResolution);\n\n        baseDiv.appendChild(img);\n\n        if (keepPlaceholder) {\n          setTimeout(function () {\n            if (item && item.loaded && item.placeholder) {\n              item.placeholder.style.display = 'none';\n              item.placeholder = null;\n            }\n          }, 500);\n        }\n      }\n    },\n        _preloadImage = function _preloadImage(item) {\n      item.loading = true;\n      item.loaded = false;\n      var img = item.img = framework.createEl('pswp__img', 'img');\n\n      var onComplete = function onComplete() {\n        item.loading = false;\n        item.loaded = true;\n\n        if (item.loadComplete) {\n          item.loadComplete(item);\n        } else {\n          item.img = null; // no need to store image object\n        }\n\n        img.onload = img.onerror = null;\n        img = null;\n      };\n\n      img.onload = onComplete;\n\n      img.onerror = function () {\n        item.loadError = true;\n        onComplete();\n      };\n\n      img.src = item.src; // + '?a=' + Math.random();\n\n      return img;\n    },\n        _checkForError = function _checkForError(item, cleanUp) {\n      if (item.src && item.loadError && item.container) {\n        if (cleanUp) {\n          item.container.innerHTML = '';\n        }\n\n        item.container.innerHTML = _options.errorMsg.replace('%url%', item.src);\n        return true;\n      }\n    },\n        _setImageSize = function _setImageSize(item, img, maxRes) {\n      if (!item.src) {\n        return;\n      }\n\n      if (!img) {\n        img = item.container.lastChild;\n      }\n\n      var w = maxRes ? item.w : Math.round(item.w * item.fitRatio),\n          h = maxRes ? item.h : Math.round(item.h * item.fitRatio);\n\n      if (item.placeholder && !item.loaded) {\n        item.placeholder.style.width = w + 'px';\n        item.placeholder.style.height = h + 'px';\n      }\n\n      img.style.width = w + 'px';\n      img.style.height = h + 'px';\n    },\n        _appendImagesPool = function _appendImagesPool() {\n      if (_imagesToAppendPool.length) {\n        var poolItem;\n\n        for (var i = 0; i < _imagesToAppendPool.length; i++) {\n          poolItem = _imagesToAppendPool[i];\n\n          if (poolItem.holder.index === poolItem.index) {\n            _appendImage(poolItem.index, poolItem.item, poolItem.baseDiv, poolItem.img, false, poolItem.clearPlaceholder);\n          }\n        }\n\n        _imagesToAppendPool = [];\n      }\n    };\n\n    _registerModule('Controller', {\n      publicMethods: {\n        lazyLoadItem: function lazyLoadItem(index) {\n          index = _getLoopedId(index);\n\n          var item = _getItemAt(index);\n\n          if (!item || (item.loaded || item.loading) && !_itemsNeedUpdate) {\n            return;\n          }\n\n          _shout('gettingData', index, item);\n\n          if (!item.src) {\n            return;\n          }\n\n          _preloadImage(item);\n        },\n        initController: function initController() {\n          framework.extend(_options, _controllerDefaultOptions, true);\n          self.items = _items = items;\n          _getItemAt = self.getItemAt;\n          _getNumItems = _options.getNumItemsFn; //self.getNumItems;\n\n          _initialIsLoop = _options.loop;\n\n          if (_getNumItems() < 3) {\n            _options.loop = false; // disable loop if less then 3 items\n          }\n\n          _listen('beforeChange', function (diff) {\n            var p = _options.preload,\n                isNext = diff === null ? true : diff >= 0,\n                preloadBefore = Math.min(p[0], _getNumItems()),\n                preloadAfter = Math.min(p[1], _getNumItems()),\n                i;\n\n            for (i = 1; i <= (isNext ? preloadAfter : preloadBefore); i++) {\n              self.lazyLoadItem(_currentItemIndex + i);\n            }\n\n            for (i = 1; i <= (isNext ? preloadBefore : preloadAfter); i++) {\n              self.lazyLoadItem(_currentItemIndex - i);\n            }\n          });\n\n          _listen('initialLayout', function () {\n            self.currItem.initialLayout = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n          });\n\n          _listen('mainScrollAnimComplete', _appendImagesPool);\n\n          _listen('initialZoomInEnd', _appendImagesPool);\n\n          _listen('destroy', function () {\n            var item;\n\n            for (var i = 0; i < _items.length; i++) {\n              item = _items[i]; // remove reference to DOM elements, for GC\n\n              if (item.container) {\n                item.container = null;\n              }\n\n              if (item.placeholder) {\n                item.placeholder = null;\n              }\n\n              if (item.img) {\n                item.img = null;\n              }\n\n              if (item.preloader) {\n                item.preloader = null;\n              }\n\n              if (item.loadError) {\n                item.loaded = item.loadError = false;\n              }\n            }\n\n            _imagesToAppendPool = null;\n          });\n        },\n        getItemAt: function getItemAt(index) {\n          if (index >= 0) {\n            return _items[index] !== undefined ? _items[index] : false;\n          }\n\n          return false;\n        },\n        allowProgressiveImg: function allowProgressiveImg() {\n          // 1. Progressive image loading isn't working on webkit/blink \n          //    when hw-acceleration (e.g. translateZ) is applied to IMG element.\n          //    That's why in PhotoSwipe parent element gets zoom transform, not image itself.\n          //    \n          // 2. Progressive image loading sometimes blinks in webkit/blink when applying animation to parent element.\n          //    That's why it's disabled on touch devices (mainly because of swipe transition)\n          //    \n          // 3. Progressive image loading sometimes doesn't work in IE (up to 11).\n          // Don't allow progressive loading on non-large touch devices\n          return _options.forceProgressiveLoading || !_likelyTouchDevice || _options.mouseUsed || screen.width > 1200; // 1200 - to eliminate touch devices with large screen (like Chromebook Pixel)\n        },\n        setContent: function setContent(holder, index) {\n          if (_options.loop) {\n            index = _getLoopedId(index);\n          }\n\n          var prevItem = self.getItemAt(holder.index);\n\n          if (prevItem) {\n            prevItem.container = null;\n          }\n\n          var item = self.getItemAt(index),\n              img;\n\n          if (!item) {\n            holder.el.innerHTML = '';\n            return;\n          } // allow to override data\n\n\n          _shout('gettingData', index, item);\n\n          holder.index = index;\n          holder.item = item; // base container DIV is created only once for each of 3 holders\n\n          var baseDiv = item.container = framework.createEl('pswp__zoom-wrap');\n\n          if (!item.src && item.html) {\n            if (item.html.tagName) {\n              baseDiv.appendChild(item.html);\n            } else {\n              baseDiv.innerHTML = item.html;\n            }\n          }\n\n          _checkForError(item);\n\n          _calculateItemSize(item, _viewportSize);\n\n          if (item.src && !item.loadError && !item.loaded) {\n            item.loadComplete = function (item) {\n              // gallery closed before image finished loading\n              if (!_isOpen) {\n                return;\n              } // check if holder hasn't changed while image was loading\n\n\n              if (holder && holder.index === index) {\n                if (_checkForError(item, true)) {\n                  item.loadComplete = item.img = null;\n\n                  _calculateItemSize(item, _viewportSize);\n\n                  _applyZoomPanToItem(item);\n\n                  if (holder.index === _currentItemIndex) {\n                    // recalculate dimensions\n                    self.updateCurrZoomItem();\n                  }\n\n                  return;\n                }\n\n                if (!item.imageAppended) {\n                  if (_features.transform && (_mainScrollAnimating || _initialZoomRunning)) {\n                    _imagesToAppendPool.push({\n                      item: item,\n                      baseDiv: baseDiv,\n                      img: item.img,\n                      index: index,\n                      holder: holder,\n                      clearPlaceholder: true\n                    });\n                  } else {\n                    _appendImage(index, item, baseDiv, item.img, _mainScrollAnimating || _initialZoomRunning, true);\n                  }\n                } else {\n                  // remove preloader & mini-img\n                  if (!_initialZoomRunning && item.placeholder) {\n                    item.placeholder.style.display = 'none';\n                    item.placeholder = null;\n                  }\n                }\n              }\n\n              item.loadComplete = null;\n              item.img = null; // no need to store image element after it's added\n\n              _shout('imageLoadComplete', index, item);\n            };\n\n            if (framework.features.transform) {\n              var placeholderClassName = 'pswp__img pswp__img--placeholder';\n              placeholderClassName += item.msrc ? '' : ' pswp__img--placeholder--blank';\n              var placeholder = framework.createEl(placeholderClassName, item.msrc ? 'img' : '');\n\n              if (item.msrc) {\n                placeholder.src = item.msrc;\n              }\n\n              _setImageSize(item, placeholder);\n\n              baseDiv.appendChild(placeholder);\n              item.placeholder = placeholder;\n            }\n\n            if (!item.loading) {\n              _preloadImage(item);\n            }\n\n            if (self.allowProgressiveImg()) {\n              // just append image\n              if (!_initialContentSet && _features.transform) {\n                _imagesToAppendPool.push({\n                  item: item,\n                  baseDiv: baseDiv,\n                  img: item.img,\n                  index: index,\n                  holder: holder\n                });\n              } else {\n                _appendImage(index, item, baseDiv, item.img, true, true);\n              }\n            }\n          } else if (item.src && !item.loadError) {\n            // image object is created every time, due to bugs of image loading & delay when switching images\n            img = framework.createEl('pswp__img', 'img');\n            img.style.opacity = 1;\n            img.src = item.src;\n\n            _setImageSize(item, img);\n\n            _appendImage(index, item, baseDiv, img, true);\n          }\n\n          if (!_initialContentSet && index === _currentItemIndex) {\n            _currZoomElementStyle = baseDiv.style;\n\n            _showOrHide(item, img || item.img);\n          } else {\n            _applyZoomPanToItem(item);\n          }\n\n          holder.el.innerHTML = '';\n          holder.el.appendChild(baseDiv);\n        },\n        cleanSlide: function cleanSlide(item) {\n          if (item.img) {\n            item.img.onload = item.img.onerror = null;\n          }\n\n          item.loaded = item.loading = item.img = item.imageAppended = false;\n        }\n      }\n    });\n    /*>>items-controller*/\n\n    /*>>tap*/\n\n    /**\n     * tap.js:\n     *\n     * Displatches tap and double-tap events.\n     * \n     */\n\n\n    var tapTimer,\n        tapReleasePoint = {},\n        _dispatchTapEvent = function _dispatchTapEvent(origEvent, releasePoint, pointerType) {\n      var e = document.createEvent('CustomEvent'),\n          eDetail = {\n        origEvent: origEvent,\n        target: origEvent.target,\n        releasePoint: releasePoint,\n        pointerType: pointerType || 'touch'\n      };\n      e.initCustomEvent('pswpTap', true, true, eDetail);\n      origEvent.target.dispatchEvent(e);\n    };\n\n    _registerModule('Tap', {\n      publicMethods: {\n        initTap: function initTap() {\n          _listen('firstTouchStart', self.onTapStart);\n\n          _listen('touchRelease', self.onTapRelease);\n\n          _listen('destroy', function () {\n            tapReleasePoint = {};\n            tapTimer = null;\n          });\n        },\n        onTapStart: function onTapStart(touchList) {\n          if (touchList.length > 1) {\n            clearTimeout(tapTimer);\n            tapTimer = null;\n          }\n        },\n        onTapRelease: function onTapRelease(e, releasePoint) {\n          if (!releasePoint) {\n            return;\n          }\n\n          if (!_moved && !_isMultitouch && !_numAnimations) {\n            var p0 = releasePoint;\n\n            if (tapTimer) {\n              clearTimeout(tapTimer);\n              tapTimer = null; // Check if taped on the same place\n\n              if (_isNearbyPoints(p0, tapReleasePoint)) {\n                _shout('doubleTap', p0);\n\n                return;\n              }\n            }\n\n            if (releasePoint.type === 'mouse') {\n              _dispatchTapEvent(e, releasePoint, 'mouse');\n\n              return;\n            }\n\n            var clickedTagName = e.target.tagName.toUpperCase(); // avoid double tap delay on buttons and elements that have class pswp__single-tap\n\n            if (clickedTagName === 'BUTTON' || framework.hasClass(e.target, 'pswp__single-tap')) {\n              _dispatchTapEvent(e, releasePoint);\n\n              return;\n            }\n\n            _equalizePoints(tapReleasePoint, p0);\n\n            tapTimer = setTimeout(function () {\n              _dispatchTapEvent(e, releasePoint);\n\n              tapTimer = null;\n            }, 300);\n          }\n        }\n      }\n    });\n    /*>>tap*/\n\n    /*>>desktop-zoom*/\n\n    /**\n     *\n     * desktop-zoom.js:\n     *\n     * - Binds mousewheel event for paning zoomed image.\n     * - Manages \"dragging\", \"zoomed-in\", \"zoom-out\" classes.\n     *   (which are used for cursors and zoom icon)\n     * - Adds toggleDesktopZoom function.\n     * \n     */\n\n\n    var _wheelDelta;\n\n    _registerModule('DesktopZoom', {\n      publicMethods: {\n        initDesktopZoom: function initDesktopZoom() {\n          if (_oldIE) {\n            // no zoom for old IE (<=8)\n            return;\n          }\n\n          if (_likelyTouchDevice) {\n            // if detected hardware touch support, we wait until mouse is used,\n            // and only then apply desktop-zoom features\n            _listen('mouseUsed', function () {\n              self.setupDesktopZoom();\n            });\n          } else {\n            self.setupDesktopZoom(true);\n          }\n        },\n        setupDesktopZoom: function setupDesktopZoom(onInit) {\n          _wheelDelta = {};\n          var events = 'wheel mousewheel DOMMouseScroll';\n\n          _listen('bindEvents', function () {\n            framework.bind(template, events, self.handleMouseWheel);\n          });\n\n          _listen('unbindEvents', function () {\n            if (_wheelDelta) {\n              framework.unbind(template, events, self.handleMouseWheel);\n            }\n          });\n\n          self.mouseZoomedIn = false;\n\n          var hasDraggingClass,\n              updateZoomable = function updateZoomable() {\n            if (self.mouseZoomedIn) {\n              framework.removeClass(template, 'pswp--zoomed-in');\n              self.mouseZoomedIn = false;\n            }\n\n            if (_currZoomLevel < 1) {\n              framework.addClass(template, 'pswp--zoom-allowed');\n            } else {\n              framework.removeClass(template, 'pswp--zoom-allowed');\n            }\n\n            removeDraggingClass();\n          },\n              removeDraggingClass = function removeDraggingClass() {\n            if (hasDraggingClass) {\n              framework.removeClass(template, 'pswp--dragging');\n              hasDraggingClass = false;\n            }\n          };\n\n          _listen('resize', updateZoomable);\n\n          _listen('afterChange', updateZoomable);\n\n          _listen('pointerDown', function () {\n            if (self.mouseZoomedIn) {\n              hasDraggingClass = true;\n              framework.addClass(template, 'pswp--dragging');\n            }\n          });\n\n          _listen('pointerUp', removeDraggingClass);\n\n          if (!onInit) {\n            updateZoomable();\n          }\n        },\n        handleMouseWheel: function handleMouseWheel(e) {\n          if (_currZoomLevel <= self.currItem.fitRatio) {\n            if (_options.modal) {\n              if (!_options.closeOnScroll || _numAnimations || _isDragging) {\n                e.preventDefault();\n              } else if (_transformKey && Math.abs(e.deltaY) > 2) {\n                // close PhotoSwipe\n                // if browser supports transforms & scroll changed enough\n                _closedByScroll = true;\n                self.close();\n              }\n            }\n\n            return true;\n          } // allow just one event to fire\n\n\n          e.stopPropagation(); // https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n\n          _wheelDelta.x = 0;\n\n          if ('deltaX' in e) {\n            if (e.deltaMode === 1\n            /* DOM_DELTA_LINE */\n            ) {\n                // 18 - average line height\n                _wheelDelta.x = e.deltaX * 18;\n                _wheelDelta.y = e.deltaY * 18;\n              } else {\n              _wheelDelta.x = e.deltaX;\n              _wheelDelta.y = e.deltaY;\n            }\n          } else if ('wheelDelta' in e) {\n            if (e.wheelDeltaX) {\n              _wheelDelta.x = -0.16 * e.wheelDeltaX;\n            }\n\n            if (e.wheelDeltaY) {\n              _wheelDelta.y = -0.16 * e.wheelDeltaY;\n            } else {\n              _wheelDelta.y = -0.16 * e.wheelDelta;\n            }\n          } else if ('detail' in e) {\n            _wheelDelta.y = e.detail;\n          } else {\n            return;\n          }\n\n          _calculatePanBounds(_currZoomLevel, true);\n\n          var newPanX = _panOffset.x - _wheelDelta.x,\n              newPanY = _panOffset.y - _wheelDelta.y; // only prevent scrolling in nonmodal mode when not at edges\n\n          if (_options.modal || newPanX <= _currPanBounds.min.x && newPanX >= _currPanBounds.max.x && newPanY <= _currPanBounds.min.y && newPanY >= _currPanBounds.max.y) {\n            e.preventDefault();\n          } // TODO: use rAF instead of mousewheel?\n\n\n          self.panTo(newPanX, newPanY);\n        },\n        toggleDesktopZoom: function toggleDesktopZoom(centerPoint) {\n          centerPoint = centerPoint || {\n            x: _viewportSize.x / 2 + _offset.x,\n            y: _viewportSize.y / 2 + _offset.y\n          };\n\n          var doubleTapZoomLevel = _options.getDoubleTapZoom(true, self.currItem);\n\n          var zoomOut = _currZoomLevel === doubleTapZoomLevel;\n          self.mouseZoomedIn = !zoomOut;\n          self.zoomTo(zoomOut ? self.currItem.initialZoomLevel : doubleTapZoomLevel, centerPoint, 333);\n          framework[(!zoomOut ? 'add' : 'remove') + 'Class'](template, 'pswp--zoomed-in');\n        }\n      }\n    });\n    /*>>desktop-zoom*/\n\n    /*>>history*/\n\n    /**\n     *\n     * history.js:\n     *\n     * - Back button to close gallery.\n     * \n     * - Unique URL for each slide: example.com/&pid=1&gid=3\n     *   (where PID is picture index, and GID and gallery index)\n     *   \n     * - Switch URL when slides change.\n     * \n     */\n\n\n    var _historyDefaultOptions = {\n      history: true,\n      galleryUID: 1\n    };\n\n    var _historyUpdateTimeout,\n        _hashChangeTimeout,\n        _hashAnimCheckTimeout,\n        _hashChangedByScript,\n        _hashChangedByHistory,\n        _hashReseted,\n        _initialHash,\n        _historyChanged,\n        _closedFromURL,\n        _urlChangedOnce,\n        _windowLoc,\n        _supportsPushState,\n        _getHash = function _getHash() {\n      return _windowLoc.hash.substring(1);\n    },\n        _cleanHistoryTimeouts = function _cleanHistoryTimeouts() {\n      if (_historyUpdateTimeout) {\n        clearTimeout(_historyUpdateTimeout);\n      }\n\n      if (_hashAnimCheckTimeout) {\n        clearTimeout(_hashAnimCheckTimeout);\n      }\n    },\n        // pid - Picture index\n    // gid - Gallery index\n    _parseItemIndexFromURL = function _parseItemIndexFromURL() {\n      var hash = _getHash(),\n          params = {};\n\n      if (hash.length < 5) {\n        // pid=1\n        return params;\n      }\n\n      var i,\n          vars = hash.split('&');\n\n      for (i = 0; i < vars.length; i++) {\n        if (!vars[i]) {\n          continue;\n        }\n\n        var pair = vars[i].split('=');\n\n        if (pair.length < 2) {\n          continue;\n        }\n\n        params[pair[0]] = pair[1];\n      }\n\n      if (_options.galleryPIDs) {\n        // detect custom pid in hash and search for it among the items collection\n        var searchfor = params.pid;\n        params.pid = 0; // if custom pid cannot be found, fallback to the first item\n\n        for (i = 0; i < _items.length; i++) {\n          if (_items[i].pid === searchfor) {\n            params.pid = i;\n            break;\n          }\n        }\n      } else {\n        params.pid = parseInt(params.pid, 10) - 1;\n      }\n\n      if (params.pid < 0) {\n        params.pid = 0;\n      }\n\n      return params;\n    },\n        _updateHash = function _updateHash() {\n      if (_hashAnimCheckTimeout) {\n        clearTimeout(_hashAnimCheckTimeout);\n      }\n\n      if (_numAnimations || _isDragging) {\n        // changing browser URL forces layout/paint in some browsers, which causes noticable lag during animation\n        // that's why we update hash only when no animations running\n        _hashAnimCheckTimeout = setTimeout(_updateHash, 500);\n        return;\n      }\n\n      if (_hashChangedByScript) {\n        clearTimeout(_hashChangeTimeout);\n      } else {\n        _hashChangedByScript = true;\n      }\n\n      var pid = _currentItemIndex + 1;\n\n      var item = _getItemAt(_currentItemIndex);\n\n      if (item.hasOwnProperty('pid')) {\n        // carry forward any custom pid assigned to the item\n        pid = item.pid;\n      }\n\n      var newHash = _initialHash + '&' + 'gid=' + _options.galleryUID + '&' + 'pid=' + pid;\n\n      if (!_historyChanged) {\n        if (_windowLoc.hash.indexOf(newHash) === -1) {\n          _urlChangedOnce = true;\n        } // first time - add new hisory record, then just replace\n\n      }\n\n      var newURL = _windowLoc.href.split('#')[0] + '#' + newHash;\n\n      if (_supportsPushState) {\n        if ('#' + newHash !== window.location.hash) {\n          history[_historyChanged ? 'replaceState' : 'pushState']('', document.title, newURL);\n        }\n      } else {\n        if (_historyChanged) {\n          _windowLoc.replace(newURL);\n        } else {\n          _windowLoc.hash = newHash;\n        }\n      }\n\n      _historyChanged = true;\n      _hashChangeTimeout = setTimeout(function () {\n        _hashChangedByScript = false;\n      }, 60);\n    };\n\n    _registerModule('History', {\n      publicMethods: {\n        initHistory: function initHistory() {\n          framework.extend(_options, _historyDefaultOptions, true);\n\n          if (!_options.history) {\n            return;\n          }\n\n          _windowLoc = window.location;\n          _urlChangedOnce = false;\n          _closedFromURL = false;\n          _historyChanged = false;\n          _initialHash = _getHash();\n          _supportsPushState = 'pushState' in history;\n\n          if (_initialHash.indexOf('gid=') > -1) {\n            _initialHash = _initialHash.split('&gid=')[0];\n            _initialHash = _initialHash.split('?gid=')[0];\n          }\n\n          _listen('afterChange', self.updateURL);\n\n          _listen('unbindEvents', function () {\n            framework.unbind(window, 'hashchange', self.onHashChange);\n          });\n\n          var returnToOriginal = function returnToOriginal() {\n            _hashReseted = true;\n\n            if (!_closedFromURL) {\n              if (_urlChangedOnce) {\n                history.back();\n              } else {\n                if (_initialHash) {\n                  _windowLoc.hash = _initialHash;\n                } else {\n                  if (_supportsPushState) {\n                    // remove hash from url without refreshing it or scrolling to top\n                    history.pushState('', document.title, _windowLoc.pathname + _windowLoc.search);\n                  } else {\n                    _windowLoc.hash = '';\n                  }\n                }\n              }\n            }\n\n            _cleanHistoryTimeouts();\n          };\n\n          _listen('unbindEvents', function () {\n            if (_closedByScroll) {\n              // if PhotoSwipe is closed by scroll, we go \"back\" before the closing animation starts\n              // this is done to keep the scroll position\n              returnToOriginal();\n            }\n          });\n\n          _listen('destroy', function () {\n            if (!_hashReseted) {\n              returnToOriginal();\n            }\n          });\n\n          _listen('firstUpdate', function () {\n            _currentItemIndex = _parseItemIndexFromURL().pid;\n          });\n\n          var index = _initialHash.indexOf('pid=');\n\n          if (index > -1) {\n            _initialHash = _initialHash.substring(0, index);\n\n            if (_initialHash.slice(-1) === '&') {\n              _initialHash = _initialHash.slice(0, -1);\n            }\n          }\n\n          setTimeout(function () {\n            if (_isOpen) {\n              // hasn't destroyed yet\n              framework.bind(window, 'hashchange', self.onHashChange);\n            }\n          }, 40);\n        },\n        onHashChange: function onHashChange() {\n          if (_getHash() === _initialHash) {\n            _closedFromURL = true;\n            self.close();\n            return;\n          }\n\n          if (!_hashChangedByScript) {\n            _hashChangedByHistory = true;\n            self.goTo(_parseItemIndexFromURL().pid);\n            _hashChangedByHistory = false;\n          }\n        },\n        updateURL: function updateURL() {\n          // Delay the update of URL, to avoid lag during transition, \n          // and to not to trigger actions like \"refresh page sound\" or \"blinking favicon\" to often\n          _cleanHistoryTimeouts();\n\n          if (_hashChangedByHistory) {\n            return;\n          }\n\n          if (!_historyChanged) {\n            _updateHash(); // first time\n\n          } else {\n            _historyUpdateTimeout = setTimeout(_updateHash, 800);\n          }\n        }\n      }\n    });\n    /*>>history*/\n\n\n    framework.extend(self, publicMethods);\n  };\n\n  return PhotoSwipe;\n});","require(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nvar Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n/** Used as references for various `Number` constants. */\n\n\nvar INFINITY = 1 / 0;\n/** Used to convert symbols to primitives and strings. */\n\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\n\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n\n  var result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n}\n\nmodule.exports = baseToString;"],"sourceRoot":""}